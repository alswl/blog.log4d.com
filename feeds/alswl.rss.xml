<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>Log4D</title><link>https://blog.alswl.com/</link><description></description><lastBuildDate>Tue, 19 Sep 2017 16:43:45 +0800</lastBuildDate><item><title>ä¸€ä¸ªå…³äº nolock çš„æ•…äº‹</title><link>https://blog.alswl.com/2017/09/sql-server-nolock/</link><description>&lt;p&gt;&lt;img alt="sql-server.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201709/sql-server.png"/&gt;&lt;/p&gt;
&lt;p&gt;åŠ å…¥æ²ªæ±Ÿä¸ä¹…ï¼Œæˆ‘å°±è¢«æ‰”åˆ°ä¸€ä¸ªå°†é›†å›¢ SQL Sever çš„æ•°æ®åº“è¿ç§»åˆ° MySQL çš„é¡¹ç›®é‡Œï¼Œ
åŒæ—¶ä¼´éšè¿›è¡Œçš„è¿˜æœ‰ .net ç³»ç»Ÿè¿ç§»åˆ° Java ç³»ç»Ÿã€‚
åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘å‘ç°äº†ä¸€ä¸ªå¾ˆæœ‰è¶£çš„ç°è±¡ï¼šå†å²é—ç•™çš„ .net é¡¹ç›®ä¸­ï¼Œ
å‡ ä¹æ‰€æœ‰çš„ SQL ä¸­éƒ½ä¼šä½¿ç”¨ä¸€ä¸ªå…³é”®å­—ï¼š&lt;code&gt;nolock&lt;/code&gt;ã€‚
è¿™è®©æˆ‘å¾ˆå›°æƒ‘ï¼Œ&lt;code&gt;nolock&lt;/code&gt; çš„å­—é¢æ„æ€æ˜¯å¯¹å½“å‰æŠ€æœ¯ä¸ä½¿ç”¨é”æŠ€æœ¯ï¼Œä¸ºä»€ä¹ˆè¦è¿™æ ·ç”¨å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æˆ‘æ‰¾äº†ä¸€ä¸ªèŒƒä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; 
&lt;span class="k"&gt;FROM&lt;/span&gt;   &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;dbo&lt;/span&gt;&lt;span class="p"&gt;].[&lt;/span&gt;&lt;span class="n"&gt;foos&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;WITH&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nolock&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 
&lt;span class="k"&gt;WHERE&lt;/span&gt;  &lt;span class="n"&gt;aField&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;42&lt;/span&gt; 
       &lt;span class="k"&gt;AND&lt;/span&gt; &lt;span class="n"&gt;bField&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä½œä¸ºæ¨ªå‘æ”¯æŒå·¥ç¨‹å¸ˆï¼Œå¼€å‘å·¥ç¨‹å¸ˆä¼šé—®æˆ‘ï¼šã€Œæ•°æ®åº“å³å°†ä» SQL Server
è¿ç§»åˆ° MySQLï¼Œæˆ‘ä»¬ç¼–ç ä¸­è¿˜éœ€è¦ä½¿ç”¨ &lt;code&gt;nolock&lt;/code&gt; ä¹ˆï¼Ÿ
MySQL é‡Œé¢å¯¹åº”çš„å†™æ³•æ˜¯ä»€ä¹ˆï¼Ÿã€ã€‚
æˆ‘å¹¶æ²¡æœ‰ SQL Server çš„ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç»éªŒï¼Œä¸€æ—¶é—´æ— æ³•å›ç­”ã€‚
äºæ˜¯è¯¾ååšç›¸å…³çŸ¥è¯†å­¦ä¹ ï¼Œè¿™é‡Œå°±æ˜¯è¿™æ¬¡å­¦ä¹ çš„ä¸€ç‚¹æˆæœã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜å°†è¢«æ‹†è§£æˆä¸‰ä¸ªå°é—®é¢˜è¿›è¡Œå›ç­”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;nolock&lt;/code&gt; æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆä¼šéœ€è¦åœ¨æ¯ä¸ª Query è¯­å¥ä½¿ç”¨ &lt;code&gt;nolock&lt;/code&gt;ï¼Ÿ&lt;/li&gt;
&lt;li&gt;MySQL çš„å¯¹åº”å†™æ³•æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®©æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæ¥çœ‹ã€‚&lt;/p&gt;
&lt;h2 id="di-yi-ge-wen-ti-nolock-shi-shi-yao"&gt;ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šnolock æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;nolock&lt;/code&gt; æ˜¯ SQL Server çš„ä¸€ä¸ªå…³é”®å­—ï¼Œè¿™ç±»å…³é”®å­—å®˜æ–¹å°†å…¶ç§°ä¹‹ä¸º Hintsã€‚
Hints çš„è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†èƒ½å¤Ÿè®© SQL è¯­å¥åœ¨è¿è¡Œæ—¶ï¼ŒåŠ¨æ€ä¿®æ”¹æŸ¥è¯¢ä¼˜åŒ–å™¨çš„è¡Œä¸ºã€‚
åœ¨è¯­æ³•ä¸Šï¼ŒHints ä»¥ &lt;code&gt;WITH&lt;/code&gt; å¼€å¤´ã€‚é™¤äº† &lt;code&gt;WITH(nolock)&lt;/code&gt;ï¼Œ
è¿˜æœ‰ &lt;code&gt;TABLOCK&lt;/code&gt; / &lt;code&gt;INDEX&lt;/code&gt; / &lt;code&gt;ROWLOCK&lt;/code&gt; ç­‰å¸¸è§çš„ Hintsã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹ MSDN æ–‡æ¡£ä¸Šçš„è§£é‡Šï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;nolock&lt;/code&gt; çš„ä½œç”¨ç­‰åŒäº &lt;code&gt;READUNCOMMITTED&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;READUNCOMMITTED&lt;/code&gt; è¿™æ˜¯ä¸€ç§ RDBMS éš”ç¦»çº§åˆ«ã€‚
ä½¿ç”¨ &lt;code&gt;nolock&lt;/code&gt; è¿™ä¸ªå…³é”®è¯ï¼Œå¯ä»¥å°†å½“å‰æŸ¥è¯¢è¯­å¥éš”ç¦»çº§åˆ«è°ƒæ•´ä¸º &lt;code&gt;READ UNCOMMITTED&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è®¡ç®—æœºåŸºç¡€å¥½çš„åŒå­¦ï¼Œåº”è¯¥å¯¹ &lt;code&gt;READUNCOMMITTED&lt;/code&gt; è¿™ä¸ªå…³é”®è¯è¿˜æœ‰å°è±¡ã€‚
è€ŒåŸºç¡€ä¸æ‰å®çš„åŒå­¦ï¼Œä¹Ÿè®¸åªæ˜¯è§‰å¾—è¿™ä¸ªå…³é”®è¯çœ¼ç†Ÿï¼Œä½†æ˜¯è®²ä¸æ¸…æ¥šè¿™æ˜¯ä»€ä¹ˆã€‚
å¦‚æœé˜…è¯»è¿™å¥è¯å®Œå…¨æ²¡æœ‰ç†è§£å›°éš¾ï¼Œé‚£æ­å–œä½ ï¼Œä½ å¯ä»¥ç›´æ¥è·³åˆ°ä¸‹ä¸€èŠ‚äº†ã€‚
å…¶ä»–æœ‹å‹å°±è·Ÿéšæˆ‘ç»§ç»­æ¢ç´¢ä¸€ä¸‹ RDMBS çš„ä¸–ç•Œï¼Œå¤ä¹ ä¸€ä¸‹éš”ç¦»çº§åˆ«ç›¸å…³çš„çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;h3 id="ge-chi-ji-bie"&gt;éš”ç¦»çº§åˆ«&lt;/h3&gt;
&lt;p&gt;SQL 92 å®šä¹‰äº†å››ä¸ªéš”ç¦»çº§åˆ«
ï¼ˆ&lt;a href="https://en.wikipedia.org/wiki/Isolation_(database_systems)#Isolation_levels"&gt;Isolation (database systems) - Wikipedia&lt;/a&gt;ï¼‰ï¼Œ
å…¶éš”ç¦»ç¨‹åº¦ç”±é«˜åˆ°ä½æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯åºåˆ—åŒ–ï¼ˆSerializableï¼‰&lt;/li&gt;
&lt;li&gt;å¯é‡å¤è¯»ï¼ˆRepeatable readsï¼‰&lt;/li&gt;
&lt;li&gt;æäº¤è¯»ï¼ˆRead committedï¼‰&lt;/li&gt;
&lt;li&gt;æœªæäº¤è¯»ï¼ˆRead uncommittedï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å•å•å°†è¿™å‡ ä¸ªæŠ€æœ¯åè¯ç®€å•åœ°ç½—åˆ—å‡ºæ¥å¹¶æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œè¿˜æœ‰è¿™å‡ ä¸ªé—®é¢˜éœ€è¦ææ¸…æ¥šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éš”ç¦»çº§åˆ«è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆå­˜åœ¨å¤šç§éš”ç¦»çº§åˆ«ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬æ‰€è°“çš„éš”ç¦»çº§åˆ«ä»é«˜åˆ°ä½ï¼Œæ˜¯ä»€ä¹ˆå«ä¹‰ï¼Œå¦‚ä½•é€å±‚é™ä½çš„ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é¦–å…ˆæ˜¯ã€Œéš”ç¦»çº§åˆ«è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿã€ï¼Œ
ç”¨é€šä¿—çš„è¯­è¨€æè¿°å°±æ˜¯ï¼šåŠ ä¸€ä¸ªé’ˆå¯¹æ•°æ®èµ„æºçš„é”ï¼Œä»è€Œä¿è¯æ•°æ®æ“ä½œè¿‡ç¨‹ä¸­çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯æœ€ç®€å•çš„å®ç°æ–¹å¼ï¼Œè¿‡äºç²—æš´çš„éš”ç¦»æ€§å°†å¤§å¹…é™ä½æ€§èƒ½ï¼Œ
å¤šç§éš”ç¦»çº§åˆ«å°±æ˜¯æ˜¯ä¸ºäº†å–å¾—ä¸¤è€…çš„å¹³è¡¡ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å›ç­”ç¬¬äºŒä¸ªé—®é¢˜ã€Œä¸ºä»€ä¹ˆå­˜åœ¨å¤šç§ç²’åº¦çš„éš”ç¦»çº§åˆ«ï¼Ÿã€
è¿™å…¶å®æ˜¯ä¸€ä¸ªéœ€æ±‚å’Œæ€§èƒ½é€æ­¥å¹³è¡¡çš„è¿‡ç¨‹ï¼Œ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é€å±‚é€’è¿›ï¼Œå°†éš”ç¦»çº§åˆ«ç”±ä½åˆ°é«˜é€å±‚é¢ä¸´è¿›è¡Œåˆ†æã€‚&lt;/p&gt;
&lt;h4 id="read-uncommitted"&gt;Read Uncommitted&lt;/h4&gt;
&lt;p&gt;Read Uncommitted è¿™ä¸ªéš”ç¦»çº§åˆ«æ˜¯æœ€ä½ç²’åº¦çš„éš”ç¦»çº§åˆ«ï¼Œ
å¦‚åŒå®ƒçš„åå­—ä¸€èˆ¬ï¼Œå®ƒå…è®¸åœ¨æ“ä½œè¿‡ç¨‹ä¸­ä¸ä¼šé”ï¼Œä»è€Œè®©å½“å‰äº‹åŠ¡è¯»å–åˆ°å…¶ä»–äº‹åŠ¡çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="read-uncommitted.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201709/read-uncommitted.png"/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨ Transaction 2 æŸ¥è¯¢æ—¶å€™ï¼ŒTransaction 1 æœªæäº¤çš„æ•°æ®å°±å·²ç»å¯¹å¤–æš´éœ²ã€‚
å¦‚æœ Transaction 1 æœ€å Rollback äº†ï¼Œé‚£ä¹ˆ Transaction è¯»å–çš„æ•°æ®å°±æ˜¯é”™è¯¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;ã€Œè¯»åˆ°äº†å…¶ä»–äº‹åŠ¡ä¿®æ”¹äº†ä½†æ˜¯æœªæäº¤çš„æ•°æ®ã€å³æ˜¯&lt;strong&gt;è„è¯»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id="read-committed_1"&gt;Read Committed&lt;/h3&gt;
&lt;p&gt;æƒ³è¦é¿å…è„è¯»ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯åœ¨äº‹åŠ¡æ›´æ–°æ“ä½œä¸ŠåŠ ä¸€æŠŠå†™é”ï¼Œ
å…¶ä»–äº‹åŠ¡éœ€è¦è¯»å–æ•°æ®æ—¶å€™ï¼Œéœ€è¦ç­‰å¾…è¿™æŠŠå†™é”é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="read-committed-1.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201709/read-committed-1.png"/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒTransaction 1 åœ¨å†™æ“ä½œæ—¶å€™ï¼Œå¯¹æ•°æ® A åŠ äº†å†™é”ï¼Œ
é‚£ä¹ˆ Transaction 2 æƒ³è¦è¯»å– Aï¼Œå°±å¿…é¡»ç­‰å¾…è¿™æŠŠé”é‡Šæ”¾ã€‚
è¿™æ ·å°±é¿å…å½“å‰äº‹åŠ¡è¯»å–å…¶ä»–äº‹åŠ¡çš„æœªæäº¤æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯é™¤äº†è„è¯»ï¼Œä¸€è‡´æ€§çš„è¦æ±‚è¿˜éœ€è¦ã€Œå¯é‡å¤è¯»ã€ï¼Œå³
ã€Œåœ¨ä¸€ä¸ªäº‹åŠ¡å†…ï¼Œå¤šæ¬¡è¯»å–çš„ç‰¹å®šæ•°æ®éƒ½å¿…é¡»æ˜¯ä¸€è‡´çš„
ï¼ˆå³ä¾¿åœ¨è¿™è¿‡ç¨‹ä¸­è¯¥æ•°æ®è¢«å…¶ä»–äº‹åŠ¡ä¿®æ”¹ï¼‰ã€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="read-committed-2.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201709/read-committed-2.png"/&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾å°±æ˜¯æ²¡èƒ½ä¿è¯ã€Œå¯é‡å¤åº¦ã€ï¼ŒTransaction 2 ç¬¬ä¸€æ¬¡è¯»å–åˆ°äº†æ•°æ® Aï¼Œ
ç„¶å Transaction 1 å¯¹æ•°æ® A æ›´æ–°åˆ° A'ï¼Œé‚£ä¹ˆå½“ Tranction 2 å†æ¬¡è¯»å– A æ—¶å€™ï¼Œ
å®ƒæœ¬æ¥æœŸæœ›è¯»åˆ° Aï¼Œä½†æ˜¯å´è¯»åˆ°äº† A'ï¼Œè¿™å’Œå®ƒçš„é¢„æœŸä¸ç›¸ç¬¦äº†ã€‚
è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦æå‡éš”ç¦»çº§åˆ«åˆ°ã€ŒRepeatable Readã€ã€‚&lt;/p&gt;
&lt;h3 id="repeatable-read"&gt;Repeatable Read&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªåå­—éå¸¸å®¹æ˜“ç†è§£ï¼Œå³ä¿éšœåœ¨ä¸€ä¸ªäº‹åŠ¡å†…é‡å¤è¯»å–æ—¶ï¼Œ
å§‹ç»ˆèƒ½å¤Ÿè¯»å–åˆ°ç›¸åŒçš„å†…å®¹ã€‚æ¥çœ‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="repeatable-read.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201709/repeatable-read.png"/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šæ‰€ç¤ºï¼Œå½“ Transation 2 è¯»å– A æ—¶å€™ï¼Œä¼šåŒæ—¶åŠ ä¸Šä¸€æŠŠ Read Lockï¼Œ
è¿™æŠŠé”ä¼šé˜»æ­¢ Transaction 1 å°† A æ›´æ–°ä¸º A'ï¼ŒTransaction 1 è¦ä¹ˆé€‰æ‹©ç­‰å¾…ï¼Œ
è¦ä¹ˆå°±é€‰æ‹©ç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬å°†éš”ç¦»çº§åˆ«å‡åˆ°è¿™é‡Œæ˜¯ï¼Œä¼¼ä¹å·²ç»å®Œç¾æ— ç¼ºäº†ã€‚
ä¸ç®¡æ˜¯å†™å…¥è¿˜æ˜¯è¯»å–ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ä¸è¢«ç ´åã€‚
ä½†æ˜¯å…¶å®è¿˜æœ‰æ¼æ´ï¼šæ–°å¢æ•°æ®çš„ä¸€è‡´æ€§ï¼&lt;/p&gt;
&lt;p&gt;ä¸Šè¿°çš„ä¸‰ä¸ªéš”ç¦»çº§åˆ«ï¼Œéƒ½æ˜¯å¯¹ç‰¹å®šçš„ä¸€è¡Œæ•°æ®è¿›è¡ŒåŠ é”ï¼Œ
é‚£å‡å¦‚å°†è¦æ›´æ–°çš„æ•°æ®è¿˜æ²¡æœ‰å†™å…¥æ•°æ®åº“ï¼Œå¦‚ä½•è¿›è¡ŒåŠ é”å‘¢ï¼Ÿ
æ¯”å¦‚è‡ªå¢è¡¨çš„æ–°é”®ï¼Œæˆ–è€…ç°æœ‰æ•°æ®å†…çš„ç©ºç¼º Keyï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img alt="repeatable-read-2.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201709/repeatable-read-2.png"/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾æ‰€ç¤ºï¼Œåœ¨ä¸Šè¿°æ“ä½œä¸­ï¼ŒTransaction 2 æŸ¥è¯¢äº†ä¸€ä¸ªèŒƒå›´ Range ä¹‹åï¼ŒTransaction 1
åœ¨è¿™ä¸ªèŒƒå›´å†…æ’å…¥äº†ä¸€æ¡æ–°çš„æ•°æ®ã€‚æ­¤æ—¶ Transaction 2 å†æ¬¡è¿›è¡ŒèŒƒå›´æŸ¥è¯¢æ—¶å€™ï¼Œ
ä¼šå‘ç°æŸ¥è¯¢åˆ°çš„ Range å’Œä¸Šæ¬¡å·²ç»ä¸ä¸€æ ·äº†ï¼Œå¤šäº†ä¸€ä¸ª newAã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯æœ€é«˜éš”ç¦»çº§åˆ«æ‰èƒ½è§£å†³çš„ã€Œå¹»å½±è¯»ã€ï¼š
å½“ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„æŸ¥è¯¢è¯­å¥æ‰§è¡Œå¾—åˆ°ä¸åŒçš„ç»“æœé›†ï¼Œ
è¿™å¸¸å¸¸åœ¨èŒƒå›´æŸ¥è¯¢ä¸­å‡ºç°ã€‚&lt;/p&gt;
&lt;h3 id="serializable"&gt;Serializable&lt;/h3&gt;
&lt;p&gt;ä»å­—é¢æ„æ€çœ‹ï¼Œè¯¥éš”ç¦»çº§åˆ«éœ€è¦å°†è¢«æ“ä½œçš„æ•°æ®åŠ é”åŠ ä¸€æŠŠé”ã€‚
ä»»ä½•è¯»å†™æ“ä½œéƒ½éœ€è¦å…ˆè·å¾—è¿™æŠŠé”æ‰èƒ½è¿›è¡Œã€‚å¦‚æœæ“ä½œä¸­å¸¦ WHERE æ¡ä»¶ï¼Œ
è¿˜éœ€è¦å°† WHERE æ¡ä»¶ç›¸å…³çš„èŒƒå›´å…¨éƒ¨åŠ é”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="serializable.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201709/serializable.png"/&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾æ‰€ç¤ºï¼Œåœ¨ Transaction 2 æ“ä½œè¿‡ç¨‹ä¸­ï¼Œä¼šå¯¹ Range è¿›è¡ŒåŠ é”ï¼Œ
æ­¤æ—¶å…¶ä»–äº‹åŠ¡æ— æ³•æ“ä½œå…¶ä¸­çš„æ•°æ®ï¼Œåªèƒ½ç­‰å¾…æˆ–è€…æ”¾å¼ƒã€‚&lt;/p&gt;
&lt;h3 id="db-de-mo-ren-ge-chi-ji-bie"&gt;DB çš„é»˜è®¤éš”ç¦»çº§åˆ«&lt;/h3&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»ç†è§£äº†éš”ç¦»çº§åˆ«ï¼Œé‚£ä¹ˆã€ŒSQL Server é»˜è®¤ä½¿ç”¨çš„éš”ç¦»çº§åˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿã€
æ ¹æ® &lt;a href="https://msdn.microsoft.com/en-us/library/ms175909.aspx"&gt;Customizing Transaction Isolation Level&lt;/a&gt;
è¿™ä¸ªæ–‡æ¡£æè¿°ï¼ŒSQL Server é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯ READ COMMITTEDã€‚&lt;/p&gt;
&lt;p&gt;MySQL InnoDB çš„é»˜è®¤éš”ç¦»çº§åˆ«å¯ä»¥åœ¨ &lt;a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-transaction-isolation-levels.html"&gt;MySQL :: MySQL 5.7 Reference Manual :: 14.5.2.1 Transaction Isolation Levels&lt;/a&gt;
æŸ¥è¯¢åˆ°ï¼Œæ˜¯ Read-Repeatableã€‚&lt;/p&gt;
&lt;p&gt;éš”ç¦»çº§åˆ«å¹¶æ²¡æœ‰æœ€å¥½ä¹‹è¯´ï¼Œè¶Šé«˜éš”ç¦»çº§åˆ«ä¼šå¯¼è‡´æ€§èƒ½é™ä½ã€‚
éš”ç¦»çº§åˆ«çš„è®¾å®šéœ€è¦è€ƒè™‘ä¸šåŠ¡åœºæ™¯ã€‚&lt;/p&gt;
&lt;h2 id="di-er-ge-wen-ti-wei-shi-yao-yao-shi-yong-nolock_1"&gt;ç¬¬äºŒä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆè¦ä½¿ç”¨ nolockï¼Ÿ&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å·²ç»çŸ¥é“ &lt;code&gt;nolock&lt;/code&gt; çš„ä½œç”¨æ˜¯åŠ¨æ€è°ƒæ•´éš”ç¦»çº§åˆ«ã€‚
é‚£ä¸ºä»€ä¹ˆåœ¨ SQL Server çš„ Query æ“ä½œä¸­ï¼Œéœ€è¦å¯ç”¨ &lt;code&gt;nolock&lt;/code&gt; å‘¢ï¼Ÿ
æˆ‘é—®äº†å‡ ä¸ªå·¥ç¨‹å¸ˆï¼Œä»–ä»¬éƒ½è¯­ç„‰ä¸è¯¦ï¼Œæˆ–è€…æ˜¯å¾ˆæ³›æ³›åœ°è¯´ï¼šç¦ç”¨è¯»å†™é”ï¼Œå¯ä»¥æå‡æŸ¥è¯¢æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶æˆ‘äº§ç”Ÿäº†å›°æƒ‘ï¼šã€Œé‚£ä¹ˆæ­¤æ—¶çš„æ•°æ®ä¸€è‡´æ€§å°±ä¸éœ€è¦è€ƒè™‘äº†ä¹ˆï¼Ÿ
æˆ‘ä»¬çš„æ•°æ®åº“ï¼Œå·²ç»åˆ°äº†éœ€è¦ç¦ç”¨é”çš„ç¨‹åº¦æ¥è¿›è¡Œä¼˜åŒ–äº†ä¹ˆï¼Ÿã€
æˆ‘äºæ˜¯è‡ªå·±å»æ¢ç´¢ï¼Œæƒ³çŸ¥é“ä¸ºä½•å¹¿æ³›ä½¿ç”¨ &lt;code&gt;nolock&lt;/code&gt; ä¼šæˆä¸ºä¸€ä¸ªã€Œæœ€ä½³å®è·µã€ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç”±äºæ—¶ä»£ä¹…è¿œï¼Œæˆ‘åªèƒ½è¿½è¿°åˆ°ä¸€äº›ç›¸å…³ä¿¡æ¯ï¼Œæ¯”å¦‚
&lt;a href="https://blogs.msdn.microsoft.com/sqlcat/2013/09/16/top-10-sql-server-integration-services-best-practices/"&gt;Top 10 SQL Server Integration Services Best Practices | SQL Server Customer Advisory Team&lt;/a&gt;
ä¸­æåˆ° ã€ŒUse the NOLOCK or TABLOCK hints to remove locking overhead.ã€
ä½†è¿™ä¸ªæ˜¯é’ˆå¯¹äº SSIS æŸ¥è¯¢å™¨ï¼Œå¹¶ä¸æ˜¯é’ˆå¯¹ä¸šåŠ¡å†…éƒ¨ä½¿ç”¨ã€‚
åè€Œèƒ½æ‰¾åˆ°ä¸€å¤§å †çš„æ–‡æ¡£ï¼Œåœ¨åå¯¹ä½¿ç”¨ &lt;code&gt;nolock&lt;/code&gt; è¿™ä¸ªå…³é”®å­—ã€‚&lt;/p&gt;
&lt;p&gt;ç»§ç»­è¿½æŸ¥ä¸‹å»ï¼Œè¿˜ä»è››ä¸é©¬è¿¹ä¸­å¯»æ‰¾åˆ°ä¸€ä¸ªä½¿ç”¨ &lt;code&gt;nolock&lt;/code&gt; çš„ç†ç”±ï¼Œ
SQL Server é»˜è®¤æ˜¯ Read Committedï¼Œ
æ›´æ–°æ“ä½œä¼šäº§ç”Ÿæ’å®ƒé”ï¼Œä¼š block è¿™ä¸ªèµ„æºçš„æŸ¥è¯¢æ“ä½œï¼Œ
å·²æ’å…¥ä½†æœªæäº¤çš„æ•°æ®ä¸»é”®ä¹Ÿä¼šäº§ç”Ÿä¸€ä¸ªå…±äº«é”ï¼Œ
è€Œæ­¤æ—¶åˆ™ä¼š block è¿™å¼ è¡¨çš„å…¨è¡¨æŸ¥è¯¢å’Œ Insert æ“ä½œã€‚
ä¸ºäº†é¿å… Insert è¢« Blockï¼Œå°±ä¼šæ¨èä½¿ç”¨ &lt;code&gt;nolock&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†éªŒè¯è¿™æ˜¯åŸå› ï¼Œæˆ‘åšä¸€äº› &lt;code&gt;nolock&lt;/code&gt; æµ‹è¯•ã€‚&lt;/p&gt;
&lt;h3 id="nolock-ce-shi"&gt;nolock æµ‹è¯•&lt;/h3&gt;
&lt;p&gt;æ£€æŸ¥å½“å‰ SQL Server éš”ç¦»çº§åˆ«ï¼Œç¡®è®¤éš”ç¦»çº§åˆ«æ˜¯é»˜è®¤çš„ Read Committedï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;CASE&lt;/span&gt; &lt;span class="n"&gt;transaction_isolation_level&lt;/span&gt;
       &lt;span class="k"&gt;WHEN&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
         &lt;span class="k"&gt;THEN&lt;/span&gt; &lt;span class="s1"&gt;'Unspecified'&lt;/span&gt;
       &lt;span class="k"&gt;WHEN&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
         &lt;span class="k"&gt;THEN&lt;/span&gt; &lt;span class="s1"&gt;'ReadUncommitted'&lt;/span&gt;
       &lt;span class="k"&gt;WHEN&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
         &lt;span class="k"&gt;THEN&lt;/span&gt; &lt;span class="s1"&gt;'ReadCommitted'&lt;/span&gt;
       &lt;span class="k"&gt;WHEN&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;
         &lt;span class="k"&gt;THEN&lt;/span&gt; &lt;span class="s1"&gt;'Repeatable'&lt;/span&gt;
       &lt;span class="k"&gt;WHEN&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;
         &lt;span class="k"&gt;THEN&lt;/span&gt; &lt;span class="s1"&gt;'Serializable'&lt;/span&gt;
       &lt;span class="k"&gt;WHEN&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;
         &lt;span class="k"&gt;THEN&lt;/span&gt; &lt;span class="s1"&gt;'Snapshot'&lt;/span&gt; &lt;span class="k"&gt;END&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;TRANSACTION_ISOLATION_LEVEL&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dm_exec_sessions&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;session_id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;@@&lt;/span&gt;&lt;span class="n"&gt;SPID&lt;/span&gt;

&lt;span class="c1"&gt;-- ReadCommitted&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åˆ›å»ºè¡¨ï¼Œåˆå§‹åŒ–æ•°æ®ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt; &lt;span class="k"&gt;TABLE&lt;/span&gt; &lt;span class="n"&gt;foos&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
  &lt;span class="n"&gt;id&lt;/span&gt;    &lt;span class="nb"&gt;BIGINT&lt;/span&gt;    &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="k"&gt;NCHAR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="k"&gt;CONSTRAINT&lt;/span&gt; &lt;span class="n"&gt;pk&lt;/span&gt; &lt;span class="k"&gt;PRIMARY&lt;/span&gt; &lt;span class="k"&gt;KEY&lt;/span&gt; &lt;span class="n"&gt;clustered&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;INSERT&lt;/span&gt; &lt;span class="k"&gt;INTO&lt;/span&gt; &lt;span class="n"&gt;foos&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;VALUES&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'1'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'2'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ Transaction 1 ä¸­å‘èµ· Update æ“ä½œï¼ˆINSERT / DELETE åŒç†ï¼‰ï¼Œä½†æ˜¯å¹¶ä¸åš Commit æäº¤ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;BEGIN&lt;/span&gt; &lt;span class="n"&gt;TRANSACTION&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;INSERT&lt;/span&gt; &lt;span class="k"&gt;INTO&lt;/span&gt; &lt;span class="n"&gt;foos&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;VALUES&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'3'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¼€å¯ä¸€ä¸ªæ–°çš„ Sessionï¼Œå‘èµ·å…¨è¡¨æŸ¥è¯¢å’Œæ–°å¢ PK æŸ¥è¯¢æ“ä½œï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;foos&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;foos&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸å‡ºæ‰€æ–™ï¼Œæ­¤æ—¶æŸ¥è¯¢æœç„¶ä¼šè¢« Block ä½ã€‚&lt;/p&gt;
&lt;h3 id="mvcc"&gt;MVCC&lt;/h3&gt;
&lt;p&gt;å¹¶å‘æ§åˆ¶çš„æ‰‹æ®µæœ‰è¿™äº›ï¼šå°é”ã€æ—¶é—´æˆ³ã€ä¹è§‚å¹¶å‘æ§åˆ¶ã€æ‚²è§‚å¹¶å‘æ§åˆ¶ã€‚
SQL Server åœ¨ 2015 åï¼Œå¼•å…¥äº† MVCCï¼ˆå¤šç‰ˆæœ¬æ§åˆ¶ï¼‰ã€‚
å¦‚æœæœ€ç»ˆæ•°æ®æ˜¯ä¸€è‡´ï¼Œä¼šå…è®¸æ•°æ®å†™å…¥ï¼Œå¦åˆ™å…¶ä»–äº‹åŠ¡ä¼šè¢«é˜»æ­¢å†™å…¥ã€‚
é‚£ä¹ˆ MVCC å¼•å…¥æ˜¯å¦å¯ä»¥è§£å†³ Insert æ•°æ®çš„é”é—®é¢˜ï¼Ÿ
åŒæ ·ï¼Œæˆ‘åšäº†ä»¥ä¸‹æµ‹è¯•ï¼š&lt;/p&gt;
&lt;p&gt;æŸ¥è¯¢ SQL Server ä½¿ç”¨å¯ç”¨ MVCC ALLOW_SNAPSHOT_ISOLATIONï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;snapshot_isolation_state&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;databases&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä½¿ç”¨ T-SQL å¯ç”¨æµ‹è¯•è¡¨çš„ SNAPSHOT_ISOLATIONï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;ALTER&lt;/span&gt; &lt;span class="k"&gt;DATABASE&lt;/span&gt; &lt;span class="n"&gt;HJ_Test3D&lt;/span&gt; &lt;span class="k"&gt;SET&lt;/span&gt; &lt;span class="n"&gt;ALLOW_SNAPSHOT_ISOLATION&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ¥ç€é‡å¤ä¸Šé¢é‡Œé¢çš„ Insert è¯•éªŒï¼Œä¾ç„¶è¢« Block ä½ã€‚
çœ‹æ¥ MVCC å¹¶ä¸èƒ½è§£å†³ Insert é”çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id="sql-server-2005-zhi-hou-huan-xu-yao-shi-yong-nolock-yao"&gt;SQL Server 2005 ä¹‹åè¿˜éœ€è¦ä½¿ç”¨ nolock ä¹ˆï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ä»å®˜æ–¹æ–‡æ¡£å’Œä¸Šæ–‡æµ‹è¯•å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ Insert æ—¶å€™ï¼Œç”±äºæ’å®ƒé”çš„å­˜åœ¨ï¼Œ
ä¼šå¯¼è‡´ &lt;code&gt;SELECT ALL&lt;/code&gt; ä»¥åŠ &lt;code&gt;SELECT&lt;/code&gt; æ–°æ’å…¥æ•°æ®çš„ç›¸å…³ä¿¡æ¯è¢«é”ä½ã€‚
åœ¨è¿™ä¸¤ç§æƒ…æ™¯ä¸‹é¢æ˜¯éœ€è¦ä½¿ç”¨ &lt;code&gt;nolock&lt;/code&gt; çš„ã€‚&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œæœ‰è¿™ä¹ˆå‡ ç±»åœºæ™¯å¯ä»¥ä½¿ç”¨ &lt;code&gt;nolock&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ SSIS æŸ¥è¯¢å™¨ä¸­è¿›è¡Œæ•°æ®åˆ†æï¼Œä¸éœ€è¦ç²¾å‡†æ•°æ®&lt;/li&gt;
&lt;li&gt;å†å²æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼Œæ²¡æœ‰æ•°æ®æ›´æ–°æ“ä½œï¼Œä¹Ÿä¸ä¼šäº§ç”Ÿè„æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦æ€è€ƒä¸€ä¸‹ï¼Œæ€§èƒ½å’Œæ•°æ®ä¸€è‡´æ€§ä¸Šçš„æƒè¡¡ä¸Šï¼Œ
æˆ‘ä»¬æ˜¯å¦æ„¿æ„æ”¾å¼ƒæ•°æ®ä¸€è‡´æ€§è€Œä¸ºäº†æé«˜ä¸€ä¸ä¸æ€§èƒ½ï¼Ÿ
ä»¥åŠæˆ‘ä»¬æœ‰å¤šå°‘åœºæ™¯ï¼Œä¼šé¢‘ç¹ä½¿ç”¨ &lt;code&gt;SELECT ALL&lt;/code&gt; æ“ä½œè€Œæ²¡æœ‰æŸ¥è¯¢æ¡ä»¶ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¾®è½¯å®˜æ–¹åœ¨ 2015 çš„ç‰¹æ€§åˆ—è¡¨é‡Œé¢ï¼Œæ˜ç¡®åœ°æŒ‡å‡º &lt;code&gt;nolock&lt;/code&gt; ç‰¹æ€§æœªæ¥ä¼šåœ¨æŸä¸ªç‰ˆæœ¬è¢«åºŸé™¤ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Specifying NOLOCK or READUNCOMMITTED in the FROM clause of an UPDATE or DELETE statement.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è€Œæ”¹ä¸ºæ¨èï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Remove the NOLOCK or READUNCOMMITTED table hints from the FROM clause.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;äº‹å®ä¸Šï¼Œæˆ‘å¬è¿‡ä¸å°‘å›¢é˜Ÿä¼šç¦æ­¢åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ä¸å¸¦ WHERE æ¡ä»¶çš„ SQLã€‚
é‚£åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œäº§ç”Ÿç›¸å…³çš„é—®é¢˜çš„å‡ ç‡ä¹Ÿå°±æ›´å°äº†ã€‚
å¦‚æœæœ‰å¾ˆé«˜çš„å¹¶å‘éœ€æ±‚ï¼Œé‚£éœ€è¦è€ƒè™‘ä¸€ä¸‹æ˜¯å¦éœ€è¦å…¶ä»–ä¼˜åŒ–ç­–ç•¥ï¼šæ¯”å¦‚ä½¿ç”¨ä¸»ä»åˆ†ç¦»ã€
Snapshot å¯¼å‡ºã€æµå¼åˆ†æç­‰æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;h2 id="di-san-ge-wen-ti-mysql-de-dui-ying-xie-fa-shi-shi-yao_1"&gt;ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼šMySQL çš„å¯¹åº”å†™æ³•æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ç»ˆäºè½®åˆ° MySQL çš„è®¨è®ºäº†ã€‚MySQLï¼ŒInnoDB å¤©ç”Ÿæ”¯æŒ MVCCï¼Œ
å¹¶ä¸”æ”¯æŒ &lt;code&gt;innodb_autoinc_lock_mode&lt;/code&gt; &lt;a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-auto-increment-handling.html"&gt;AUTO_INCREMENT Handling in InnoDB&lt;/a&gt;ã€‚
è¿™æ ·å¯ä»¥é¿å… Insert æ“ä½œé”ä½å…¨å±€ Select æ“ä½œã€‚
åªæœ‰åœ¨åŒæ—¶ Insert æ—¶å€™ï¼Œæ‰ä¼šè¢« Block ä½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;innodb_autoinc_lock_mode&lt;/code&gt; æ”¯æŒå‡ ç§æ¨¡å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;innodb_autoinc_lock_mode = 0 (&amp;ldquo;traditional&amp;rdquo; lock mode)&lt;ul&gt;
&lt;li&gt;æ¶‰åŠauto-incrementåˆ—çš„æ’å…¥è¯­å¥åŠ çš„è¡¨çº§AUTO-INCé”ï¼Œåªæœ‰æ’å…¥æ‰§è¡Œç»“æŸåæ‰ä¼šé‡Šæ”¾é”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;innodb_autoinc_lock_mode = 1 (&amp;ldquo;consecutive&amp;rdquo; lock mode)&lt;ul&gt;
&lt;li&gt;å¯ä»¥äº‹å…ˆç¡®å®šæ’å…¥è¡Œæ•°çš„è¯­å¥ï¼Œåˆ†é…è¿ç»­çš„ç¡®å®šçš„ auto-increment å€¼&lt;/li&gt;
&lt;li&gt;å¯¹äºæ’å…¥è¡Œæ•°ä¸ç¡®å®šçš„æ’å…¥è¯­å¥ï¼Œä»åŠ è¡¨é”&lt;/li&gt;
&lt;li&gt;è¿™ç§æ¨¡å¼ä¸‹ï¼Œäº‹åŠ¡å›æ»šï¼Œauto-increment å€¼ä¸ä¼šå›æ»šï¼Œæ¢å¥è¯è¯´ï¼Œè‡ªå¢åˆ—å†…å®¹ä¼šä¸è¿ç»­&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;innodb_autoinc_lock_mode = 2 (&amp;ldquo;interleaved&amp;rdquo; lock mode)&lt;ul&gt;
&lt;li&gt;åŒä¸€æ—¶åˆ»å¤šæ¡ SQL è¯­å¥äº§ç”Ÿäº¤é”™çš„ auto-increment å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œä¹Ÿåšäº†ç›¸åº”çš„æµ‹è¯•ã€‚é¦–å…ˆæ£€æŸ¥æ•°æ®åº“éš”ç¦»çº§åˆ«å’Œ &lt;code&gt;innodb_autoinc_lock_mode&lt;/code&gt; æ¨¡å¼ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;@@&lt;/span&gt;&lt;span class="k"&gt;global&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tx_isolation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;@@&lt;/span&gt;&lt;span class="k"&gt;session&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tx_isolation&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;@@&lt;/span&gt;&lt;span class="n"&gt;tx_isolation&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;SHOW&lt;/span&gt; &lt;span class="n"&gt;variables&lt;/span&gt; &lt;span class="k"&gt;LIKE&lt;/span&gt; &lt;span class="s1"&gt;'innodb_autoinc_lock_mode'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ£€æŸ¥åå‘ç°éƒ½æ˜¯ Repeatable Readï¼Œ&lt;code&gt;innodb_autoinc_lock_mode&lt;/code&gt; æ¨¡å¼æ˜¯ 1ã€‚
ç„¶ååˆ›å»ºæµ‹è¯•è¡¨ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt; &lt;span class="k"&gt;TABLE&lt;/span&gt; &lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="n"&gt;foos&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
  &lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;NULL&lt;/span&gt; &lt;span class="n"&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt; &lt;span class="nb"&gt;varchar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;DEFAULT&lt;/span&gt; &lt;span class="k"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="k"&gt;PRIMARY&lt;/span&gt; &lt;span class="k"&gt;KEY&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="o"&gt;`&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;ENGINE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;InnoDB&lt;/span&gt; &lt;span class="n"&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt; &lt;span class="k"&gt;DEFAULT&lt;/span&gt; &lt;span class="n"&gt;CHARSET&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;utf8&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ Transaction 1 ä¸­ Insert æ•°æ®ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;START&lt;/span&gt; &lt;span class="n"&gt;TRANSACTION&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;INSERT&lt;/span&gt; &lt;span class="k"&gt;INTO&lt;/span&gt; &lt;span class="n"&gt;foos&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;VALUES&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ Transaction 2 ä¸­ Select æ•°æ®ï¼Œå¯ä»¥æ­£å¸¸æŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt;   &lt;span class="n"&gt;foos&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ Transaction 2 ä¸­ Insert æ•°æ®ï¼Œä¼šè¢« Block ä½ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;START&lt;/span&gt; &lt;span class="n"&gt;TRANSACTION&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;INSERT&lt;/span&gt; &lt;span class="k"&gt;INTO&lt;/span&gt; &lt;span class="n"&gt;foos&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;VALUES&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™ä¸ªæµ‹è¯•å¯ä»¥è¯æ˜ MySQL å¯ä»¥åœ¨ &lt;code&gt;innodb_autoinc_lock_mode&lt;/code&gt;=1 ä¸‹ï¼Œ
Insert åŒæ—¶ Query ä¸ä¼šè¢« Blockï¼Œ
ä½†æ˜¯åœ¨å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¸­ Insert ä¼šè¢« Blockã€‚
ç»“è®ºæ˜¯ï¼Œç”±äº &lt;code&gt;innodb_autoinc_lock_mode&lt;/code&gt; çš„å­˜åœ¨ï¼ŒMySQL ä¸­å¯ä»¥ä¸éœ€è¦ä½¿ç”¨ &lt;code&gt;nolock&lt;/code&gt;
å…³é”®è¯è¿›è¡ŒæŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;h2 id="hui-gu-yi-xia"&gt;å›é¡¾ä¸€ä¸‹&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡ç€é‡å»å›ç­”è¿™ä¹ˆå‡ ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆè¦ç”¨ &lt;code&gt;noloc&lt;/code&gt;ï¼Ÿ&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆè¦æ”¹å˜éš”ç¦»çº§åˆ«ï¼Ÿ&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆ MySQL ä¸éœ€è¦åšç±»ä¼¼çš„äº‹æƒ…ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è™½ç„¶åªå‡‘è¶³äº†ä¸‰ä¸ª ã€Œä¸ºä»€ä¹ˆã€ çš„æ’æ¯”ï¼Œ
ä½†æ˜¯èªæ˜çš„è¯»è€…ä»ç„¶ä¼šå‘ç°ï¼Œæˆ‘æ˜¯ä½¿ç”¨äº†è‘—åçš„
&lt;a href="https://zh.wikipedia.org/wiki/%E4%BA%94%E4%B8%AA%E4%B8%BA%E4%BB%80%E4%B9%88"&gt;äº”ä¸ªä¸ºä»€ä¹ˆ&lt;/a&gt;
æ–¹æ³•æ€è€ƒé—®é¢˜ã€‚
é€šè¿‡ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬æœ€åä¸ä½†æ‰“ç ´äº†è€æ—§çš„æœ€ä½³å®è·µï¼Œè¿˜äº†è§£äº†æœ¬è´¨åŸç†ï¼Œ
å¹¶æ‰¾åˆ°äº†æ–°çš„æœ€ä½³å®è·µã€‚&lt;/p&gt;
&lt;p&gt;å¸Œæœ›è¯»è€…æœ‹å‹åœ¨é‡åˆ°å›°éš¾æ—¶å€™ï¼Œå¤šé—®å‡ ä¸ªä¸ºä»€ä¹ˆï¼Œå¤šæŠ±ç€æ‰“ç ´ç ‚é”…é—®åˆ°åº•çš„ç²¾ç¥ï¼Œ
è¿™æ ·æ‰èƒ½è®©æ¯ä¸ªå›°éš¾æˆä¸ºæˆ‘ä»¬æˆé•¿çš„å«è„šçŸ³ã€‚&lt;/p&gt;
&lt;h2 id="xiang-guan-zi-liao"&gt;ç›¸å…³èµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://zh.wikipedia.org/zh-cn/%E4%BA%8B%E5%8B%99%E9%9A%94%E9%9B%A2"&gt;äº‹åŠ¡éš”ç¦» - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/sql/t-sql/queries/hints-transact-sql-table"&gt;Table Hints (Transact-SQL) | Microsoft Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/sql/snapshot-isolation-in-sql-server"&gt;Snapshot Isolation in SQL Server | Microsoft Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-databases-transact-sql"&gt;sys.databases (Transact-SQL) | Microsoft Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-multi-versioning.html"&gt;MySQL :: MySQL 5.7 Reference Manual :: 15.3 InnoDB Multi-Versioning&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2017/09/sql-server-nolock/"&gt;https://blog.alswl.com/2017/09/sql-server-nolock/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Tue, 19 Sep 2017 16:43:45 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2017-09-19:2017/09/sql-server-nolock/</guid><category>SQL Server</category><category>MySQL</category></item><item><title>å½“æˆ‘ä»¬åœ¨èŠç›‘æ§ï¼Œæˆ‘ä»¬åœ¨èŠä»€ä¹ˆï¼Ÿ</title><link>https://blog.alswl.com/2017/06/monitoring-introducing/</link><description>&lt;p&gt;æœ€è¿‘åœ¨å›¢é˜Ÿä¸­ç»™å¤§å®¶åšäº†ä¸€ä¸ªåˆ†äº«ï¼Œæ³›æ³›åœ°èŠäº†ä¸€äº›æœ‰å…³ã€Œç›‘æ§ã€çš„è¯é¢˜ã€‚
å…¶å®åšåˆ†äº«å¯¹åˆ†äº«è€…çš„ä½œç”¨å¾€å¾€å¤§äºå‚ä¸è€…ã€‚
è¿™æ˜¯ä¸€æ¬¡å°†è‡ªå·±çŸ¥è¯†çš„æ¢³ç†çš„è¿‡ç¨‹ï¼Œäºæ˜¯æˆ‘å°†è¿™æ¬¡åˆ†äº«æ•´ç†æˆè¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="201706/stock-exchange.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201706/stock-exchange.png"/&gt;&lt;/p&gt;

&lt;h2 id="mu-de"&gt;ç›®çš„ ğŸ¯&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ¥èŠèŠï¼Œä»€ä¹ˆæ˜¯ã€Œç›‘æ§ã€ï¼Œä»¥åŠæˆ‘ä»¬æœŸæœ›é€šè¿‡ã€Œç›‘æ§ã€å®Œæˆå“ªäº›ç›®çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ç›‘æ§ï¼Œæ˜¯æŒ‡ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡ä¸€äº›æ‰‹æ®µå’Œå·¥å…·ï¼Œå…³æ³¨è¿è¡Œä¸­çš„&lt;strong&gt;ç¡¬ä»¶ã€è½¯ä»¶ã€ç”¨æˆ·ä½“éªŒ&lt;/strong&gt;çš„å…³é”®æ•°æ®ï¼Œå°†å…¶æš´éœ²å‡ºæ¥ã€‚
  å½“å…³é”®æ•°æ®å‡ºç°å¼‚å¸¸æ—¶å€™å‘å‡ºè­¦å‘Šï¼Œè¿›è¡Œäººå·¥æˆ–è€…è‡ªåŠ¨çš„å“åº”ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘ä»¬å¹³æ—¶çœ‹åˆ°çš„æœ€å¸¸è§çš„ç›‘æ§ç³»ç»Ÿï¼Œæ¯”å¦‚ Zabbixï¼Œæä¾›äº†ä¸°å¯Œçš„æ¨¡æ¿ï¼Œ
å¯ä»¥ç›‘æ§æœåŠ¡å™¨çš„ Load / CPU Usage / Alive è¿™äº›å¸¸è§„æŒ‡æ ‡ã€‚
å¹¶åœ¨å‡ºç°é—®é¢˜æ—¶å€™ï¼Œå¯¹å…¶è¿›è¡ŒæŠ¥è­¦é€šçŸ¥ã€‚
éšåè¿ç»´å·¥ç¨‹å¸ˆä»¬ä¼šä¸Šçº¿è¿›è¡Œåº”æ€¥æ“ä½œï¼Œcase by case çš„å¤„ç†æ•…éšœã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å°†ä¸Šé¢çš„ä½¿ç”¨ç›®çš„å½’çº³ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•…éšœå‘ç”Ÿæ—¶æä¾›æ•°æ®æŠ¥è­¦&lt;/li&gt;
&lt;li&gt;æä¾›å†å²æ•°æ®ä»¥ä¾›åˆ†æ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•…äº‹åˆ°è¿™é‡Œä¼¼ä¹å¯ä»¥ç»“æŸäº†ï¼Œå¯ç›‘æ§çœŸçš„æ˜¯è¿™ä¹ˆç®€å•çš„ä¹ˆï¼Ÿ
å½“ç„¶æ²¡ï¼Œéšç€æ—¶ä»£çš„è¿›æ­¥ï¼Œç”¨æˆ·å¯¹æœåŠ¡æå‡ºäº†æ›´ä¸ºä¸¥è‹›çš„è¦æ±‚ï¼Œ
åŒæ—¶æˆ‘ä»¬ä¹Ÿæœ‰èƒ½åŠ›è¿›ä¸€æ­¥æ§åˆ¶å¹³å‡æ•…éšœä¿®å¤æ—¶é—´
ï¼ˆ&lt;a href="https://en.wikipedia.org/wiki/Mean_time_between_failures"&gt;MTBF&lt;/a&gt;ï¼‰ï¼Œ
ä¸Šè¿°æè¿°çš„åšæ³•å·²ç»ä¸èƒ½æ»¡è¶³æˆ‘ä»¬äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬åˆ‡æ¢ä¸€ä¸‹è§†è§’ï¼Œä»ä¼ ç»Ÿçš„ OPS çš„è§†è§’åˆ‡æ¢åˆ° SRE
ï¼ˆ&lt;a href="https://en.wikipedia.org/wiki/Site_reliability_engineering"&gt;Site Reliability Engineering&lt;/a&gt;ï¼‰çš„è§†è§’ã€‚
å½“æˆ‘ä»¬åœ¨å…³æ³¨ç½‘ç«™æ•´ä½“çš„å¯ç”¨æ€§æ—¶ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼š
æ•…éšœè­¦æŠ¥å¤„ç†å½“ç„¶å¾ˆé‡è¦ï¼Œä½†æ˜¯æˆ‘ä»¬æ ¹æœ¬ä¸Šæƒ³å‡å°‘ç”šè‡³é¿å… MTBFã€‚
æˆ‘ä»¬æœ‰ä¸¤ç§æ‰‹æ®µï¼š
ä¸€ç§æ˜¯å»é™¤å•ç‚¹æ•…éšœï¼Œè®©é—®é¢˜è‡ªç„¶å‘ç”Ÿï¼Œä½†æ˜¯ä¸å¯¹çº¿ä¸Šé€ æˆå½±å“ï¼›
å¦ä¸€ç§æ˜¯åœ¨é—®é¢˜å‡ºç°çš„æ—©æœŸå°±å‘ç°å¹¶è¿›è¡ŒåŠæ—¶ä¿®å¤ã€‚
å‰è€…æ˜¯é«˜å¯ç”¨èŒƒç•´ï¼Œåè€…å°±æ˜¯æˆ‘ä»¬ä»Šå¤©å…³æ³¨çš„ã€Œç›‘æ§ã€äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç›‘æ§çš„ç›®çš„æ˜¯è¦&lt;strong&gt;å°†ç¾éš¾æ¶ˆç­åœ¨è¥è¤“é‡Œï¼›åœ¨ç¾éš¾å³å°†å‡ºç°æˆ–è€…å‘ç”Ÿé—®é¢˜æ—¶ï¼Œâ€¨ç»™å¤§å®¶å±•ç¤ºç›´æ¥çš„åŸå› &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¸ºäº†è¾¾æˆè¿™ä¸¤ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬éœ€è¦å›åˆ°é—®é¢˜çš„æœ¬è´¨ï¼Œé‡æ–°æ€è€ƒä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç›‘æ§å“ªäº›å¯¹è±¡ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•è¯†åˆ«æ•…éšœï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="dui-xiang"&gt;å¯¹è±¡ ğŸ˜ğŸ˜&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬è¯´çš„ç›‘æ§å¯¹è±¡ï¼Œä¸€èˆ¬æŒ‡çš„éƒ½æ˜¯æŸä¸ªèµ„æºï¼Œ
èµ„æºå³æŒæœ‰æŸç§å…¶ä»–æ–¹éœ€è¦çš„æŸäº›å±æ€§çš„è½½ä½“ï¼ŒåŒ…æ‹¬ç¡¬ä»¶ã€è½¯ä»¶ã€‚
é™¤äº†èµ„æºè¿™ç§ç±»å‹ï¼Œè¿˜æœ‰ä¸€ç§å¸¸è§çš„ç›‘æ§å¯¹è±¡æ˜¯ã€Œä½“éªŒã€ï¼Œå³ç»ˆç«¯ç”¨æˆ·çš„è®¿é—®æ„Ÿå—ï¼Œ
è¿™å—å†…å®¹æˆ‘ä»¬æš‚æ—¶ç•¥å»ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬æ¥å…ˆçœ‹ä¸€ä¸‹å¸¸è§çš„èµ„æºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¡¬ä»¶&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;ç½‘ç»œè®¾å¤‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è½¯ä»¶&lt;ul&gt;
&lt;li&gt;Application&lt;/li&gt;
&lt;li&gt;Infrastructure&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸ªåˆ†ç±»æ˜¯ç²—ç²’åº¦çš„æè¿°ï¼Œä¸ºäº†è½åœ°åœ°æè¿°ç›‘æ§å¯¹è±¡å¯¹è±¡çš„å¥åº·çŠ¶å†µï¼Œ
æˆ‘ä»¬è¿˜è¦è¿›ä¸€æ­¥ç»†åŒ–ã€‚ä»¥ã€ŒæœåŠ¡å™¨ã€ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç›‘æ§çš„å†…å®¹ç»†åŒ–ä¸ºä»¥ä¸‹ç›‘æ§é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CPU&lt;/li&gt;
&lt;li&gt;Memory&lt;/li&gt;
&lt;li&gt;Network interface&lt;/li&gt;
&lt;li&gt;Storage devices&lt;/li&gt;
&lt;li&gt;Controllers&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚ä½•è¯„ä¼°è¿™äº›ç›‘æ§é¡¹çš„å¥åº·çŠ¶å†µï¼Ÿæˆ‘ä»¬ä½¿ç”¨
&lt;a href="https://en.wikipedia.org/wiki/Service_level_indicator"&gt;SLIï¼ˆService Level Indicatorï¼‰&lt;/a&gt;ã€‚
æ¯”å¦‚&lt;strong&gt;å¯ç”¨æ€§&lt;/strong&gt;å°±æ˜¯ä¸€ä¸ªæœ€å®¹æ˜“ç†è§£çš„ SLIã€‚
è¿™é‡Œæˆ‘å°†èµ„æºå½’ä¸ºä¸¤ç±»ï¼Œé¢å‘ç”¨æˆ·æä¾›æœåŠ¡çš„èµ„æºå’Œé¢å‘å­˜å‚¨çš„èµ„æºï¼Œ
ä»¥ä¸‹æ˜¯é’ˆå¯¹è¿™ä¸¤ç±»èµ„æºçš„å¸¸è§ SLIï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;User-facing Service&lt;ul&gt;
&lt;li&gt;Availability&lt;/li&gt;
&lt;li&gt;Latency&lt;/li&gt;
&lt;li&gt;Throughput&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Storage System&lt;ul&gt;
&lt;li&gt;Latency&lt;/li&gt;
&lt;li&gt;Throughput&lt;/li&gt;
&lt;li&gt;durability&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŸºäº SLI å»ºç«‹çš„æ•°å­—å…³é”®æŒ‡æ ‡ï¼Œç§°ä¹‹ä¸º
&lt;a href="https://en.wikipedia.org/wiki/Service_level_objective"&gt;Service Level Objective&lt;/a&gt;ã€‚
SLO å¾€å¾€æ˜¯ä¸€ç»„æ•°å­—èŒƒå›´ï¼Œæ¯”å¦‚ CPU è´Ÿè½½çš„ SLO å¯ä»¥è®¾ç½®ä¸º 0.0-6.0ï¼ˆé’ˆå¯¹ 8 æ ¸ CPUï¼‰ã€‚
ä¸åŒçš„èµ„æºã€ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ï¼Œä¼šæœ‰ä¸ä¸€æ ·çš„ SLO è®¾è®¡ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»èŠäº†è¦ç›‘æ§å“ªäº›æŒ‡æ ‡ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬èŠèŠå¦‚ä½•ç”¨é‡åŒ–çš„æ€æƒ³ï¼Œ
å¸®åŠ©æŒ‡æ ‡æ›´æ˜“äºè¯†åˆ«ã€åˆ†æå’Œå†³ç­–ã€‚&lt;/p&gt;
&lt;h2 id="liang-hua-de-si-xiang"&gt;é‡åŒ–çš„æ€æƒ³ ğŸ”¢&lt;/h2&gt;
&lt;p&gt;åˆšå¼€å§‹æ‹…ä»»çº¿ä¸Šæ•‘ç«é˜Ÿæˆå‘˜æ—¶å€™ï¼Œå½“æœ‰ä¸ªç³»ç»Ÿå‡ºç°é—®é¢˜æ—¶å€™ï¼Œæˆ‘ç»å¸¸å¬åˆ°è¿™æ ·çš„æè¿°ï¼š
ç½‘ç«™æŒ‚äº†ã€é¡µé¢æ‰“ä¸å¼€äº†ï¼ŒCPU å‡ºé—®é¢˜äº†ï¼Œå†…å­˜çˆ†äº†ï¼Œçº¿ç¨‹æ± ç‚¸äº†ç­‰ç­‰ã€‚
è¿™æ ·çš„è¡¨è¿°è™½ç„¶æ²¡é”™ï¼Œä½†å¸¦æ¥çš„å¯ç”¨ä»·å€¼å¤ªå°‘ï¼Œä¿¡æ¯ç†µå¤ªä½ã€‚
è¿™æ ·çš„è¯´è¾å¤šäº†ï¼Œå°±ç»™äººäº§ç”Ÿä¸€ç§ä¸é è°±ï¼Œä¸ç§‘å­¦çš„æ„Ÿè§‰ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ€æ ·æ‰èƒ½æˆä¸ºç§‘å­¦çš„æè¿°ï¼Ÿ
å¤å¸Œè…Šå“²å­¦å®¶åœ¨æ€è€ƒå®‡å®™çš„æ—¶å€™ï¼Œæå‡ºäº†ä¸€ç§å¿ƒæ™ºèƒ½åŠ›ï¼Œ
ä»è€Œæ‰“å¼€äº†ç§‘å­¦çš„çª—å­ï¼Œè¿™å°±æ˜¯ Reasonableï¼Œä¸­æ–‡åå«ç†æ™ºï¼Œè¿™æˆä¸ºäº†è‡ªç„¶ç§‘å­¦çš„åŸºçŸ³ã€‚
ä½¿ç”¨ Reasonable æ¢è®¨æ„å‘³ç€æ¢è®¨è¦æ·±å…¥é—®é¢˜çš„æœ¬è´¨ï¼Œä¸åœç•™åœ¨è¡¨è±¡ï¼ŒæŒ–æ˜å‡ºçœŸæ­£æœ‰ä»·å€¼çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å…‰æœ‰ Reasonable è¿˜ä¸å¤Ÿï¼ŒBç«™ç²‰ä¸å»ºäº†ä¸€ä¸ªå¾®åšï¼Œæ¯å¤©ä¼šæ£€æŸ¥
&lt;a href="http://weibo.com/yamanasion?refer_flag=1001030201_&amp;amp;is_hot=1"&gt;ä»Šå¤©Bç«™ç‚¸äº†å—&lt;/a&gt;ï¼Œ
ä»–åªèƒ½å‘Šè¯‰æˆ‘ä»¬ç‚¸æ²¡ç‚¸ï¼Œä¸èƒ½ç»™å·¥ç¨‹å¸ˆå¸¦æ¥å®é™…çš„ç”¨å¤„ã€‚
åœ¨ç§‘å­¦çš„å‘å±•å†å²ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°åœ¨äºšé‡Œå£«å¤šå¾·çš„è‘—ä½œé‡Œæ²¡æœ‰ä»»ä½•æ•°æ®å…¬å¼ã€‚
ä»–å¯¹ç°è±¡åªæœ‰æè¿°ï¼Œåªæ˜¯å®šæ€§åˆ†æï¼Œé€šè¿‡æè¿°æ€§çŠ¶æ¥é˜è¿°å®šç†ã€‚
è¿™ä¸ªå®šæ€§çš„ç ”ç©¶æ–¹å¼åˆ°äº†ä¼½åˆ©ç•¥é‚£é‡Œæ‰å‡ºç°äº†çªç ´ã€‚
è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¼•å…¥ç¬¬äºŒä¸ªå…³é”®è¯æ˜¯  Quantifierï¼Œé‡åŒ–ã€‚
ä¼½åˆ©ç•¥ç‡å…ˆä½¿ç”¨å®šé‡åˆ†æçš„æ–¹æ³•ï¼Œå¹¶å°†å…¶è¿ç”¨åˆ°åŠ¨åŠ›å­¦å’Œå¤©æ–‡å­¦ï¼Œä»è€Œå¼€åˆ›äº†è¿‘ä»£ç§‘å­¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬ä»¥å®šé‡çš„æ–¹å¼æ¥æè¿°ç½‘ç«™æŒ‚æ²¡æŒ‚ï¼Œå°±ä¼šå˜æˆï¼šç½‘ç«™çš„å“åº”è€—æ—¶åœ¨ 30sï¼ŒåŸºæœ¬æ— æ³•ä½¿ç”¨ã€‚
æè¿°çº¿ç¨‹æ± å‡ºé—®é¢˜ï¼Œå°±ä¼šå˜æˆï¼šactive çº¿ç¨‹æ•°é‡æ˜¯ 200ï¼Œå·²ç»åˆ°è¾¾ maxCount æ•°é‡ï¼Œæ— æ³•è¿›è¡Œåˆ†é…ã€‚
ä½ çœ‹ï¼Œé€šè¿‡è¿™æ ·çš„æè¿°ï¼Œæˆ‘ä»¬ä¸€ä¸‹å­å°±èƒ½å‘ç°é—®é¢˜å‡ºåœ¨å“ªé‡Œã€‚&lt;/p&gt;
&lt;h2 id="use"&gt;USE ğŸ’¡&lt;/h2&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†ã€Œç›‘æ§å“ªäº›å¯¹è±¡ï¼Ÿã€ï¼Œä»¥åŠå°è¯•ç”¨ã€Œé‡åŒ–ã€è¿™ä¸ªæ³•å®æ¥ã€Œè¯†åˆ«æ•…éšœã€ã€‚
é‚£æœ‰æ²¡æœ‰ä¸€äº›æœ€ä½³å®è·µå¸®åŠ©å¤§å®¶é«˜æ•ˆçš„è¯†åˆ«æ•…éšœå‘¢ï¼Ÿè¿™é‡Œæˆ‘æ¨è Brend Gregg å¤§ç¥çš„ &lt;a href="http://www.brendangregg.com/usemethod.html"&gt;USE æ–¹æ³•&lt;/a&gt;ã€‚
Brend Gregg æ˜¯ Netflix çš„é¦–å¸­ SREï¼Œè‘—æœ‰ &lt;a href="http://www.brendangregg.com/sysperfbook.html"&gt;Systems Performance Book&lt;/a&gt;ï¼Œ
ç›®å‰å·²ç»å‡ºç‰ˆä¸­æ–‡ç‰ˆ &lt;a href="https://www.amazon.cn/%E5%9B%BE%E4%B9%A6/dp/B0140I5WPK"&gt;æ€§èƒ½ä¹‹å·…:æ´æ‚‰ç³»ç»Ÿã€ä¼ä¸šä¸äº‘è®¡ç®—&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;USE åˆ†åˆ«æ˜¯ä¸‰ä¸ªå•è¯çš„é¦–å­—æ¯ç¼©å†™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Utilizationï¼šä½¿ç”¨ç‡ï¼ŒCPU running percentï¼Œç¡¬ç›˜çš„ IO &lt;/li&gt;
&lt;li&gt;Saturationï¼šé¥±å’Œåº¦ï¼Œä¸€èˆ¬åå­˜å‚¨å‹èµ„æºï¼Œå†…å­˜ä½¿ç”¨ï¼Œç¡¬ç›˜ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;Errorï¼šé”™è¯¯æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸ªèµ„æºæ‰¾åˆ°å„è‡ªçš„ USE åº¦é‡æŒ‡æ ‡ï¼Œå…·ä½“çš„ Check List æ¸…å•å¯ä»¥å‚è€ƒ
&lt;a href="http://www.brendangregg.com/USEmethod/use-rosetta.html"&gt;USE Method: Rosetta Stone of Performance Checklists&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼Œå‰æ®µæ—¶é—´åœ¨è®¾è®¡ MySQL HA æ–¹æ¡ˆæ—¶å€™ï¼ŒåŒæ—¶å…³æ³¨äº† MySQL çš„ç›‘æ§æ–¹æ¡ˆï¼Œ
é‚£ä¹ˆé’ˆå¯¹ MySQLï¼Œæˆ‘ä»¬è¦åšå“ªäº›ç›‘æ§å‘¢ï¼Ÿä¸‹é¢æ˜¯ä½¿ç”¨ USE æ–¹æ³•è®¾è®¡å‡ºæ¥çš„ SLIï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Business&lt;ul&gt;
&lt;li&gt;Questionsï¼šè¯­å¥è®¡æ€»ï¼ŒThroughput&lt;/li&gt;
&lt;li&gt;Slow_queriesï¼šæ…¢æŸ¥è¯¢è®¡æ€»ï¼ŒError&lt;/li&gt;
&lt;li&gt;Com_selectï¼šæŸ¥è¯¢è¯­å¥è®¡æ€»ï¼ŒThroughput&lt;/li&gt;
&lt;li&gt;Com_insertï¼šæ’å…¥è¯­å¥è®¡æ€»ï¼ŒThroughput&lt;/li&gt;
&lt;li&gt;Com_updateï¼šæ›´æ–°è¯­å¥è®¡æ€»ï¼ŒThroughput&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Threads &amp;amp; Connections&lt;ul&gt;
&lt;li&gt;Threads_connectedï¼šå½“å‰è¿æ¥æ•°ï¼ŒUtilization&lt;/li&gt;
&lt;li&gt;Threads_runningï¼šå½“å‰ä½¿ç”¨ä¸­è¿æ¥æ•°ï¼ŒUtilization&lt;/li&gt;
&lt;li&gt;Aborted_connectsï¼šå°è¯•è¿æ¥å¤±è´¥æ•°ï¼ŒError&lt;/li&gt;
&lt;li&gt;Connection_errors_max_connectionsï¼šç”±äºè¿æ¥æ•°è¶…æ ‡ä»è€Œå¤±è´¥çš„è¿æ¥æ•°ï¼ŒError&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Buffer&lt;ul&gt;
&lt;li&gt;Innodb_buffer_pool_pages_totalï¼šå†…å­˜ä½¿ç”¨é¡µæ•°ï¼ŒUtilization&lt;/li&gt;
&lt;li&gt;Innodb_buffer_pool_read_requestsï¼šè¯»è¯·æ±‚æ•°è®¡æ€»ï¼ŒUtilization&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="wan"&gt;å®Œ ğŸ&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ å¯¹æˆ‘ä¸Šé¢æè¿°çš„è¿˜æ„çŠ¹æœªå°½ï¼Œå»ºè®®ä½ å¯ä»¥çœ‹ &lt;a href="https://book.douban.com/subject/19992841/"&gt;Effective Monitoring and Alerting&lt;/a&gt;ã€‚
è™½ç„¶æœ¬ä¹¦æ²¡æœ‰ä¸­æ–‡ç‰ˆï¼Œä½†æ˜¯å…³äºç›‘æ§ã€æŠ¥è­¦çš„åŸç†è§£æå¾ˆåˆ°ä½ï¼Œå€¼å¾—ä¸€çœ‹ã€‚
å¦å¤–è¿˜æœ‰ä¸€æœ¬ &lt;a href="https://book.douban.com/subject/26875239/"&gt;SRE: Googleè¿ç»´è§£å¯†&lt;/a&gt;ï¼Œ
é‡Œé¢æœ‰ä¸å°‘ç¯‡å¹…åœ¨è®²ã€ŒSLAã€ï¼Œä¹Ÿæ˜¯å’Œç›‘æ§ã€æŠ¥è­¦æ¯æ¯ç›¸å…³çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡è®²äº†ä¸€äº›æ¦‚å¿µæ€§çš„å†…å®¹ï¼ŒæœŸæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©ï¼Œä¸‹ä¸€æ¬¡æˆ‘å†åˆ†äº«ä¸€ç¯‡æ–‡ç« ï¼ŒèŠèŠ Metricsã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2017/06/monitoring-introducing/"&gt;https://blog.alswl.com/2017/06/monitoring-introducing/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Thu, 08 Jun 2017 15:40:41 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2017-06-08:2017/06/monitoring-introducing/</guid><category>Monitoring</category></item><item><title>XSS æ”»å‡»çš„å¤„ç†</title><link>https://blog.alswl.com/2017/05/xss/</link><description>&lt;p&gt;è¿™æ˜¯ä¸€å¹´å‰å†™çš„é¡¹ç›®ç¬”è®°ï¼Œä¸€ç›´åœ¨æˆ‘çš„å¾…åŠäº‹é¡¹é‡Œç­‰å¾…åšæ€»ç»“ï¼Œä»Šå¤©å¶ç„¶ç¿»åˆ°ï¼Œå°±æ•´ç†æˆæ–‡ç« å‘å‡ºæ¥ã€‚
è°¨ä»¥æ­¤æ–‡æ€€å¿µ &lt;a href="http://wooyun.org/"&gt;ä¹Œäº‘&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="201705/wooyun.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201705/wooyun.jpg"/&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;h2 id="shi-qing-yuan-you"&gt;äº‹æƒ…ç¼˜ç”±&lt;/h2&gt;
&lt;p&gt;æ˜¥èŠ‚å‰çš„æŸä¸€å¤©ï¼Œæ”¶åˆ°ä¸€å°æ¥è‡ªä¹Œäº‘ï¼ˆå›½å†…çŸ¥åç™½å¸½å­å›¢é˜Ÿï¼‰çš„é‚®ä»¶ï¼Œ
å‘ŠçŸ¥æˆ‘å‚ç½‘ç«™ä¸Šå‡ºç°ä¸€ä¾‹ XSS æ¼æ´ã€‚
å› ä¸ºä»¥å‰å¯¹ XSS è¾“å…¥åšè¿‡é˜²å¾¡ï¼Œè¿˜ä»¥ä¸ºæ˜¯æŸä¸ªå‰ç«¯ DOM ä¸Šçš„ XSS æ¼æ´ï¼Œ
åæ¥ä»”ç»†ä¸€çœ‹ï¼Œä¸å¦™ï¼Œæ˜¯ä¸ªå½±å“ç”šå¤§çš„å­˜å‚¨å‹ XSS æ¼æ´ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œç®€å•ç§‘æ™®ä¸€ä¸‹ XSS
&lt;a href="https://zh.wikipedia.org/zh-cn/%E8%B7%A8%E7%B6%B2%E7%AB%99%E6%8C%87%E4%BB%A4%E7%A2%BC"&gt;è·¨ç½‘ç«™è„šæœ¬ -ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦&lt;/a&gt;
ä¸­ä»‹ç»åˆ°ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è·¨ç½‘ç«™è„šæœ¬ï¼ˆCross-site  scriptingï¼Œé€šå¸¸ç®€ç§°ä¸ºXSSæˆ–è·¨ç«™è„šæœ¬æˆ–è·¨ç«™è„šæœ¬æ”»å‡»ï¼‰æ˜¯ä¸€ç§ç½‘ç«™åº”ç”¨ç¨‹åºçš„å®‰å…¨æ¼æ´æ”»å‡»ï¼Œæ˜¯ä»£ç æ³¨å…¥çš„ä¸€ç§ã€‚
  å®ƒå…è®¸æ¶æ„ç”¨æˆ·å°†ä»£ç æ³¨å…¥åˆ°ç½‘é¡µä¸Šï¼Œå…¶ä»–ç”¨æˆ·åœ¨è§‚çœ‹ç½‘é¡µæ—¶å°±ä¼šå—åˆ°å½±å“ã€‚è¿™ç±»æ”»å‡»é€šå¸¸åŒ…å«äº†HTMLä»¥åŠç”¨æˆ·ç«¯è„šæœ¬è¯­è¨€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;XSS æ”»å‡»å¯ä»¥åˆ†æˆä¸¤ç§ï¼Œåå°„æ€§ XSS / å­˜å‚¨å‹ XSSã€‚å‰è€…æ˜¯éœ€è¦ç”¨æˆ·è§¦å‘çš„ XSSï¼Œ
é’ˆå¯¹å½“å‰ç”¨æˆ·çš„æ”»å‡»è¡Œä¸ºã€‚è€Œåè€…å­˜å‚¨å‹ XSS åˆ™æ›´ä¸ºä¸¥é‡ï¼Œä¸€æ—¦æ”»å‡»ä»£ç è¢«ä¿å­˜ï¼Œ
æ‰€æœ‰è®¿é—®è¢«æ”»å‡»çš„é¡µé¢ï¼Œéƒ½ä¼šè§¦å‘ç”¨æˆ·è¢«æ”»å‡»è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡çˆ†å‡ºçš„é—®é¢˜å°±æ˜¯æœ€ä¸¥é‡çš„å­˜å‚¨å‹ XSSï¼Œæ„å‘³ç€æ¯ä¸ªè®¿é—®åˆ°æœ‰é—®é¢˜é¡µé¢çš„ç”¨æˆ·éƒ½ä¼šä¸­æ‹›ã€‚
æ—¶é—´ç´§è¿«ï¼Œé—®é¢˜å¿…é¡»è¢«è§£å†³ã€‚&lt;/p&gt;
&lt;h2 id="xss-shi-xian-shou-duan"&gt;XSS å®ç°æ‰‹æ®µ&lt;/h2&gt;
&lt;p&gt;åœ¨è§£å†³é—®é¢˜ä¹‹å‰ï¼Œéœ€è¦å¯¹è¿™ä¸ªé—®é¢˜æœ‰å¿…è¦çš„åŸºç¡€è®¤è¯†ã€‚
æˆ‘ä»¬å…ˆçœ‹çœ‹ XSS æ”»å‡»æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä»¥åŠæ”»å‡»è€…çš„ç›®çš„æ˜¯ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;p&gt;XSS çš„åŸç†æ˜¯é€šè¿‡æ„é€ ç‰¹æ®Šçš„æ•°æ®ï¼Œå¹¶é€šè¿‡ä¼ é€’å‚æ•°æˆ–è€…ä¿å­˜è¡¨å•æ•°æ®çš„æ–¹å¼ï¼Œ
è®©è¿™äº›æ„å»ºçš„æ•°æ®ç ´å DOM ç»“æ„ï¼Œä»è€Œè®©è‡ªå·±é¢„å…ˆæ„é€ æ•°æ®ä¸­çš„ JS è„šæœ¬è¢«æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æ£€æŸ¥å­˜å‚¨å‹ XSS æ¼æ´çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨å¯¹åº”çš„ input field é‡Œæ”¾å…¥ä¸€äº›æ„é€ çš„æ•°æ®ï¼Œå¦‚æœä¿å­˜åå¯ä»¥è¢«æ‰§è¡Œï¼Œå°±è¯´æ˜å­˜åœ¨ XSS æ¼æ´ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„æ£€æµ‹æ–¹æ³•ï¼ˆæ¥è‡ª&amp;nbsp;&lt;a href="https://zh.wikipedia.org/zh-cn/%E8%B7%A8%E7%B6%B2%E7%AB%99%E6%8C%87%E4%BB%A4%E7%A2%BC#.E6.A3.80.E6.B5.8B.E6.96.B9.E6.B3.95"&gt;è·¨ç½‘ç«™è„šæœ¬ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;script&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="nx"&gt;alert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;document.cookie&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nb"&gt;script&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'&amp;gt;&amp;lt;script&amp;gt;alert(document.cookie)&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class="s1"&gt;"&amp;gt;&amp;lt;script&amp;gt;alert(document.cookie)&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class="s1"&gt;&amp;lt;script&amp;gt;alert(document.cookie)&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class="s1"&gt;&amp;lt;script&amp;gt;alert (vulnerable)&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class="s1"&gt;%3Cscript%3Ealert('&lt;/span&gt;&lt;span class="nx"&gt;XSS&lt;/span&gt;&lt;span class="s1"&gt;')%3C/script%3E&lt;/span&gt;
&lt;span class="s1"&gt;&amp;lt;script&amp;gt;alert('&lt;/span&gt;&lt;span class="nx"&gt;XSS&lt;/span&gt;&lt;span class="s1"&gt;')&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class="s1"&gt;&amp;lt;img src="javascript:alert('&lt;/span&gt;&lt;span class="nx"&gt;XSS&lt;/span&gt;&lt;span class="s1"&gt;')"&amp;gt;&lt;/span&gt;
&lt;span class="s1"&gt;&amp;lt;img src="http://xxx.com/yyy.png" onerror="alert('&lt;/span&gt;&lt;span class="nx"&gt;XSS&lt;/span&gt;&lt;span class="s1"&gt;')"&amp;gt;&lt;/span&gt;
&lt;span class="s1"&gt;ï¼ˆè¿™ä¸ªä»…é™IEæœ‰æ•ˆï¼‰&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ”»å‡»è€…é€šè¿‡ XSS å¯ä»¥çªƒå–ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚æœç”¨æˆ·æ˜¯ç®¡ç†å‘˜ï¼Œé‚£ä¹ˆå½±å“æ›´å¤§ã€‚
é€šè¿‡è¿™äº›èº«ä»½ä¿¡æ¯ï¼Œæ”»å‡»è€…å¯ä»¥è¿›ä¸€æ­¥ç¯¡æ”¹ä¿¡æ¯æˆ–è€…è¿›è¡Œè¯ˆéª—ï¼Œåæœä¸å ªè®¾æƒ³ã€‚
PSï¼šä¸€ä¸ªæœ‰æ•ˆç²—æš´çš„æ–¹å¼ï¼Œæ˜¯å°†å¯¹å…¬ã€å¯¹å†…ç³»ç»Ÿçš„åŸŸååˆ†ç¦»ï¼Œå¯¹å†…éƒ¨ç³»ç»Ÿè¿›è¡Œç‰©ç†çº§åˆ«éš”ç¦»ã€‚&lt;/p&gt;
&lt;h2 id="wo-han-li-shi-shang-de-chu-li-fang-an"&gt;æˆ‘å‚å†å²ä¸Šçš„å¤„ç†æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;XSS é—®é¢˜åˆæ¥å·²ä¹…ï¼Œå’±å‚å­å¼€äº†è¿™ä¹ˆä¹…ï¼Œå†å²ä¸Šå¦‚ä½•é˜²å¾¡çš„å‘¢ï¼Ÿ
ç­”æ¡ˆæ˜¯ç”¨äº†ä¸¤ä¸ªç­–ç•¥ï¼šç¬¬ä¸€ä¸ªæ˜¯ä½¿ç”¨&amp;nbsp;&lt;a href="https://www.owasp.org/index.php/Main_Page"&gt;OWASP&lt;/a&gt;
æä¾›çš„åº“è¿›è¡Œå†…å®¹è¿‡æ»¤ï¼Œç¬¬äºŒä¸ªæ˜¯åœ¨å­˜å‚¨æ•°æ®æ—¶ï¼Œå­˜å‚¨äº†è½¬ä¹‰åçš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æŠ€æœ¯ä¸Šå¤„ç† XSSï¼Œæœ‰ä¸¤ç§æ€åº¦å¯ä»¥é€‰æ‹©ï¼šç¬¬ä¸€ç§æ˜¯å‰ç½®è¿‡æ»¤ï¼Œå³å°†ç”¨æˆ·æ‰€æœ‰æ•°æ®éƒ½è¿›è¡Œè½¬ä¹‰ï¼Œ
åœ¨è¾“å‡ºæ—¶å€™åœ¨å‰ç«¯ï¼ˆæ¨¡æ¿æ¸²æŸ“ï¼‰å±‚é¢ç›´æ¥è¾“å‡ºã€‚
ç¬¬äºŒç§æ˜¯ç”¨æˆ·è¾“å…¥çš„æ•°æ®ä¸ç»è¿‡è½¬ä¹‰å°±ç›´æ¥å­˜å‚¨èµ·æ¥ï¼Œå‰ç«¯åœ¨ä½¿ç”¨æ—¶å€™ä¿è¯å¯¹æ•°æ®è¿›è¡Œè½¬ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å‚å†å²ä¸Šä½¿ç”¨çš„æ–¹æ¡ˆçš„å‰è€…ï¼Œä¼˜ç‚¹æ˜¯åœ¨äºå‰ç«¯ä¸éœ€è¦åœ¨æ¯ä¸ªåœ°æ–¹è½¬ä¹‰ï¼Œ
é¿å…æŸä¸ªåœ°æ–¹å¿˜è®°äº†è½¬ä¹‰ï¼Œä»è€Œå¯¼è‡´æ¼æ´ã€‚ç¼ºç‚¹åˆ™æ˜¯åœ¨è¾“å‡ºå†…å®¹åˆ°é Web å®¢æˆ·ç«¯æ—¶å€™ï¼Œæ¯”å¦‚
APPï¼Œéœ€è¦è¿›è¡Œé¢å¤–çš„æ•°æ®å¤„ç†è¿‡ç¨‹ï¼Œ å¦åˆ™ HTMLEncode çš„å†…å®¹ï¼Œåœ¨ APP
ä¸Šé¢æ— æ³•æ­£ç¡®è¾“å‡ºã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå¤„ç†æ–¹æ¡ˆæ˜¯ç¨³å¦¥çš„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæœ€è¿‘åˆæš´éœ²å‡ºé—®é¢˜äº†ï¼Ÿ
æ’æŸ¥ä¹‹åå‘ç°ï¼ŒåŸæ¥æœ€è¿‘æœ‰è‹¥å¹²ä¸ªæœåŠ¡è¿ç§»åˆ°äº†ä¸€ä¸ªæ–°ç³»ç»Ÿï¼Œ
è€Œæ–°ç³»ç»Ÿåœ¨å®‰å…¨ä¸Šé¢æ²¡æœ‰å…¨å±€å¤„ç†ï¼Œæ‰€ä»¥çˆ†å‡ºäº†æ¼æ´ã€‚&lt;/p&gt;
&lt;h2 id="ben-ci-chu-li-fang-an"&gt;æœ¬æ¬¡å¤„ç†æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;çŸ¥é“äº†åŸå› ï¼Œé‚£ä¹ˆå¯ä»¥å¿«é€Ÿè§£å†³é—®é¢˜äº†ã€‚åœ¨è¿™æ¬¡å¤„ç†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†åœ¨å½“å‰ç§»åŠ¨å¹³å°å¢é•¿è¿…é€Ÿï¼ŒWeb å¹³å°å¢é•¿ç¼“æ…¢çš„å¤§åŠ¿ä¸‹ï¼Œèƒ½å¦ç›´æ¥å­˜å‚¨ç”¨æˆ·åŸå§‹æ•°æ®ï¼Ÿ
è€Œä¸”ç”±äºè§„èŒƒåˆ¶å®šä¸ä¸¥æ ¼ï¼Œç›®å‰ç³»ç»Ÿå†…æœ‰äº›åœ°æ–¹å­˜å‚¨è½¬ç åæ•°æ®ï¼Œæœ‰äº›åœ°æ–¹å­˜å‚¨è½¬ç å‰æ•°æ®ã€‚
å¯¼è‡´åœ¨ä¸€äº›ç‰¹æ®Šçš„å­—ç¬¦ï¼ˆé¢œæ–‡å­—ï¼‰å¤„ç†ä¸Šä¸ä¸€è‡´ï¼Œä»è€Œå¯¼è‡´åœ¨å¤„ç† &lt;code&gt;br&lt;/code&gt; / &lt;code&gt;&amp;lt;&lt;/code&gt; è¿™ç±»ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œè¡¨ç°ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº DB ä¸­æœ‰éƒ¨åˆ†æ•°æ®è½¬ä¹‰å¤„ç†ï¼Œéƒ¨åˆ†æ•°æ®åŸæ–‡å­˜å‚¨ï¼Œæ‰€ä»¥å…ˆå¤„ç†è¾“å‡ºåæ•æ„Ÿä¿¡æ¯ï¼Œåœ¨æ¨¡æ¿å±‚é¢å¯ç”¨å…¨å±€
encodeã€‚ å°†æœ‰å±é™©çš„æ•°æ®è½¬ç§»ä¸ºåœ¨ HTML æ–‡æœ¬ã€‚&lt;/p&gt;
&lt;p&gt;PSï¼šç°ä»£ Web æ¡†æ¶çš„æ¨¡æ¿æ¸²æŸ“å¼•æ“ï¼Œä¸€èˆ¬ä¼šé»˜è®¤å¼€å¯ HTMLEncodeï¼Œè€Œ
Freemarker å±…ç„¶åœ¨ 2.3.24-rc01 æ‰æ”¯æŒï¼Œç°åœ¨éƒ½æ²¡æœ‰å‘å¸ƒï¼Œå”‰&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;å¤„ç†æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼€å¯å…¨å±€ HTML è¾“å‡º Encodeï¼Œæœ‰ä¸€ä¸ª&amp;nbsp;&lt;a href="http://watchitlater.com/blog/2011/10/default-html-escape-using-freemarker/"&gt;Default HTML-escape using Freemarker&lt;/a&gt;&amp;nbsp;æ–¹æ¡ˆï¼Œå¯ä»¥é»˜è®¤å¼€å¯ Html Encodeï¼Œåœ¨è¿™ä¸ªå¤„ç†æ–¹æ¡ˆä¸­ï¼Œéœ€è¦æ³¨æ„æœ‰äº›åœ°æ–¹çœŸçš„éœ€è¦è¾“å‡ºåŸå§‹ htmlï¼Œéœ€è¦&amp;nbsp;&lt;code&gt;noescape&lt;/code&gt;&amp;nbsp;ç‰¹æ®Šå¤„ç†&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥æ‰€æœ‰å‰ç«¯æ“ä½œï¼Œç¦æ­¢å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œä½¿ç”¨æ¡†æ¶æ”¯æŒçš„æ¨¡æ¿è¿›è¡Œæ¸²æŸ“ï¼Œæ‹–å°èŠçš„ç¦ï¼Œæ–°ç³»ç»Ÿåœ¨è¿™å—å·¥ä½œå®Œæˆåº¦ä¸€ç›´æ¯”è¾ƒå¥½&lt;/li&gt;
&lt;li&gt;å°†&amp;nbsp;&lt;a href="https://www.owasp.org/index.php/Main_Page"&gt;OWASP&lt;/a&gt;&amp;nbsp;æ–¹æ¡ˆå¼ºåˆ¶å¼€å¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="qi-ta-tips"&gt;å…¶ä»– Tips&lt;/h2&gt;
&lt;p&gt;OWASP æœ‰ä¸€ä¸ªå¾ˆé•¿çš„ &lt;a href="https://www.owasp.org/index.php/SS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet"&gt;åˆ—è¡¨&lt;/a&gt;ï¼Œæ•™å¯¼å¦‚ä½•é¿å… XSSï¼Œé‡Œé¢æåˆ°äº†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºä½•ä»¥åŠå¦‚ä½•è¿›è¡Œã€Œç§¯æé˜²å¾¡ã€ï¼Œå¯¹ç«‹é¢æ˜¯ä»…ä»…è¾“å‡ºæ—¶å€™è½¬ä¹‰å†…å®¹æœ¬èº«&lt;/li&gt;
&lt;li&gt;å‡ æ¡å¯¹æŠ— XSS çš„è§„åˆ™&lt;ul&gt;
&lt;li&gt;å°½é‡ä¸åœ¨ç‰¹å®šåœ°æ–¹è¾“å‡ºä¸å¯ä¿¡å˜é‡ï¼šscript / comment / attribute / tag / styleï¼Œ å› ä¸ºé€ƒè„± HTMl è§„åˆ™çš„å­—ç¬¦ä¸²å¤ªå¤šäº†ã€‚&lt;/li&gt;
&lt;li&gt;å°†ä¸å¯ä¿¡å˜é‡è¾“å‡ºåˆ° div / body / attribute / javascript tag / style ä¹‹å‰ï¼Œå¯¹&amp;nbsp;&lt;code&gt;&amp;amp; &amp;lt; &amp;gt; " ' /&lt;/code&gt;&amp;nbsp;è¿›è¡Œè½¬ä¹‰&lt;/li&gt;
&lt;li&gt;å°†ä¸å¯ä¿¡å˜é‡è¾“å‡º URL å‚æ•°ä¹‹å‰ï¼Œè¿›è¡Œ URLEncode&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åˆé€‚çš„ HTML è¿‡æ»¤åº“è¿›è¡Œè¿‡æ»¤&lt;/li&gt;
&lt;li&gt;é¢„é˜² DOM-based XSSï¼Œè§&amp;nbsp;&lt;a href="https://www.owasp.org/index.php/DOM_based_XSS_Prevention_Cheat_Sheet"&gt;DOM based XSS Prevention Cheat Sheet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å¼€å¯ HTTPOnly cookieï¼Œè®©æµè§ˆå™¨æ¥è§¦ä¸åˆ° cookie&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr/&gt;
&lt;p&gt;æœ€åé€ä¸Šä¸€ä¸ª XSS æ”»å‡»å·¥å…·&amp;nbsp;&lt;a href="http://webxss.net/"&gt;http://webxss.net/&lt;/a&gt;ï¼ŒçŸ¥å·±çŸ¥å½¼ï¼Œç™¾æˆ˜ä¸æ®†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2017/05/xss/"&gt;https://blog.alswl.com/2017/05/xss/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Wed, 31 May 2017 22:04:00 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2017-05-31:2017/05/xss/</guid><category>security</category></item><item><title>ğŸ‘ï¸ é¢„æµ‹æœªæ¥ï¼Ÿ</title><link>https://blog.alswl.com/2017/01/prophecy/</link><description>&lt;h2 id="la-pu-la-si-zhi-yao"&gt;æ‹‰æ™®æ‹‰æ–¯ä¹‹å¦–&lt;/h2&gt;
&lt;p&gt;æœªæ¥æ˜¯å¯ä»¥è¢«é¢„æµ‹çš„ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img alt="201702/zhu-ge-liang.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201702/zhu-ge-liang.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;ä¸“å®¶åœ¨é¢„æµ‹è‚¡ç¥¨è¶‹åŠ¿å˜åŒ–ï¼Œå¤©æ°”é¢„æŠ¥å‘˜å¯ä»¥é¢„æµ‹æœªæ¥ä¸€å‘¨ç”šè‡³æ›´é•¿æ—¶é—´çš„å¤©æ°”ã€‚
å¦‚æœç»™ä»–ä»¬æ›´å¤šçš„ä¿¡æ¯å’Œå‚æ•°ï¼Œæ˜¯å¦å¯ä»¥å°†æœªæ¥é¢„æµ‹çš„æ›´å‡†ç¡®ï¼Ÿ
å¦‚æœç²¾ç¡®çš„ç²’åº¦å¯ä»¥è¾¾åˆ°åŸºæœ¬ç²’å­çº§åˆ«ï¼ŒåŒæ—¶ç»™ä¸€ä¸ªè®¡ç®—åŠ›è¶…ç¾¤çš„è®¡ç®—å™¨ï¼Œèƒ½å¦ç²¾ç¡®çš„æ¨è¡æœªæ¥å˜åŒ–ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™äº›æƒ³æ³•åœ¨æˆ‘åˆšæ¥è§¦ç»å…¸åŠ›å­¦æ—¶æµ®ç°ï¼Œå­¦ä¹ äº†ç‰›é¡¿ä¸‰å®šå¾‹ä¹‹åï¼Œå¼‚å¸¸æ¿€åŠ¨ã€‚
æ„Ÿè§‰äººç±»å¯ä»¥å‡­å€ŸæŠ€æœ¯çš„è¿›æ­¥ï¼Œé€æ­¥å¯¹æœªæ¥ç²¾ç¡®é¢„æµ‹ã€‚å½¼æ—¶å¯ä»¥è§£å†³äººç±»å³å°†é‡åˆ°çš„ä»»ä½•é—®é¢˜äº†ï¼ŒåŒ–é—®é¢˜äºæ— å½¢ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æƒ³æ³•å…¶å®åœ¨ 200 å¹´å‰å°±å‡ºç°äº†ã€‚æ³•å›½ä¼Ÿå¤§çš„æ•°å­¦å®¶æ‹‰æ™®æ‹‰æ–¯ï¼ˆLaplaceï¼‰åœ¨ä»–çš„è‘—ä½œã€Œæ¦‚ç‡è®ºã€é‡Œé¢ï¼Œ
æå‡ºäº†è¿™æ ·çš„è§‚ç‚¹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æŠŠå®‡å®™ç°åœ¨çš„çŠ¶æ€è§†ä¸ºå…¶è¿‡å»çš„æœä»¥åŠæœªæ¥çš„å› ã€‚å‡è‹¥ä¸€ä½æ™ºè€…ä¼šçŸ¥é“åœ¨æŸä¸€æ—¶åˆ»æ‰€æœ‰ä¿ƒä½¿è‡ªç„¶è¿åŠ¨çš„åŠ›å’Œæ‰€æœ‰ç»„æ„è‡ªç„¶çš„ç‰©ä½“çš„ä½ç½®ï¼Œå‡è‹¥ä»–ä¹Ÿèƒ½å¤Ÿå¯¹è¿™äº›æ•°æ®è¿›è¡Œåˆ†æï¼Œåˆ™åœ¨å®‡å®™é‡Œï¼Œä»æœ€å¤§çš„ç‰©ä½“åˆ°æœ€å°çš„ç²’å­ï¼Œå®ƒä»¬çš„è¿åŠ¨éƒ½åŒ…å«åœ¨ä¸€æ¡ç®€å•å…¬å¼é‡Œã€‚å¯¹äºè¿™ä½æ™ºè€…æ¥è¯´ï¼Œæ²¡æœ‰ä»»ä½•äº‹ç‰©ä¼šæ˜¯å«ç³Šçš„ï¼Œå¹¶ä¸”æœªæ¥åªä¼šåƒè¿‡å»èˆ¬å‡ºç°åœ¨ä»–çœ¼å‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ã€Œæ ¹æ®å½“å‰å·²çŸ¥å³å¯é¢„æµ‹æœªæ¥ã€ï¼Œè¿™ç§å†³å®šè®ºï¼Œå°±æ˜¯æ‹‰æ™®æ‹‰æ–¯ä¹‹å¦–ã€‚&lt;/p&gt;
&lt;h2 id="da-po"&gt;æ‰“ç ´&lt;/h2&gt;
&lt;p&gt;é™¤äº†æ‹‰æ™®æ‹‰æ–¯çš„å†³å®šè®ºï¼Œè¿™ä¸ªä¸–çºªæœ«è¿˜å‘ç”Ÿäº†å¦å¤–ä¸€ä»¶äº‹æƒ…ã€‚
å¼€å°”æ–‡ç”·çˆµåœ¨ 19 ä¸–çºªçš„æœ€åä¸€å¤©ï¼Œå‘è¡¨äº†ã€Œç‰©ç†å¤§å¦å·²ç»è½æˆï¼Œæ‰€å‰©åªæ˜¯ä¸€äº›è£…é¥°æ€§å·¥ä½œã€çš„è¨€è®ºã€‚
ç„¶è€Œï¼Œåœ¨éšåçš„å²æœˆé‡Œï¼Œç»å…¸ç‰©ç†å¤§å¦å´å¼€å§‹è¢«é‡å­åŠ›å­¦é€æ­¥å‡»ç ´ï¼Œè½°ç„¶å€’åœ°ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å†³å®šè®ºè¿™ä¸ªæ–¹é¢ï¼Œæ ¹æ®æµ·æ£®å ¡çš„ä¸ç¡®å®šæ€§ç†è®ºï¼Œç²’å­çš„ä½ç½®ä¸åŠ¨é‡ä¸å¯åŒæ—¶è¢«ç¡®å®šã€‚
è¿™ä¸ªç»“è®ºè¯´æ˜ç›®å‰æŠ€æœ¯ä¸‹é¢ï¼Œæ— æ³•ç²¾å‡†æµ‹é‡ç²’å­çš„çŠ¶æ€ã€‚
æ—¢ç„¶æ— æ³•å‡†ç¡®æµ‹é‡ç²’å­çš„çŠ¶æ€ï¼Œå°±å¤±å»äº†æ¼”ç®—æœªæ¥å¯èƒ½æ€§çš„åŸºç¡€ï¼Œæ›´æ— æ³•é¢„æµ‹æœªæ¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ—¢ç„¶æ˜¯æ— æ³•é¢„æµ‹ï¼Œæ˜¯å¦è¡¨ç¤ºï¼Œé¢„æµ‹æœªæ¥è¿™ä»¶äº‹æƒ…æ˜¯æ— ç¨½ä¹‹è°ˆï¼Œæœªæ¥æ˜¯ä¸æˆè§„å¾‹çš„ï¼Ÿ&lt;/p&gt;
&lt;h2 id="hun-dun-bei-li-jie-cuo-wu-de-hu-die-xiao-ying"&gt;æ··æ²Œï¼šè¢«ç†è§£é”™è¯¯çš„ã€Œè´è¶æ•ˆåº”ã€&lt;/h2&gt;
&lt;p&gt;é’ˆå¯¹æœªæ¥çš„é¢„æµ‹ï¼ŒåŠ¨åŠ›ç³»ç»Ÿä¸­ï¼Œæœ‰ç›¸å½“å¤šçš„ç ”ç©¶å’Œæ€è€ƒï¼Œå…¶ä¸­æ¯”è¾ƒæ³¨æ˜çš„ä¸€é¡¹æ˜¯ï¼šè´è¶æ•ˆåº”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="201702/chaos-butterfly.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201702/chaos-butterfly_400.png"/&gt;&lt;/p&gt;
&lt;p&gt;å…³äºã€Œè´è¶æ•ˆåº”ã€ï¼Œä¸ç”¨è¿‡å¤šè§£é‡Šã€‚å‘½åçš„æ¥æºæ®è¯´æ˜¯å‘ç°è€… Edward Lorenz è§‰å¾—å›¾å½¢åƒæ˜¯è´è¶ã€‚
è€Œæœ‰å¦ä¸€ç§å¦ä¸€è¯´æ³•æ˜¯ï¼ŒEdward çš„ä¸€ä¸ªæ¯”å–»ã€Œå·´è¥¿è´è¶ç…½åŠ¨ï¼Œå¼•èµ·å¾·å…‹è¨æ–¯çš„é¾™å·é£ã€ã€‚&lt;/p&gt;
&lt;p&gt;äº‹å®ä¸Šè¿™ç§è¯´æ³•æ˜¯ä¸ç²¾å‡†çš„ã€‚Edward åœ¨é¢„æµ‹å¤©æ°”æ¨¡å‹ä¸­ï¼Œå‘ç°èµ·å§‹æ•°æ®çš„å¾®å°å·®å¼‚ï¼Œ
ä¼šå¯¼è‡´æ•°æ—¥ä¹‹åè®¡ç®—ç»“æœçš„å·¨å¤§å·®å¼‚ã€‚
ä»ç‚¹åœ¨äºåœ¨é¢„æµ‹æ¨¡å‹ä¸Šï¼Œå¿½ç•¥äº†ä¸€ä¸ªè´è¶ç…½åŠ¨å¼•èµ·çš„åŠ›é‡ï¼Œå³èµ·å§‹æ¡ä»¶çš„è®¾å®šï¼Œä¼šå¯¼è‡´ç»“æœçš„å·¨å¤§å·®å¼‚ã€‚
è€Œä¸æ˜¯è¡¨åé¾™å·é£æ˜¯è´è¶ç…½åŠ¨äº§ç”Ÿçš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè´è¶ç…½åŠ¨èƒ½å¤Ÿäº§ç”Ÿé¾™å·é£ã€‚é‚£ä¹ˆä¸€ä¸ªæ™®é€šäººçš„å‘¼å¸ï¼Œä¹Ÿå¯ä»¥é€ æˆåŒæ ·çš„æ•ˆæœã€‚ğŸ˜‚&lt;/p&gt;
&lt;h2 id="fen-xing-he-hun-dun"&gt;åˆ†å½¢å’Œæ··æ²Œ&lt;/h2&gt;
&lt;p&gt;å’Œæ··æ²Œç›¸å…³çš„ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦æ¦‚å¿µã€Œåˆ†å½¢ã€ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€ä¸ªç²—ç³™æˆ–é›¶ç¢çš„å‡ ä½•å½¢çŠ¶ï¼Œå¯ä»¥åˆ†æˆæ•°ä¸ªéƒ¨åˆ†ï¼Œä¸”æ¯ä¸€éƒ¨åˆ†éƒ½ï¼ˆè‡³å°‘è¿‘ä¼¼åœ°ï¼‰æ˜¯æ•´ä½“ç¼©å°åçš„å½¢çŠ¶&amp;rdquo;[2]ï¼Œå³å…·æœ‰è‡ªç›¸ä¼¼çš„æ€§è´¨ã€‚åˆ†å½¢çš„æ ¸å¿ƒæ˜¯è‡ªç›¸ä¼¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;éšæœºä»è¿™ç§è‡ªç›¸ä¼¼çš„å›¾å½¢ä¸­æå–æ ·æœ¬ï¼Œæ ·æœ¬é›†è¡¨ç°å‡ºä¸å¯é¢„æµ‹çš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æ··æ²Œçš„å®šä¹‰ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éçº¿æ€§ç³»ç»Ÿåœ¨ä¸€å®šå‚æ•°æ¡ä»¶ä¸‹å±•ç°åˆ†å²”ï¼ˆbifurcationï¼‰ã€å‘¨æœŸè¿åŠ¨ä¸éå‘¨æœŸè¿åŠ¨ç›¸äº’çº ç¼ ï¼Œä»¥è‡³äºé€šå‘æŸç§éå‘¨æœŸæœ‰åºè¿åŠ¨ã€‚è¿™ç§è¿åŠ¨æ˜¯ä¸å¯é¢„æµ‹ï¼Œå‘ˆç°å‡ºå¤±åºçš„çŠ¶æ€ã€‚ä¸‰ä½“é—®é¢˜ï¼Œå³æ˜¯ä¸€ä¾‹æ··æ²Œçš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆæ··æ²Œå’Œåˆ†å½¢æ˜¯å…·æœ‰ç›¸å…³æ€§çš„å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸€ä¸ªé‡è¦æ¦‚å¿µ IFSã€‚
IFSï¼ˆIterated Function Systemï¼‰æ˜¯è¿­ä»£å‡½æ•°ç³»ç»Ÿï¼Œå³åœ¨æ•°å­¦ä¸Šè¢«è®¤ä¸ºä¸€ä¸ªå®Œå…¨å‘é‡ç©ºé—´ä¸Šæ”¶ç¼©æ˜ å°„çš„æœ‰é™é›†ã€‚
åˆ†å½¢çš„å›¾æ¡ˆï¼Œéƒ¨åˆ†å¯ä»¥æŠ½è±¡å‡º IFS å…¬å¼ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå…¬å¼çš„å¥‡å¦™ä¹‹å¤„æ˜¯åœ¨äºï¼Œåœ¨å…¬å¼æ¸è¿›æ¨ç®—è¿‡ç¨‹ä¹‹ä¸­ï¼Œåˆå§‹çœ‹åˆ°çš„ç»“æœæ˜¯æ··æ²Œæ— åºçš„ï¼Œè€Œåœ¨é€æ­¥è¿ç®—ä¹‹åï¼Œå¯ä»¥çœ‹å‡ºåˆ†å½¢çš„ç‰¹å¾ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯æ ¹æ®ä¸€ä¸ª IFS å…¬å¼ï¼Œé€æ­¥æ„é€ å‡ºä¸€ä¸ªåˆ†å½¢å›¾ç‰‡çš„è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="201702/chaosgame.gif" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201702/chaosgame.gif"/&gt;&lt;/p&gt;
&lt;p&gt;å›¾ç‰‡æ¥è‡ª Wikipedia &lt;a href="https://en.wikipedia.org/wiki/Iterated_function_system"&gt;https://en.wikipedia.org/wiki/Iterated_function_system&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§ç”±åˆæœŸæ··æ²Œï¼Œé€æ¸è¡¨ç°ä¸ºåˆ†å½¢çš„æƒ…å†µï¼Œè¢«å­¦è€…æ€»ç»“ä¸ºï¼šã€Œæ··æ²Œåœ¨ï¼ˆç”Ÿæˆï¼‰æ—¶é—´ä¸Šæ˜¯åˆ†å½¢çš„ï¼›è€Œåˆ†å½¢çš„åœ¨ç©ºé—´ï¼ˆå±•ç¤ºï¼‰ä¸Šæ˜¯æ··æ²Œçš„ã€‚ã€
æ··æ²Œä¸­å¯ä»¥æ‰¾åˆ°æœ‰åºï¼Œåœ¨éçº¿æ€§ä¸­æ‰¾åˆ°ç†æ€§ï¼Œæ··æ²Œä¸­å¯ä»¥æ¼”åŒ–å‡ºéè§„åˆ™ï¼Œä¹Ÿå¯ä»¥æ¼”åŒ–å‡ºåœ¨è§„åˆ™ä¸­æ··æ²Œã€‚&lt;/p&gt;
&lt;h2 id="zhe-xue-shang-de-xiang-zheng"&gt;å“²å­¦ä¸Šçš„è±¡å¾&lt;/h2&gt;
&lt;p&gt;æ„Ÿè°¢ä½ è¿·è¿·ç³Šç³Šçš„è¯»åˆ°è¿™é‡Œï¼Œæ··æ²Œä¸ä»…ä»…åœ¨æ•°å­¦å’Œç‰©ç†ä¸Šé¢ï¼Œå¸å¼•ç€ä¸€ä»£ä»£äººçš„æ¢ç´¢ã€‚
åœ¨å“²å­¦ç”Ÿæ´»æŒ‡å¯¼æ–¹é¢ï¼Œä¹Ÿæœ‰é‡å¤§çš„æ„ä¹‰ã€‚æ—©åœ¨å¤äººè¯´ã€Œåˆ†ä¹…å¿…åˆï¼Œåˆä¹…å¿…åˆ†ã€ï¼Œ
å°±æ˜¯ä¸€ç§ç¨³å®šçº¿æ€§çš„è¡¨ç°ï¼Œå…·æœ‰é¢„æµ‹æ€§çš„è¡¨ç°ã€‚
è€Œã€Œä¸€ç”ŸäºŒã€äºŒç”Ÿä¸‰ï¼Œä¸‰ç”Ÿä¸‡ç‰©ã€åˆ™ä½“ç°äº†å¤äººå¯¹åˆ†å½¢çš„ç†è§£ã€‚
ç»å…¸çš„ã€Œé©¬è¹„æ¯äº†ä¸€åœºæˆ˜äº‰ã€æ•…äº‹ï¼Œè®²çš„æ˜¯æ··æ²Œç†è®ºã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›å¯¹æœªæ¥é¢„æµ‹èƒ½åŠ›çš„æ¸´æœ›ï¼Œè¡¨ç°äº†å¯¹ç”Ÿæ´»çš„æŒæ§æ¬²æœ›ï¼Œå¯¹æœªæ¥å¯è¡Œæ€§çš„æ¢ç´¢ï¼Œ
åœ¨ä½è°·æœŸå¯ä»¥å¸¦æ¥å¸Œæœ›ï¼Œå¤§è·ƒè¿›æ—¶æœŸå¯ä»¥å¸¦æ¥è­¦é†’ã€‚&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;å¯¹äºæˆ‘ä¸ªäººè€Œè¨€ï¼Œè™½ç„¶å¤±å»äº†èƒ½å¤Ÿé¢„æµ‹æœªæ¥çš„ç†è®ºåŸºç¡€è€Œç•¥æ„Ÿé—æ†¾ã€‚
ä½†æ˜¯åè¿‡æ¥æƒ³æƒ³ï¼Œå¦‚æœçœŸçš„å‘æ˜äº†ä¸€å°æœºå™¨ï¼Œèƒ½å¤Ÿç²¾ç¡®é¢„è¨€åˆ°æœªæ¥ï¼Œ
é‚£ä¹ˆåœ¨å‘æ˜å®ç°çš„å½“å¤©ï¼Œå°±èƒ½å¤Ÿæ¨è¡å‡ºæœªæ¥æ‰€æœ‰å‡ºç°çš„ç§‘å­¦ç†è®ºã€æ–‡å­¦ã€è‰ºæœ¯åˆ›ä½œï¼Œ
é‚£ç»™åäººåˆ›é€ äº†ä¸€ä¸ªå¤šä¹ˆå†æ— æ–°äº‹ç‰©çš„æœªæ¥ï¼Œè¿™è¯¥æ˜¯ä¸€ä¸ªå¤šä¹ˆæ— è¶£çš„ä¸–ç•Œå•Šã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2017/01/prophecy/"&gt;https://blog.alswl.com/2017/01/prophecy/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Tue, 31 Jan 2017 11:12:43 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2017-01-31:2017/01/prophecy/</guid><category>Math</category></item><item><title>ğŸ‘·å¦‚ä½•åšå¹´å‰å¤§æ‰«é™¤</title><link>https://blog.alswl.com/2017/01/spring-cleaning/</link><description>&lt;p&gt;ä»Šå¹´è¿‡å¹´ç‰¹åˆ«æ—©ï¼Œç¦»æ˜¥èŠ‚åªå‰©ä¸‹äºŒåå¤šå¤©äº†ã€‚
ä¸ºæœŸ 7 å¤©çš„æ˜¥èŠ‚é‡Œï¼Œå·¥ç¨‹å¸ˆä»¬ä¸ä¸Šç­ï¼Œé‚£ä¸‡ä¸€çº¿ä¸Šä¸šåŠ¡å‡ºç°äº†æ•…éšœæ€ä¹ˆåŠï¼Ÿ
å¤§å…¬å¸çš„æœ‹å‹ä»¬ä¼šå®‰æ’ä¸“é—¨çš„äººè¿›è¡Œå€¼ç­ï¼ˆæ­¤å¤„å¿ƒç–¼ä¸€ä¸‹é‚£äº›éœ€è¦å¤§å¹´ä¸‰åè¿˜è¦å€¼ç­ä¿è¯é«˜å³°çš„å·¥ç¨‹å¸ˆä»¬ï¼‰ï¼Œ
è€Œä½œä¸ºåˆ›ä¸šå›¢é˜Ÿäººå°‘ï¼Œéš¾åšåˆ°åœ¨çº¿å€¼å®ˆï¼Œå°±éœ€è¦å¯¹çº¿ä¸Šè¿›è¡Œä¸€äº›æ•´ç†ç›˜ç‚¹ï¼Œæ‰¾å‡ºæ½œåœ¨é—®é¢˜ï¼Œä¸ºæ˜¥èŠ‚é•¿å‡åšä¸€äº›å‡†å¤‡ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç§°ä¹‹ä¸ºå¹´å‰å¤§æ‰«é™¤ã€‚&lt;/p&gt;
&lt;p&gt;å¤§æ‰«é™¤éœ€è¦åšäº›ä»€ä¹ˆå‘¢ï¼Œä¸”å¬æˆ‘ä¸€ä¸€é“æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="201701/saber.jpeg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201701/saber.jpeg"/&gt;&lt;/p&gt;
&lt;p&gt;PS: å†·çŸ¥è¯†ï¼Œå¤§æ‰«é™¤è‹±æ–‡æ˜¯ spring cleaningï¼Œæ‰€ä»¥æ˜¥èŠ‚å¤§æ‰«é™¤æ˜¯ Spring Festival spring cleaningã€‚&lt;/p&gt;
&lt;h2 id="da-sao-chu-de-nei-rong"&gt;å¤§æ‰«é™¤çš„å†…å®¹&lt;/h2&gt;
&lt;p&gt;å¤§æ‰«é™¤å…¶å®æ˜¯ä¸€ä¸ªæŸ¥æ¼è¡¥ç¼º+å›¤ç§¯ç²®è‰çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥æ¼è¡¥ç¼ºï¼Œå³æ‰¾å‡ºæ½œåœ¨çš„é—®é¢˜ã€‚è¿™äº›é—®é¢˜å¹³æ—¶å¯èƒ½ä¸ä¼šç‰¹æ„å»æŸ¥çœ‹ï¼Œ
å€ŸåŠ©å¤§æ‰«é™¤è¿™ä¸ªè¿åŠ¨ï¼Œæ°å¥½è¿›è¡Œç›˜ç‚¹ã€‚
è®¡ç®—æœºçš„ä¸–ç•Œé‡Œï¼Œæœ‰ä¸€ä¸ªæ–¹æ³•è®ºéå¸¸å¥½ä½¿ï¼Œåœ¨æå¤šåœºæ™¯å¯ä»¥è§åˆ°å…¶èº«å½±ï¼šåˆ†å±‚ã€‚
TCP çš„ä¸ƒå±‚æ¨¡å‹ï¼Œæ¶æ„è®¾è®¡çš„ N å±‚ æ¨¡å‹ï¼Œéƒ½æ˜¯å¯¹åˆ†å±‚æ€æƒ³çš„ä½¿ç”¨ã€‚
æŸ¥æ¼è¡¥ç¼ºä¹Ÿä¸ä¾‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸šåŠ¡è®¿é—®æµç¨‹ï¼Œå°†éœ€è¦æ’æŸ¥çš„é—®é¢˜æ‹†åˆ†ä¸ºï¼šä¸šåŠ¡ã€åº”ç”¨ã€ä¸­é—´ä»¶ã€ç½‘ç»œã€ç‰©ç†ã€å­˜å‚¨ etcã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡åˆ†å±‚ï¼Œä¸ä»…ä»…å®Œæˆäº†è‡ªä¸Šè€Œä¸‹åœ°éå†æ•´ä¸ªæŠ€æœ¯æ ˆï¼Œä¹ŸåŒæ—¶å°†ä¸åŒæ¨¡å—çš„å†…å®¹äº¤ç»™ä¸åŒçš„è´£ä»»æ–¹ï¼Œ
ç¡®ä¿ä»»åŠ¡çš„åˆ†å‰²ã€‚&lt;/p&gt;
&lt;p&gt;åˆ†å®Œæ¨¡å—ï¼Œè¿˜è¦å‘ŠçŸ¥å¤§å®¶å¦‚ä½•å…·ä½“æŸ¥æ‰¾é—®é¢˜ã€‚
è¿™é‡Œæˆ‘ä»‹ç»ä¸€ä¸ªé€šç”¨çš„æ–¹æ³•ï¼šUSE&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1" rel="footnote"&gt;1&lt;/a&gt;&lt;/sup&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For every resource, check Utilization, Saturation, and Errors.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;USE æ–¹æ³•æ˜¯ä» Brend Gregg é‚£é‡Œå­¦æ¥çš„ã€‚
åœ¨æŠ€æœ¯è®¾æ–½çš„é¢†åŸŸé‡Œï¼ŒResource å³æ˜¯æŒ‡å„ç§ç±»å‹çš„èµ„æºï¼Œæ¯”å¦‚ CPUã€ç£ç›˜ã€ç½‘ç»œã€å†…å­˜ï¼Œ
Utilization æŒ‡çš„æ˜¯ä½¿ç”¨ç‡ï¼Œå¯ä»¥ç®€å•åˆ†ä¸ºç™¾åˆ†åˆ¶å’Œéç™¾åˆ†åˆ¶ã€‚
Saturation æ˜¯æŒ‡é¥±å’Œç‡ï¼Œæ”¯æŒ queue çš„èµ„æºï¼Œå°±ä¼šæœ‰è¿™ä¸ªæŒ‡æ ‡ã€‚
Error å³é”™è¯¯ï¼Œå¯ä»¥ä»é”™è¯¯ç»Ÿè®¡å’Œæ—¥å¿—å¾—çŸ¥ã€‚&lt;sup id="fnref:2"&gt;&lt;a class="footnote-ref" href="#fn:2" rel="footnote"&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;ä¸šåŠ¡é¢†åŸŸé‡Œé¢ï¼ŒUSE ä¹Ÿæœ‰ç›¸å¯¹åº”çš„å«ä¹‰ã€‚ä»¥å®¡æ ¸ç³»ç»Ÿä¸¾ä¾‹ï¼Œ
å¯¹åº”çš„ USE å¯ä»¥ç†è§£ä¸ºã€Œå®¡æ ¸åº”ç”¨å®ä¾‹è·‘çš„ CPU å ç”¨å¦‚ä½•ï¼Œä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦å¡æ»¡ï¼Œä¸šåŠ¡æ—¥å¿—æ˜¯å¦æœ‰å¼‚å¸¸ã€ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº† USE é‡Œé¢æåˆ°çš„æŒ‡æ ‡ï¼Œè¿˜æœ‰å‡ ä¸ªæŒ‡æ ‡ç‰¹åˆ«é‡è¦ï¼š
TPS ã€Latency å’Œ Capacityã€‚
è¿™å‡ ä¸ªæŒ‡æ ‡å¯¹æ€§èƒ½æ•æ„Ÿçš„å°¤ä¸ºé‡è¦ã€‚
æ£€æŸ¥ USE çš„åŒæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»å…³æ³¨ä¸€ä¸‹è¿™ä¸‰ä¸ªæŒ‡æ ‡ï¼Œ
ç¡®ä¿ TPS / Latency æ˜¯å¦æ»¡è¶³æˆ‘ä»¬é¢„æœŸçš„ SLAã€‚
å“¦ï¼Ÿå‹æ ¹æ²¡æœ‰åˆ¶å®š SLAï¼Œä¸è¦æ…Œï¼Œå’Œå†å²æ•°æ®å¯¹æ¯”ï¼Œå…ˆåˆ¶å®šä¸€ä¸ªç²—ç³™çš„ SLAã€‚
å“¦ï¼Ÿè¿å†å²æ•°æ®éƒ½æ²¡æœ‰ï¼Ÿé‚£åªèƒ½æ‰¾ä½  Leader è®©ä»–è€ƒé‡ä¸€ä¸‹äº†ã€‚&lt;/p&gt;
&lt;p&gt;è´Ÿè´£æ¯ä¸ªå­ç³»ç»Ÿçš„åŒå­¦ï¼Œè®°å¾—æ£€æŸ¥æ—¶å€™å°†è¿™äº›æ”¶é›†åˆ°çš„æ•°æ®åˆ—ä¸‹æ¥ã€‚
åœ¨ Metric åšçš„è¿˜ä¸å¤Ÿå®Œå–„æ—¶å€™ï¼Œè¿™äº›æ•°æ®ä¹Ÿæ˜¯å¾ˆå®è´µçš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘çœ‹æ¥ï¼Œæ£€æŸ¥ USE / TPS / Latency ï¼Œ&lt;strong&gt;&lt;strong&gt;æœ€å¤§çš„ä½œç”¨æ˜¯å°†æŠ½è±¡çš„å¯ç”¨æ€§æŒ‡æ ‡æè¿°ä¸ºå‡ ä¸ªæ˜“äºç†è§£çš„æ•°å€¼è¿›è¡Œé‡åŒ–ã€‚
ä¸€æ—¦èƒ½å¤Ÿé‡åŒ–ï¼Œå°±å¯ä»¥å¯¹æ¯”ã€è§‚æµ‹ã€ç›‘æ§ï¼Œå¹¶ä¸” Review èµ·æ¥ä¹Ÿå¼‚å¸¸è½»æ¾&lt;/strong&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id="ying-dui-fang-an"&gt;åº”å¯¹æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;æ£€æŸ¥å‡ºé—®é¢˜ä¹‹åï¼Œå°±è¦è€ƒè™‘åº”å¯¹äº†ã€‚æ—¶é—´æ€¥ä»»åŠ¡å¤šï¼Œæˆ‘ä»¬çš„åº”å¯¹æ–¹æ¡ˆæ˜¯æ˜¯å›¤ç§¯ç²®è‰ / å†™æ•‘å‘½ç¬”è®°ã€‚&lt;/p&gt;
&lt;p&gt;å›¤ç§¯ç²®è‰æ¯”è¾ƒå¥½ç†è§£ï¼Œ&lt;strong&gt;&lt;strong&gt;åŸºäºå·²æœ‰çš„å®¹é‡é¢„ä¼°ï¼Œä¸ºå®¹æ˜“å‡ºé—®é¢˜çš„ç³»ç»Ÿæä¾›ä¸€ä»½å†—ä½™&lt;/strong&gt;&lt;/strong&gt;ã€‚
æœ‰äº›å›¢é˜Ÿå¹³æ—¶åšåŸºç¡€è®¾æ–½å°±æ¯”è¾ƒï¼Œåš Scale å°±æ˜¯å°è½»æ¾ã€‚
é‚£å¹³æ—¶ Scalable åšçš„ä¸å¥½çš„æœ‹å‹ï¼Œå°±åªèƒ½å°†åº”ç”¨å®ä¾‹å¤šå¼€ä¸€äº›ï¼Œä»¥é¿å…ä¸´æ—¶å‡ºç°çš„æµé‡æ³¢åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;æ— çŠ¶æ€çš„æœåŠ¡å¥½æï¼Œæœ‰çŠ¶æ€çš„ DB å°±å¾ˆéš¾åœ¨çŸ­æ—¶é—´å†…åš Scaleã€‚
æ£€æŸ¥è¿™äº›æœåŠ¡çš„å®¹é‡ï¼Œå¦‚æœé‡ç‚¹èµ„æºä¸´è¿‘é˜ˆå€¼ï¼Œæ¯”å¦‚ DB çš„ç¡¬ç›˜èµ„æºï¼Œç¼“å­˜çš„å†…å­˜å®¹é‡ã€‚
æ ¸å¿ƒæœåŠ¡çš„ä½™é‡åœ¨æ£€æŸ¥ä¸­çœŸçš„å‘ç°é—®é¢˜çš„è¯ï¼Œé‚£ä¹Ÿåªèƒ½çŸ­æœŸå†…åšæ‰©å®¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå°å›¢é˜Ÿæ¥è¯´ï¼Œæ˜¥èŠ‚é•¿å‡çš„ç‰¹æ®Šæ€§åœ¨äºå“åº”ä¼šå˜æ…¢ç”šè‡³æ˜¯è”ç³»ä¸ä¸Šã€‚
ä¸€æ—¦çº¿ä¸Šæœ‰å¼‚å¸¸ï¼Œå¯èƒ½æ‰¾ä¸åˆ°åˆé€‚çš„äººå‘˜æ¥è¿›è¡Œå¤„ç†ã€‚
æ‰€ä»¥ç¬¬äºŒæ¡å†™æ•‘å‘½ç¬”è®°åˆ™æ›´ä¸ºé‡è¦ã€‚
ã€ŒGoogle SREã€é‡Œé¢æœ‰ä¸ªå°æ®µå­ï¼Œä¸€ä¸ªç»å¯¹ä¸èƒ½è¢«æŒ‰çš„æŒ‰é’®ï¼Œ
è¿™ä¸ªæŒ‰é’®ä¼šæ¸…ç©ºå†…å­˜æ•°æ®ï¼Œåœ¨é£è¡Œè¿‡ç¨‹ä¸­è¢«å®‡èˆªå‘˜æŒ‰äº†ã€‚å¹¸äºç¾å¥³å·¥ç¨‹å¸ˆï¼ˆä¸‹å›¾ï¼‰å†™äº†ç›¸å…³çš„æ•‘å‘½æ‰‹å†Œï¼Œ
ä¸“é—¨å†™äº†é’ˆå¯¹è¿™ç§æƒ…å†µçš„æ“ä½œï¼Œæ•‘äº†è¿™äº›å®‡èˆªå‘˜çš„å‘½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="201701/sre.jpeg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201701/sre.jpeg"/&gt;&lt;/p&gt;
&lt;p&gt;å›¾ç‰‡æ¥è‡ª ã€ŒGoogle SREã€&lt;/p&gt;
&lt;p&gt;ä»è¿™ä¸ªæ•…äº‹é‡Œé¢å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ªç´§æ€¥æ“ä½œæ‰‹å†Œæ˜¯å¤šä¹ˆé‡è¦ã€‚
&lt;strong&gt;&lt;strong&gt;æ‰€ä»¥åœ¨å¤§æ‰«é™¤æœŸé—´ï¼Œæˆ‘ä»¬è¿˜è¦è¡¥ä¸€è¡¥å¹³æ—¶çš„æ–‡æ¡£ï¼Œå°†ä¸€äº›å¸¸è§é—®é¢˜ / å¸¸è§„æ“ä½œè®°å½•ä¸‹æ¥ã€‚&lt;/strong&gt;&lt;/strong&gt;
æ­¥éª¤éœ€è¦ç»†è‡´åˆ°èƒ½è®©è®©æ¯ä¸ªè¿œç¨‹å€¼ç­çš„åŒå­¦åšåˆ° step by step æ“ä½œã€‚&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;å•°å—¦äº†è¿™ä¹ˆå¤šï¼Œç›¸ä¿¡å¤§å®¶å¯¹å¤§æ‰«é™¤è¦åšäº›ä»€ä¹ˆå·²ç»æœ‰æ‰€å°è±¡äº†ï¼Œç¥å¤§å®¶è¿‡ä¸ªå¥½å¹´ï¼Œæµé‡æ¶¨æ¶¨æ¶¨ï¼Œè¿˜èƒ½å¹³å¹³å®‰å®‰çš„ã€‚&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr/&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;[The USE Method] &lt;a href="http://www.brendangregg.com/usemethod.html"&gt;http://www.brendangregg.com/usemethod.html&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text"&gt;â†©&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;[USE Method: Linux Performance Checklist] &lt;a href="http://www.brendangregg.com/USEmethod/use-linux.html"&gt;http://www.brendangregg.com/USEmethod/use-linux.html&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text"&gt;â†©&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2017/01/spring-cleaning/"&gt;https://blog.alswl.com/2017/01/spring-cleaning/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Tue, 03 Jan 2017 23:20:50 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2017-01-03:2017/01/spring-cleaning/</guid><category>Infrastructure</category><category>DevOps</category></item><item><title>ğŸ”‘ ä¹Ÿè°ˆ HTTPS - å¦‚ä½•å†…æµ‹</title><link>https://blog.alswl.com/2016/12/https-2/</link><description>&lt;p&gt;&lt;img alt="201612/mouse.jpeg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201612/mouse.jpeg"/&gt;
(å›¾ç‰‡æ¥è‡ª &lt;a href="https://www.duitang.com/blog/?id=48013745"&gt;èŒ¶æ¯ä¸­çš„å¯çˆ±å°ç™½é¼  å£çº¸ - 2560x1920ï¼å †ç³–ï¼Œç¾å¥½ç”Ÿæ´»ç ”ç©¶æ‰€&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šç¯‡æ–‡ç«  &lt;a href="https://blog.alswl.com/2016/11/https-1/"&gt;ğŸ”’ ä¹Ÿè°ˆ HTTPS - HTTPDNS + HTTPS&lt;/a&gt; ä¸­ï¼Œ
æˆ‘ä»¬è°ˆäº†å¦‚ä½•åŸºäº HTTPDNS æ¥éƒ¨ç½²æ— åšä¸æ‘§çš„ HTTPS é€šä¿¡ç¯å¢ƒï¼Œ
è¿™æ¬¡æˆ‘ä»¬è®¨è®ºå¦å¤–ä¸€ä¸ªæ¯”è¾ƒå¤´ç–¼çš„é—®é¢˜ï¼šéƒ¨ç½²ã€‚&lt;/p&gt;

&lt;p&gt;å°ç«™ç‚¹éƒ¨ç½² HTTPS ç›¸å¯¹æˆæœ¬ä½ï¼Œæ”¹æ”¹å‰ç«¯ä»£ç ï¼Œå°±å¯ä»¥ä¸Šçº¿äº†ã€‚
ä½†ä½œä¸ºä¸šåŠ¡æœ‰ä¸€å®šå¤æ‚åº¦çš„å¤§ç½‘ç«™ï¼Œå°±æ²¡åŠæ³•è¿™ä¹ˆæš´åŠ›ä¸Šçº¿äº†ã€‚&lt;/p&gt;
&lt;p&gt;å‰ç«¯åœ¨åŸºç¡€åº“ä¸­è°ƒæ•´ Scheme ä¹‹åï¼Œä»ç„¶å¯èƒ½å­˜åœ¨å¾ˆå¤šè¾¹è¾¹è§’è§’æ²¡æœ‰è¦†ç›–åˆ°ã€‚
æ¯”å¦‚ JS é‡Œé¢å†™æ­»äº† HTTPï¼Œé‚£åœ¨ HTTPS ä¸‹è¯·æ±‚ HTTP XHR çš„è¯ï¼Œ
æµè§ˆå™¨ä¼šå°†è¯·æ±‚æ‹¦æˆªæ‰ã€‚
ä¸€æ—¦å‡ºç°è¿™ç§æ•…éšœï¼Œç”¨æˆ·å°±æ— æ³•æ­£å¸¸ä½¿ç”¨ä¸šåŠ¡ï¼Œå°ç™½ç”¨æˆ·å¾€å¾€ä¹Ÿä¸æ‡‚å¾—è‡ªå·±å°† &lt;code&gt;https://&lt;/code&gt; æ¢æˆ &lt;code&gt;http://&lt;/code&gt; ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³çš„æ€è·¯æ˜¯è¶³å¤Ÿçš„å†…æµ‹ï¼Œæ‰¾ä¸€ç¾¤äººå¸®æˆ‘åœ¨ HTTPS ç¯å¢ƒä¸‹ä½¿ç”¨è¶³å¤Ÿé•¿æ—¶é—´ã€‚
è®©ä»–ä»¬å½“å°ç™½é¼ ï¼Œæå‰å‘ç°é—®é¢˜å¹¶è§£å†³ã€‚
äºæ˜¯ï¼Œæˆ‘æŠŠç›®å…‰è½¬å‘äº†èº«è¾¹çš„ä¸€å¤§å¤§ç¾¤å°ç™½é¼ ï¼Œæ•´ä¸ªåŠå…¬å®¤çš„åŒäº‹~ğŸ˜„&lt;/p&gt;
&lt;p&gt;æ²¡é”™ï¼Œ&lt;strong&gt;&lt;strong&gt;æˆ‘è¦å¼ºåˆ¶æ‰€æœ‰åŒäº‹ä½¿ç”¨ HTTPS çš„å…¬å¸ç½‘ç«™&lt;/strong&gt;&lt;/strong&gt;ï¼Œä»è€Œé ä»–ä»¬å¸®æˆ‘å‘ç°é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é å‘é‚®ä»¶ã€QQ å¹¿æ’­å‘¼åå¤§å®¶ä½¿ç”¨ HTTPS ç«™ç‚¹çš„æ–¹æ³•ï¼Œä¼°è®¡æ˜¯ä¸è¡Œçš„ã€‚
æ²¡æœ‰åˆ©ç›Šé©±åŠ¨ï¼Œæ¨åŠ¨åŠ›æ˜¯ä¸è¶³çš„ï¼Œæˆ‘å¿…é¡»æƒ³ç‚¹å¼ºåˆ¶çš„æ‰‹æ®µè®©ä»–ä»¬ä½¿ç”¨ HTTPSã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸‰ç§æ–¹æ³•æ¥è¾¾åˆ°è¿™ä¸ªæ•ˆæœï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸šåŠ¡ç³»ç»Ÿå†…å…¥å£åˆ¤æ–­ç”¨æˆ·èº«ä»½ï¼Œæ˜¯é›‡å‘˜çš„è¯ï¼Œåˆ‡æ¢åˆ° HTTPS&lt;/li&gt;
&lt;li&gt;Nginx å…¥å£ç³»ç»Ÿåˆ¤æ–­ IP æ¥æºï¼ŒåŠå…¬å®¤ IP åˆ™åˆ‡æ¢åˆ° HTTPS&lt;/li&gt;
&lt;li&gt;æ”¹é€ åŠå…¬å®¤ç½‘ç»œï¼Œè®¿é—®ç«™ç‚¹æ—¶å€™ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ° HTTPS&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ºäº†é¿å…å¯¹çº¿ä¸Šä¸šåŠ¡ç³»ç»Ÿã€åŸºç¡€è®¾æ–½é€ æˆå½±å“ï¼Œæˆ‘é‡‡ç”¨äº†ç¬¬ä¸‰æ¡æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;è¯´å¹²å°±å¹²ï¼Œç›´æ¥å¯¹å…¬å¸ç½‘ç»œå‡ºå£è®¾å¤‡æ˜¯ ROS&lt;a href="http://wiki.mikrotik.com/wiki/Main_Page"&gt;via&lt;/a&gt; åŠ¨èµ·åˆ€å­ã€‚&lt;/p&gt;
&lt;p&gt;å®ç°çš„åŸç†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Aï¼šåŠå…¬å®¤ç½‘ç»œçš„ ğŸ ä»¬è¯·æ±‚ç«™ç‚¹ http://www.duitang.com&lt;/li&gt;
&lt;li&gt;Bï¼šæ“ä½œ RouterOS çš„é˜²ç«å¢™ï¼Œå°† dst ä¸º www.duitang.com IP çš„ TCP è¯·æ±‚éƒ½ dst-nat åˆ°æ–°çš„ä¸€å° Nginx æœåŠ¡å™¨ proxy.duitang.com&lt;/li&gt;
&lt;li&gt;Cï¼šè¿™å° proxy.duitang.com åšè¿‡ç‰¹åˆ«å®šåˆ¶ï¼Œå°†æ‰€æœ‰é’ˆå¯¹ *.duitang.com è¯·åšä¸€æ¬¡ 302 è¯·æ±‚ï¼Œå°† http://www.duitang.com è¯·æ±‚éƒ½è½¬å‘åˆ° https://www.duitang.com&lt;/li&gt;
&lt;li&gt;Dï¼šClient æ”¶åˆ° 302 è¯·æ±‚ï¼Œé‡æ–°è¯·æ±‚ https://www.duitang.com&lt;/li&gt;
&lt;li&gt;Eï¼šåŒ B&lt;/li&gt;
&lt;li&gt;Fï¼šproxy.duitang.com å°†è¯·æ±‚è½¬å‘åˆ°çœŸæ­£çš„ www.duitang.com æœåŠ¡å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;PSï¼šè¿™é‡Œè¦å°å¿ƒçš„æ˜¯ï¼Œéœ€è¦é…ç½® proxy.duitang.com çš„ &lt;code&gt;resolver&lt;/code&gt; é¿å… Nginx å†…éƒ¨è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;æµç¨‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="201612/https_ros_process.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201612/https_ros_process.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·æ“ä½œä¹‹åï¼Œåœ¨åŠå…¬å®¤ç½‘ç»œä¸‹ï¼Œæ‰€æœ‰è®¿é—®å…¬å¸ç½‘ç«™çš„ HTTP æµé‡éƒ½ä¼šè·³è½¬åˆ° HTTPSã€‚&lt;/p&gt;
&lt;p&gt;PSï¼šæˆ‘åŸå§‹æ–¹æ¡ˆæƒ³ä½¿ç”¨ ROS çš„ L7 é˜²ç«å¢™ ç›´æ¥æŠ“ HTTP åŒ…ï¼Œmatch HTTP å¤´æ•°æ®ï¼Œ
å†ä¿®æ”¹è¿”å›çš„ TCP åŒ…ã€‚
ä½†æµ‹è¯•ä¸‹æ¥å‘ç° ROS L7 Firewall ä¸æ”¯æŒå†™ TCP æ•°æ®ã€‚
æ‰€ä»¥æˆ‘æœ€ååªèƒ½ä½¿ç”¨ä¸­é—´è·³è½¬çš„æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸æ˜¯ä½¿ç”¨ ROS çš„æœ‹å‹ä¹Ÿä¸ç”¨æ‹…å¿ƒï¼ŒåŸç†å’Œæµç¨‹å·²ç»è®²æ¸…æ¥šäº†ï¼Œ
æ— éæ˜¯ä½¿ç”¨ Cisco / Huawei ç½‘ç»œè®¾å¤‡çš„é˜²ç«å¢™å‘½ä»¤å®ç°éœ€è¦çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;ä¸Šç¯‡æ–‡ç« å‘å®Œä¹‹åï¼Œå¥½å‡ ä¸ªæœ‹å‹é—®æˆ‘ IP è¯ä¹¦ä¾›åº”å•†çš„äº‹æƒ…ã€‚æˆ‘å°±ç®€å•è¯´ä¸€ä¸‹æˆ‘äº†è§£çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;å›½å†… SSL è¯ä¹¦ä¾›åº”å•†ä»¬ä¼šç»™ä»–ä»¬å…œå”®çš„äº§å“èµ·å„ç§å„æ ·èŠ±é‡Œèƒ¡å“¨çš„åå­—ï¼Œ
ä»€ä¹ˆè¶…çœŸã€è¶…å¼ºã€è¶…å®‰ã€è¶…å¿«ï¼Œå›½å¤–æœ‰äº›ä¼ä¸šä¹Ÿä¼šæä»€ä¹ˆ Pro / Super / Premium / Essentialï¼Œ
å…¶å® SSL è¯ä¹¦çš„åŒºåˆ†ï¼Œç¬¼ç»Ÿæ¥è¯´å°±ä¸‰ç§ç±»å‹ï¼šDV / OV / EVï¼Œ
Domain Validation / Orgnization Validation / Extented Validationã€‚
ä»–ä»¬åŒºåˆ«é™¤äº†å­—é¢æ„æ€ï¼Œå°±æ˜¯æ‰€æœ‰æƒå®¡æ ¸æµç¨‹ä¸€ä¸ªæ¯”ä¸€ä¸ªéº»çƒ¦ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³åŸºäº IP ç›´æ¥ææ‰€æœ‰æƒå®¡æ ¸ï¼Œè¦çœ‹å¯¹åº”ä¾›åº”å•†çš„è¯ä¹¦æ˜¯å¦æ”¯æŒã€‚
å»å¹´å¹´åº•æˆ‘åšäº†ä¸€ä¸ªè°ƒæŸ¥ï¼Œæ”¯æŒ IP è¯ä¹¦çš„å‚å®¶å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Rapid SSL ä¸æ”¯æŒ ip&lt;/li&gt;
&lt;li&gt;wosign OV çº§åˆ«æ”¯æŒ&lt;ul&gt;
&lt;li&gt;OV éœ€è¦éªŒè¯ éœ€è¦éªŒè¯ç”³è¯·å•ä½çš„è¥ä¸šæ‰§ç…§ã€ç­‰å…¶ä»–è¯æ˜æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æµè§ˆå™¨æ”¯æŒæƒ…å†µ&lt;ul&gt;
&lt;li&gt;Firefox 32 &lt;a href="https://mozillacaprogram.secure.force.com/CA/IncludedCACertificateReport"&gt;https://mozillacaprogram.secure.force.com/CA/IncludedCACertificateReport&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;äº¤å‰è®¤è¯äº† Startcom çš„è¯ä¹¦ï¼Œå¯ä»¥æ”¯æŒè€ç‰ˆæœ¬&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;GlobalSign OV æ”¯æŒ&lt;ul&gt;
&lt;li&gt;$349 * 6 * 8 = 16752&lt;/li&gt;
&lt;li&gt;&lt;a href="https://support.globalsign.com/customer/portal/articles/1216536-securing-a-public-ip-address---ssl-certificates"&gt;https://support.globalsign.com/customer/portal/articles/1216536-securing-a-public-ip-address---ssl-certificates&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;éœ€è¦è®¤è¯ RIPE ipï¼Œ &lt;a href="https://apps.db.ripe.net/search/query.html?searchtext=221.228.82.178#resultsAnchor"&gt;https://apps.db.ripe.net/search/query.html?searchtext=221.228.82.178#resultsAnchor&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Geotrust æ˜ç¡®è¡¨ç¤ºä¸æ”¯æŒ https://www.geocerts.com/faq#Q47&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç°åœ¨ Wosign çˆ†äº†ä¸‘é—»ï¼Œäºæ˜¯æ”¯æŒ IP SSL åˆå°‘äº†ä¸€å®¶ã€‚
åªå‰©ä¸‹ GlobalSign äº†ï¼Œä½†æ˜¯ GlobalSign OV åˆè´µå®¡æ ¸åˆéº»çƒ¦ï¼Œ
ä¸çŸ¥é“çœ‹åˆ°æ­¤æ–‡çš„å¤§ç¥ä»¬æœ‰æ²¡æœ‰æ›´å¥½çš„æ¨èã€‚&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;å‚è€ƒé“¾æ¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://serverfault.com/questions/193775/ssl-certificate-for-a-public-ip-address"&gt;domain name - SSL certificate for a public IP address? - Server Fault&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://wiki.mikrotik.com/wiki/Manual:IP/Firewall/Filter"&gt;ROS Filter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://wiki.mikrotik.com/wiki/Manual:IP/Firewall/NAT"&gt;ROS NAT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://wiki.mikrotik.com/wiki/Manual:IP/Firewall/L7"&gt;ROS Firewall L7&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://forum.mikrotik.com/viewtopic.php?f=13&amp;amp;t=62152"&gt;How to block and redirect website - MikroTik RouterOS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://forum.mikrotik.com/viewtopic.php?t=39837"&gt;Mikrotik IP REDIRECT using firewall - MikroTik RouterOS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://forum.mikrotik.com/viewtopic.php?t=88049"&gt;Redirect all traffic from a spesific ip number to a web page - MikroTik RouterOS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/12/https-2/"&gt;https://blog.alswl.com/2016/12/https-2/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Thu, 08 Dec 2016 20:16:26 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-12-08:2016/12/https-2/</guid><category>HTTPS</category><category>HTTPDNS</category><category>MikroTik</category></item><item><title>æ•™ä½ åœ¨ä¸Šæµ·æŒ‘æˆ¿å­</title><link>https://blog.alswl.com/2016/12/house/</link><description>&lt;p&gt;&lt;img alt="201612/shanghai.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201612/shanghai.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å¼€çš„åŒå­¦åˆ«å¤±æœ›ï¼Œè¿™å¹¶ä¸æ˜¯æ•™ä½ å¦‚ä½•å¿«é€Ÿè‡´å¯Œçš„ ğŸ˜‚ &amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;ä¸Šæµ·æ”¿åºœåœ¨ 11-28 å‡ºäº†æˆ¿å±‹æ–°æ”¿ &lt;a href="http://sh.xinhuanet.com/2016-11/28/c_135864791.htm"&gt;via&lt;/a&gt;ï¼Œå¯¹æˆ¿ä»·è¿›è¡Œè¿›ä¸€æ­¥è°ƒæ§ã€‚
å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ã€Œè®¤æˆ¿åˆè®¤è´·ã€ã€‚3 æœˆä»½çš„æ”¿ç­– &lt;a href="http://www.shanghai.gov.cn/nw2/nw2314/nw2319/nw10800/nw11408/nw39426/u26aw46965.html"&gt;via&lt;/a&gt; æ˜¯é™åˆ¶è´­æˆ¿èµ„æ ¼ã€‚
è¿™æ¬¡ 11 æœˆä»½è°ƒæ•´åˆ™æ˜¯æé«˜äºŒå¥—æˆ¿é¦–ä»˜æ¯”ä¾‹ã€‚
åŒç®¡é½ä¸‹ï¼Œè¿›ä¸€æ­¥ç»™ä¸Šæµ·æˆ¿å¸‚è¿›è¡Œé™æ¸©ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç§ä¸¥è‹›çš„æ”¿ç­–ä¸‹é¢ï¼Œå¦‚ä½•æŒ‘é€‰ä¸€å¥—è‡ªå·±æ»¡æ„ï¼Œå®¶äººä½å¾—å®‰å¿ƒçš„æˆ¿å­å°±å°¤ä¸ºå…³é”®äº†ã€‚
æˆ‘å¯¹æˆ¿å¸‚ä¸€ç›´æ¯”è¾ƒå…³æ³¨ï¼Œä¹Ÿæ›¾æœ‰å‡ ä½æœ‹å‹å’¨è¯¢æˆ‘çš„ä¸€äº›ç»éªŒã€‚ä¹‹å‰æˆ‘æ˜¯å°† Evernote
ç¬”è®°é“¾æ¥è´´ç»™åˆ«äººï¼Œè¿™æ¬¡æˆ‘å°±è¯¦ç»†è®²è®²ï¼Œå¦‚ä½•åœ¨ä¸Šæµ·æŒ‘æˆ¿å­ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼Œ&lt;strong&gt;&lt;strong&gt;æ˜¯å»ºç«‹æœ‰ä»·å€¼çš„ Indicatorï¼Œå¹¶å¯¹å…·ä½“æˆ¿æºè¿›è¡Œè®¡ç®—&lt;/strong&gt;&lt;/strong&gt;ã€‚
Indicator çš„å«ä¹‰æ˜¯å»ºç«‹ä¸€ç³»åˆ—è¯„ä»·æŒ‡æ ‡ï¼Œæ¯”å¦‚ä»·æ ¼ã€æˆ·å‹ã€ä½ç½®ï¼Œ
å†æ ¹æ®è¿™äº› Indicator ç»™æˆ¿æºè¿›è¡Œæ‰“åˆ†ã€‚
å¦‚æœæˆ‘æ˜¯ä¸€ä¸ªè´­æˆ¿è€…ï¼Œæˆ‘æŒºå¸Œæœ›æˆ‘çš„ç½®ä¸šé¡¾é—®å‘Šè¯‰æˆ‘è¿™å¥—æˆ¿æœ‰å“ªäº›ä¼˜ç‚¹ã€ç¼ºç‚¹ï¼Œç»¼åˆè¯„ä»·å¾—å‡ ä»½ã€‚
ï¼ˆå½“ç„¶å®é™…æƒ…å†µä¸‹è¿™äº›ç½®ä¸šé¡¾é—®éƒ½æ˜¯å¹å¾—å¤©èŠ±ä¹±å ï¼Œå°½ççœ¼è¯´çè¯ã€‚ï¼‰
çœ‹æˆ¿çš„è¿‡ç¨‹å¯èƒ½é•¿è¾¾æ•°æœˆï¼Œè€Œäººçš„è®°å¿†ä¼šéšç€æ—¶é—´é€æ­¥å¤±çœŸï¼Œåªå¯¹æœ€è¿‘çœ‹åˆ°çš„äº‹ç‰©æœ‰æ·±åˆ»å°è±¡ã€‚
ä½¿ç”¨å®¢è§‚çš„æ•°å­—è¯„ä»·æˆ¿æºï¼Œåˆ™å¯ä»¥è¿›è¡Œç²¾å‡†çš„è¯„ä»·ï¼Œé¿å…äº§ç”Ÿä¸»è§‚è‡†æ–­ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä½¿ç”¨çš„ Indicator å’Œè¯„ä»·ç»†é¡¹ç½—åˆ—å¦‚ä¸‹ï¼Œä¾›å‚è€ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»·æ ¼&lt;/li&gt;
&lt;li&gt;é¢ç§¯&lt;/li&gt;
&lt;li&gt;åœ°ç†ä½ç½®ï¼šå†…ç¯ã€ä¸­ç¯ã€å¤–ç¯&lt;/li&gt;
&lt;li&gt;äº¤é€šï¼šç¦»åœ°é“è·ç¦»ï¼Œæ¢ä¹˜ä¾¿åˆ©æ€§ï¼›å¤šåœ°é“çº¿æ¢ä¹˜ï¼›&lt;/li&gt;
&lt;li&gt;æˆ·å‹ï¼šå—åŒ—é€šé€ï¼›å®¢å…æœå—ï¼›å…¨æ˜ï¼›æˆ·å‹æ–¹æ­£ï¼›æ— æš—å®¤&lt;/li&gt;
&lt;li&gt;è£…ä¿®ï¼šæ¯›èƒšï¼›ç®€è£…ï¼›æ™®é€šï¼›ç²¾è£…ï¼›è±ªè£…&lt;/li&gt;
&lt;li&gt;å•†åœˆï¼šè´­ç‰©ä¸­å¿ƒï¼›è¶…å¸‚ï¼›èœåœº&lt;/li&gt;
&lt;li&gt;å­¦åŒºæˆ¿&lt;/li&gt;
&lt;li&gt;äº§æƒï¼šæ»¡äº”å”¯ä¸€&lt;/li&gt;
&lt;li&gt;æ¥¼å±‚&lt;/li&gt;
&lt;li&gt;æˆ¿é¾„ï¼š5 / 10 / 15 / 20&lt;/li&gt;
&lt;li&gt;æ”¿ç­–å‘å±•å‰æ™¯&lt;/li&gt;
&lt;li&gt;åœè½¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¬¬äºŒæ­¥ï¼Œ&lt;strong&gt;&lt;strong&gt;å°±æ˜¯å’Œå®¶äººè¾¾æˆä¸€è‡´çš„æœŸæœ›&lt;/strong&gt;&lt;/strong&gt;ï¼Œé¿å…æ½œåœ¨çš„çº çº·ã€‚
æ¯ä¸ªäººå¯¹æœªæ¥çš„ä½æˆ¿æœ‰è‡ªå·±çš„æœŸæœ›ï¼Œå³ä¾¿æ˜¯ä¸€å®¶äººï¼Œ
å„è‡ªçœ‹ä¸­çš„ç‚¹ä¹Ÿä¸ä¼šå¤ªä¸€æ ·ã€‚ä¸ç®¡å¹³æ—¶å®¶åº­å†³ç­–æ˜¯ä»€ä¹ˆæµç¨‹ï¼Œæˆ‘éƒ½å»ºè®®åä¸‹æ¥ä¸€èµ·è®¨è®ºè®¨è®ºã€‚
å°† Indicator ä¾æ¬¡åˆ—å‡ºï¼Œå¤§å®¶è®¨è®ºå„è‡ªå¿ƒä¸­çš„ä¼˜å…ˆçº§ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†ä¼˜å…ˆçº§çš„è®¨è®ºï¼Œè¿˜è¦è€ƒè™‘ä¸€ä¸‹å„è‡ªå¯¹ Indicator åˆ’åˆ†ç­‰çº§çš„ç†è§£ã€‚
æ¯”å¦‚å¯¹æˆ¿å‹ã€è£…ä¿®è¿™ä¸¤é¡¹ï¼Œè¯„ä»·æ ‡å‡†å°±ä¼šå¾ˆæ¨¡ç³Šï¼Œè¿™ä¸€åˆ‡éƒ½éœ€è¦è®¨è®ºæ¸…æ¥šã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¸ªäººæœ€ä¸ºçœ‹ä¸­ä»·æ ¼ã€ä½ç½®ã€äº¤é€šï¼Œå¯ä»¥æ”¾å¼ƒçš„æœ‰å­¦åŒºæˆ¿ã€åœè½¦ã€æˆ·å‹ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰æ­¥ï¼Œ&lt;strong&gt;&lt;strong&gt;åˆ’å®šåœˆå­ï¼Œåˆ¤æ–­è¶‹åŠ¿&lt;/strong&gt;&lt;/strong&gt;ã€‚
ä¼—å¤š Indicator é‡Œé¢ï¼Œä»·æ ¼æ˜¯å›ºå®šçš„ï¼Œæˆ·å‹ã€æ¥¼å±‚ç­‰æ˜¯å’Œå…·ä½“æˆ¿æºç›¸å…³çš„ï¼Œ
æˆ‘ä»¬èƒ½å¤Ÿæ’¬åŠ¨çš„æœ€é‡è¦å› ç´ ï¼Œå…¶å®å°±æ˜¯ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºä¸Šæµ·è¿™ä¸ªæ‹¥æœ‰ 2500w äººå£çš„è¶…å¤§å‹åŸå¸‚ï¼Œæ˜¯ä¸å¯èƒ½æŠŠå„ä¸ªä½ç½®çš„æˆ¿æºéƒ½æ‰«ä¸€éçš„ï¼Œ
æ‰€ä»¥å¿…é¡»é‡ç‚¹è§„åˆ’è‡ªå·±å‡†å¤‡å®åœ°è€ƒå¯Ÿçš„åŒºåŸŸã€‚
é‚£ä¹ˆæˆ‘ä»¬å°±åœ¨ä¸Šæµ·åœ°å›¾ä¸Šé¢åˆ’å‡ ä¸ªåœˆäº†ï¼Œæ•°æ®å¯ä»¥é€šè¿‡é“¾å®¶ã€ä¸­åŸåœ°äº§ç­‰å¤šç½‘ç«™æ”¶é›†ã€‚
å®‰å±…å®¢æœ‰ä¸€ä¸ªå¤§é¢—ç²’åº¦çš„åœˆå­ï¼Œå±•ç¤ºäº†ç¤¾åŒºé›†ä¸­ç‚¹ &lt;a href="http://shanghai.anjuke.com/"&gt;via&lt;/a&gt;ï¼Œ
ä¸‹å›¾æ˜¯æˆ‘ç­›é€‰æ¡ä»¶ä¹‹åå½¢æˆçš„å‡ ä¸ªç°‡ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="201612/map_thumb.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201612/map_thumb.png"/&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆæ•°æ®çˆ¬å–åˆ†æè¿™ä¸€å—ï¼Œæˆ‘åªæœä¸€ä¸ªäººï¼Œä»–ä¸“é—¨å†™äº†ä¸€å †çˆ¬è™«ææ•°æ®ç„¶ååˆ†æï¼Œ
å¦‚æœå¯¹æ­å·çš„æˆ¿åœ°äº§æŠ•èµ„æ„Ÿå…´è¶£ï¼Œå¯ä»¥ç§ä¿¡æˆ‘ï¼Œæˆ‘å¯ä»¥å¸®å¿™é—®é—®ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;ä»åŸå¸‚çº§åˆ«æ¥çœ‹ï¼Œå…¶å®ä¸åŒåŒºåŸŸçš„å˜åŒ–è¶‹åŠ¿åŸºæœ¬æ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯å±€éƒ¨åœ°åŒºå¯èƒ½å—å¤–éƒ¨å› ç´ è€Œå‡ºç°è¾ƒå¤§æ³¢åŠ¨ã€‚
æ¯”å¦‚ä¸Šæµ·é—¸åŒ—å¹¶å…¥é™å®‰ï¼Œä»·æ ¼å°±å¤§æ¶¨ï¼›å¤§å®æ¿å—äº§ç”Ÿä¸€ä¸ªåœ°ç‹ï¼Œä¹Ÿä¼šè®©è¿™ç‰‡åŒºåŸŸä»·æ ¼å¤§å¹…æ³¢åŠ¨ï¼›
ç”šè‡³æ–°å¼€ä¸šä¸€ä¸ª Mallï¼Œéƒ½ä¼šè®©å‘¨è¾¹ä»·æ ¼æ³¢åŠ¨ã€‚
è¿™äº›å¤–éƒ¨å› ç´ ï¼Œå¿…é¡»æå‰å…³æ³¨æ”¿åºœå¸‚æ”¿è§„åˆ’æ–¹æ¡ˆã€æˆ¿äº§ç½‘ç«™ã€å…¬ä¼—å·ã€æˆ¿äº§å¾®åšã€‚
æ”¿ç­–ç›¸å…³æ¨èé˜…è¯»ï¼šã€Œä¸Šæµ·å¸‚åŸå¸‚æ€»ä½“è§„åˆ’ï¼ˆ2015-2040ï¼‰çº²è¦æ¦‚è¦ã€ 
&lt;a href="http://2040.shgtj.net/web/"&gt;via&lt;/a&gt; è§„åˆ’äº†æ•´ä½“å‘å±•æ ¼è°ƒã€‚
ã€Œä¸Šæµ·å¸‚å•†ä¸šç½‘ç‚¹å¸ƒå±€è§„åˆ’ï¼ˆ2013-2020ï¼‰ã€&lt;a href="http://www.scofcom.gov.cn/zxxxgk/235081.htm"&gt;via&lt;/a&gt; è§„åˆ’äº† 14 ä¸ªå¸‚çº§å•†åœˆï¼Œä¹‹å‰åªæœ‰ 10 ä¸ªï¼Œè¿˜æœ‰è‹¥å¹²åŒºçº§å•†åœˆã€‚ &lt;/p&gt;
&lt;p&gt;ç¬¬å››æ­¥ï¼Œ&lt;strong&gt;&lt;strong&gt;å¿«é€Ÿè¡ŒåŠ¨ï¼Œå¿«é€Ÿå†³ç­–&lt;/strong&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜è®°å¾—æ¡è¥¿ç“œçš„æ•…äº‹ä¹ˆï¼Œå°çŒ´å­ä¸€ç›´æƒ³æ‰¾ä¸ªå¤§è¥¿ç“œï¼Œä½†ä¸€è·¯çœ‹è¿‡å»æœ€åä»€ä¹ˆéƒ½æ²¡æ¡åˆ°ã€‚
çœ‹æˆ¿ä¸ä»…ä»…æ˜¯ä¸€ä¸ªä½“åŠ›æ´»ï¼Œè€Œä¸”éå¸¸è®²ç©¶æ—¶æ•ˆæ€§çš„ï¼Œå¿…é¡»èƒ½å¤Ÿå¿«é€Ÿå“åº”ï¼Œå¿«é€Ÿå†³ç­–ã€‚
åœ¨ä¸Šæµ·è¿™ä¸­åˆšéœ€å¼ºéœ€æ±‚æ—ºç››çš„åŸå¸‚ï¼Œä¸€å¥—è¯„ä»·éƒ½ä¸é”™çš„æˆ¿æºï¼ŒåŠå¤©å†…å°±ä¼šè¢«åˆ«äººæ‹¿ä¸‹ã€‚
æ‰€ä»¥å‰æœŸè§‚å¯Ÿä¸€æ®µæ—¶é—´ä¹‹åï¼Œå¿…é¡»æ‘¸æ¸…æ¥šè‡ªå·±çš„éœ€æ±‚å’Œæ‰¿å—èƒ½åŠ›ï¼Œé‡åˆ°åˆé€‚çš„æˆ¿æºï¼Œ
å°±é€Ÿæˆ˜é€Ÿå†³ã€‚&lt;/p&gt;
&lt;p&gt;é€Ÿæˆ˜é€Ÿå†³è¿˜ä¾èµ–å®åœ°çœ‹æˆ¿æºçš„æ•ˆç‡ã€‚
ä»æˆ‘çš„ç»éªŒæ¥çœ‹ï¼Œä¸€å¤©è‡³å¤šå¯ä»¥çœ‹ 10 å¥—å·¦å³çš„æˆ¿æºã€‚
å‡ºå‘å‰ä¸€å¤©çº¦å¥½ä¸­ä»‹ã€æˆ¿ä¸œï¼Œåˆ—ä¸€ä¸ªæ¸…å•ï¼Œæ—¶é—´ã€åœ°ç‚¹ã€è”ç³»æ–¹å¼å…¨éƒ¨ç½—åˆ—ä¸‹æ¥ï¼Œç¬¬äºŒå¤©ä¾ç…§æ¸…å•è¡ŒåŠ¨ã€‚
å¦å¤–ä¸ºäº†æé«˜é€Ÿåº¦ï¼Œå…¨ç¨‹åº”è¯¥æ‰“è½¦ï¼Œå¯¹äºä¸Šæµ·è¿™æ ·çš„ä¸€çº¿åŸå¸‚ï¼Œå‡ºç§Ÿè½¦è´¹ç”¨å’Œæˆ¿äº§ä»·æ ¼ç›¸æ¯”ï¼ŒçœŸçš„æ˜¯å°é’±ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨çœ‹ä¸­åˆé€‚çš„æˆ¿æºä¹‹åï¼Œæœ‰äº›äººå¯èƒ½é¢å¯¹è¿™ç¬”å·¨é¢äº¤æ˜“æ‘‡æ‘†ä¸å®šï¼Œè€Œé”™å¤±äº†è‰¯æœºã€‚
æ”¶ç›Šäº Indicator + å‰æœŸæ•°æ®å‡†å¤‡ï¼Œæˆ‘ä»¬åœ¨çœ‹æˆ¿æ—¶å€™åº”è¯¥å…·æœ‰äº†å®¢è§‚çš„è¯„ä»·èƒ½åŠ›ã€‚
ä¸€æ—¦å„æ–¹é¢æ»¡æ„ï¼Œä¸è¦çŠ¹è±«ï¼Œå¿«é€Ÿå†³ç­–ã€‚
ä½†ä¹Ÿä¸è¦å› ä¸ºå‡ æ¬¡æ“¦è‚©è€Œè¿‡å°±å†²åŠ¨å†³ç­–ï¼Œè¦ç›¸ä¿¡å®¢è§‚çš„ Indicator æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ¨èä¸Šç­æ—çœ‹æˆ¿æ—¶é—´å®‰æ’æ˜¯ï¼Œé¢‘ç¹çœ‹æˆ¿ä¸¤ä¸ªæœˆï¼Œæ¯å‘¨æœ«ä¸¤å¤©å‡ºåŠ¨ã€‚
å‰æœŸä¸€ä¸ªæœˆçœ‹æˆ¿ï¼Œä¸ç®¡çœ‹ä¸­å¤šä¸­æ„çš„ï¼Œéƒ½ä¸åšå†³ç­–ï¼Œ
ä½†è¦è®¡ç®—å‡ºä¸€ä¸ªè‡ªå·±å¿ƒç†é¢„æœŸã€‚ä¸€ä¸ªæœˆåï¼Œçœ‹åˆ°åˆé€‚çš„ç«‹åˆ»ä¸Šæ‰‹ã€‚&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;OK å†™å®Œäº†ã€‚å›é¡¾å…¶å®è¿™å››ä¸ªæ­¥éª¤ï¼Œå…¶å®å°±æ˜¯é€‰ä¸€ä¸ªå¼€æºè½¯ä»¶çš„æµç¨‹å˜›ã€‚
è®¾å®šç‰¹æ€§éœ€æ±‚ -&amp;gt; è®¾å®šæœŸæœ› -&amp;gt; è°ƒç ”å€™é€‰è€… -&amp;gt; å¿«é€Ÿæµ‹è¯•ä¸Šçº¿ã€‚
åš¯åš¯åš¯ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œå¦‚æœä½ æ°å¥½åœ¨çœ‹æˆ¿ï¼Œå¸Œæœ›ä½ çœ‹å®Œæœ¬æ–‡æœ‰äº›æ”¶è·ï¼Œæ”¶è·è‡ªå·±ä¸­æ„çš„ä½æˆ¿ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/12/house/"&gt;https://blog.alswl.com/2016/12/house/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Mon, 05 Dec 2016 21:29:37 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-12-05:2016/12/house/</guid><category>Shanghai</category></item><item><title>ğŸ”’ ä¹Ÿè°ˆ HTTPS - HTTPDNS + HTTPS</title><link>https://blog.alswl.com/2016/11/https-1/</link><description>&lt;p&gt;æœ€è¿‘è°ˆè®º HTTPS çš„æ–‡ç« å¾ˆå¤šï¼Œå…¶åŸå› ä¹‹ä¸€æ˜¯è¿è¥å•†ä½œæ¶åº•çº¿è¶Šæ¥è¶Šä½ï¼ŒåŠ¨ä¸åŠ¨å°±æ’æ’­å¹¿å‘Šï¼Œ
å‰ä¸¤å¤©å°ç±³è¿˜è”åˆå‡ å®¶å…¬å¸å‘æ–‡ &lt;a href="http://weibo.com/1771925961/Da1aopxLQ?refer_flag=1001030103_&amp;amp;type=comment#_rnd1480392491936"&gt;å…³äºæŠµåˆ¶æµé‡åŠ«æŒç­‰è¿æ³•è¡Œä¸ºçš„è”åˆå£°æ˜&lt;/a&gt; ç—›æ–¥æŸäº›è¿è¥å•†ã€‚
å¦ä¸€æ–¹é¢ä¹Ÿæ˜¯è‹¹æœ &lt;a href="https://techcrunch.com/2016/06/14/apple-will-require-https-connections-for-ios-apps-by-the-end-of-2016/"&gt;ATS&lt;/a&gt; æ”¿ç­–çš„å¤§åŠ›æ¨åŠ¨ï¼Œé€¼è¿«å¤§å®¶åœ¨ APP ä¸­å…¨éƒ¨ä½¿ç”¨ HTTPS é€šä¿¡ã€‚
ä¸Š HTTPS çš„å¥½å¤„å¾ˆå¤šï¼šä¿æŠ¤ç”¨æˆ·çš„æ•°æ®ä¸å¤–æ³„ï¼Œé¿å…ä¸­é—´äººç¯¡æ”¹æ•°æ®ï¼Œ
å¯¹ä¼ä¸šä¿¡æ¯è¿›è¡Œé‰´æƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="201611/https.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201611/https.png"/&gt;&lt;/p&gt;
&lt;p&gt;å…³äº HTTPS å¦‚ä½•è´­ä¹°è¯ä¹¦ï¼Œå¦‚ä½•éƒ¨ç½²ï¼Œç½‘ä¸Šçš„æ•™ç¨‹å·²ç»å¤ªå¤šäº†ï¼Œå®è·µèµ·æ¥æ²¡æœ‰å¤ªå¤§çš„éš¾å¤„ã€‚
æˆ‘ä»¬åœ¨éƒ¨ç½² HTTPS çš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€äº›æ–°é—®é¢˜ï¼Œé¦–å½“å…¶å†²çš„å°±æ˜¯ HTTPS éƒ¨åˆ†ç½‘ç»œä¸å¯è®¿é—®çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å°½ç®¡ä½¿ç”¨äº† HTTPS æŠ€æœ¯ï¼Œéƒ¨åˆ†é‚ªæ¶çš„è¿è¥å•†ï¼Œä»ç„¶ä½¿ç”¨ DNS æ±¡æŸ“æŠ€æœ¯ï¼Œè®©åŸŸåæŒ‡å‘çš„ä»–ä»¬è‡ªå·±æœåŠ¡å™¨
  è€Œè¿™äº›æœåŠ¡å™¨å¹¶æ²¡æœ‰éƒ¨ç½² SSL æœåŠ¡ï¼ˆå°±ç®—éƒ¨ç½²äº†ï¼Œä¹Ÿä¼šè§¦å‘ SSL è¯ä¹¦ Common name ä¸ä¸€è‡´æŠ¥è­¦ï¼‰ï¼Œ
  å¯¼è‡´ 443 ç«¯å£ç›´æ¥è¢«æ‹’ç»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¿™ä¸ªé—®é¢˜ä¸è§£å†³ï¼Œå¼ºè¡Œä¸Š HTTPS çš„è¯ï¼Œä¼šå¯¼è‡´ä¸€éƒ¨åˆ†ç”¨æˆ·å‡ºç°æ— æ³•è®¿é—®ç½‘ç«™
ä¸€æ—¦ç”¨æˆ·ä¸çˆ½äº†ï¼Œè½»åˆ™å¯¹äº§å“ä¸ä¿¡ä»»ï¼Œé‡åˆ™ç›´æ¥å¯¼è‡´ç”¨æˆ·æµå¤±ã€‚&lt;/p&gt;
&lt;p&gt;è¿è¥å•†ä¸ºäº†èµšå¹¿å‘Šé’±ã€çœç½‘é—´ç»“ç®—æ˜¯ä¸æ‹©æ‰‹æ®µçš„ã€‚
ä»–ä»¬æ™®éä½¿ç”¨çš„åŠ«æŒæ‰‹æ®µæ˜¯é€šè¿‡ ISPæä¾›çš„ DNS ä¼ªé€ åŸŸåã€‚
é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥è§£å†³ DNS åŠ«æŒå‘¢ï¼Ÿ
ä¸šç•Œæœ‰ä¸€å¥—è§£å†³è¿™ç±»åœºæ™¯çš„æ–¹æ¡ˆï¼Œå³ HTTPDNSã€‚&lt;/p&gt;
&lt;p&gt;HTTPDNS çš„åŸç†å¾ˆç®€å•ï¼Œå°† DNS è¿™ç§å®¹æ˜“è¢«åŠ«æŒçš„åè®®ï¼Œè½¬ä¸ºä½¿ç”¨ HTTP åè®®è¯·æ±‚ Domain &amp;lt;-&amp;gt; IP æ˜ å°„ã€‚
è·å¾—æ­£ç¡® IP ä¹‹åï¼ŒClient è‡ªå·±ç»„è£… HTTP åè®®ï¼Œä»è€Œé¿å… ISP ç¯¡æ”¹æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ç¯‡æ–‡ç« å¾ˆæ¸…æ™°çš„è®²è§£äº† HTTPDNS çš„ç»†èŠ‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://mp.weixin.qq.com/s?__biz=MzA3ODgyNzcwMw==&amp;amp;mid=201837080&amp;amp;idx=1&amp;amp;sn=b2a152b84df1c7dbd294ea66037cf262&amp;amp;scene=2&amp;amp;from=timeline&amp;amp;isappinstalled=0#rd"&gt;ã€é¹…å‚ç½‘äº‹ã€‘å…¨å±€ç²¾ç¡®æµé‡è°ƒåº¦æ–°æ€è·¯-HttpDNSæœåŠ¡è¯¦è§£&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;è…¾è®¯è¿™ç¯‡æ–‡ç« æ—¶é—´ç‚¹æ˜¯ 2014 å¹´ï¼Œè¯´æ˜è¿™ä¸ªæ–¹æ¡ˆä¸Šçº¿æ›´æ—©ï¼Œä¹Ÿè¾ƒä¸ºæˆç†Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developers.google.com/speed/public-dns/docs/dns-over-https"&gt;DNS-over-HTTPS &amp;nbsp;|&amp;nbsp; Public DNS &amp;nbsp;|&amp;nbsp; Google Developers&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;è¯¥æ–¹æ¡ˆæ›´ä¸ºå…ˆè¿›ï¼Œä½¿ç”¨ HTTP æ›¿æ¢ä¸º HTTPSï¼Œå‡å°‘ä¸€ä¸ªéšæ‚£ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="201611/httpdnsjbyl.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201611/httpdnsjbyl.png"/&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡» &lt;a href="https://dns.google.com/resolve?name=www.duitang.com"&gt;https://dns.google.com/resolve?name=www.duitang.com&lt;/a&gt; /
&lt;a href="http://119.29.29.29/d?dn=www.duitang.com"&gt;http://119.29.29.29/d?dn=www.duitang.com&lt;/a&gt; æ„Ÿå—ä¸€ä¸‹ DNS-over-HTTPS / HTTPDNSã€‚&lt;/p&gt;
&lt;h2 id="dan-ip-duo-yu-ming-zhi-chi"&gt;å• IP å¤šåŸŸåæ”¯æŒ&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ¡ˆçœ‹ä¼¼å®Œç¾ï¼Œä½†æ˜¯åœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;Android / iOS åœ¨æ“ä½œç³»ç»Ÿçº§åˆ«å¯¹ HTTPS é€šä¿¡æ˜¯æä¾›äº†å°è£…ã€‚
APP æ— æ³•åœ¨å‘èµ·è¿æ¥æ—¶å€™ï¼Œä¹Ÿæ²¡æœ‰æƒé™ç›´æ¥æ“ä½œ socketã€‚
æ‰€ä»¥å°½ç®¡ APP æ‹¿åˆ°äº†åŸŸåå¯¹åº”çš„ IPï¼Œå´æ²¡æœ‰åŠæ³•è®©è¿™ä¸ª IP åœ¨ HTTPS é‡Œç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³çš„æ€è·¯å¾ˆæš´åŠ›ï¼š&lt;strong&gt;å½»åº•æ”¾å¼ƒåŸŸåç³»ç»Ÿï¼Œå®Œå…¨ä½¿ç”¨åŸºäº IP ç³»ç»Ÿçš„é€šè®¯ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŸæœ¬è¯·æ±‚ &lt;code&gt;https://www.duitang.com&lt;/code&gt; çš„ requestï¼Œ
è°ƒæ•´ä¸ºè¯·æ±‚ &lt;code&gt;https://221.228.82.181&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;OKï¼Œåšåˆ°è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·Ÿè¿è¥å•†åŠ«æŒè¯´æ‹œæ‹œäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ï¼Œè¿˜æ²¡ç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;å®Œå…¨æå®šè¿è¥å•†ä¹‹åï¼Œè¿™ IP æ–¹æ¡ˆç»™æˆ‘ä»¬è‡ªå·±å¸¦æ¥ä¸€ä¸ªå›°æ‰°ï¼š
&lt;strong&gt;Nginx æœåŠ¡å™¨æ— æ³•é€šè¿‡ Host æ¥è¯†åˆ«ä¸åŒåŸŸåä¸‹é¢çš„è¯·æ±‚äº†ï¼ï¼ï¼&lt;/strong&gt;
åœ¨ç”±äºä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹ IPï¼Œä¼šå¯¼è‡´æ‰€æœ‰åŸŸåè¯·æ±‚æ··åœ¨ä¸€èµ·ï¼Œæ— æ³•åˆ†åˆ«ã€‚
å¤§å…¬å¸å¯ä»¥ dedicated IPï¼Œå°å…¬å¸å°±ç©ä¸èµ·äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³åŒä¸€ä¸ª IP ä¸‹é¢å¤šä¸ªåŸŸåçš„é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªURLå‚æ•°ï¼š &lt;code&gt;__domain&lt;/code&gt;ã€‚
å½“è¯·æ±‚ IP åŸŸåæ—¶å€™ï¼Œå¿…é¡»å¸¦ç€è¿™ä¸ªå‚æ•°ï¼ŒæœåŠ¡å™¨ä¼šå°†è¯·æ±‚åŸŸåè§£æå‡ºæ¥ï¼Œå†åˆ†å‘åˆ°å¯¹åº”çš„åŸŸåã€‚&lt;/p&gt;
&lt;p&gt;å®ç°è¿™ä¸ªé€»è¾‘çš„ Nginx æ ¸å¿ƒä»£ç ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;set&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;query_domain&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;arg___domain&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;query_domain&lt;/span&gt; &lt;span class="o"&gt;!~&lt;/span&gt; &lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;rewrite&lt;/span&gt; &lt;span class="o"&gt;^&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//www.example.com/404/ redirect;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;set&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;my_host&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;query_domain&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;proxy_set_header&lt;/span&gt; &lt;span class="n"&gt;Host&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;my_host&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;proxy_set_header&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;REAL&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;IP&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;remote_addr&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;proxy_pass&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;scheme&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//127.0.0.1;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æœ€åä¸€ä¸ªæ³¨æ„äº‹é¡¹æ˜¯ï¼Œè®°å¾—è°ƒæ•´ Nginx é…ç½®çš„ remote_addrï¼Œå¦åˆ™éƒ½å˜æˆäº† 127.0.0.1ï¼Œ
ä¹Ÿè®¸ä¼šå¯¼è‡´å…¶ä»–ä¸€äº›ç­–ç•¥å¤±æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;å®Œç¾æ”¶å·¥ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;a href="https://221.228.82.181/?__domain=www.duitang.com"&gt;https://221.228.82.181/?__domain=www.duitang.com&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ­å–œä½ ï¼Œå·²ç»æŒæ¡æ ¸å¿ƒç§‘æŠ€äº†ï¼Œå†ä¹Ÿä¸æ€•è¿è¥å•†çæŠ˜è…¾äº†ï¼Œä»æ­¤èµ°ä¸Šäº†ä¸šåŠ¡è“¬å‹ƒå‘å±•çš„é‡‘å…‰å¤§é“&amp;hellip;&amp;hellip;â˜€ï¸&lt;/p&gt;
&lt;p&gt;ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä¼šå†è°ˆè°ˆå¦‚ä½•åš HTTPS çš„ã€Œå†…æµ‹ã€ï¼Œé¿å…å°†çº¿ä¸Šä¸šåŠ¡ä¸€æ¬¡æ€§åˆ‡åˆ° HTTPS å¯¼è‡´ä¸å°‘è¾¹è¾¹è§’è§’ä¸šåŠ¡æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;hr/&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/11/https-1/"&gt;https://blog.alswl.com/2016/11/https-1/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Wed, 30 Nov 2016 22:02:23 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-11-30:2016/11/https-1/</guid><category>HTTPS</category><category>HTTPDNS</category></item><item><title>API é›†æˆæµ‹è¯•å®è·µ</title><link>https://blog.alswl.com/2016/08/api-integration-test/</link><description>&lt;p&gt;&lt;img alt="abao.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201608/abao_thumbnail.png"/&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æé«˜æµ‹è¯•ï¼Œå·¥ç¨‹å¸ˆéœ€è¦å¯¹è‡ªå·±æäº¤çš„äº§ç‰©è¿›è¡Œæµ‹è¯•ï¼Œä¸€èˆ¬æ˜¯å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€‚
ä¹‹åæäº¤ç‰©æµè½¬åˆ° QA å›¢é˜Ÿï¼ŒQA å›¢é˜Ÿæ ¹æ®éœ€æ±‚æè¿°å¯¹æäº¤ç‰©è¿›è¡Œæµ‹è¯•ï¼Œ
è¿™ä¸ªæµ‹è¯•è¿‡ç¨‹éå¸¸è€—è´¹äººåŠ›ã€‚
å°¤å…¶æ˜¯å½“å¼€å‘äº¤ä»˜çš„è´¨é‡ä¸é«˜æ—¶å€™ï¼Œå¾ˆå¯èƒ½è‡ªèº«æ²¡æœ‰ç»è¿‡æµ‹è¯•ï¼Œä¼šé‡åˆ°ä¸»å¹²æµç¨‹éƒ½æ— æ³•è¿›è¡Œçš„çŠ¶å†µã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœåœ¨ QA äººå·¥ä»‹å…¥æµ‹è¯•ä¹‹å‰ï¼Œå°±è¿›è¡Œä¸€è½®é»‘ç›’è‡ªåŠ¨åŒ–é›†æˆæµ‹è¯•ï¼Œå¯ä»¥å¤§å¤§åœ°æé«˜ QA å›¢é˜Ÿçš„å·¥ä½œæ•ˆç‡ã€‚
åŸºäºè¿™æ ·çš„åˆ¤æ–­ï¼Œæˆ‘ä»¬å›¢é˜ŸèŠ±äº†ä¸€äº›æ—¶é—´ï¼Œå°†åŸºäº API çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç³»ç»Ÿæ­å»ºèµ·æ¥ã€‚
ç°åœ¨å°†è¿™ä¸ªç³»ç»Ÿçš„é€‰å‹å’Œè¿è¡ŒçŠ¶å†µæ‹å‡ºæ¥ï¼Œå’Œå¤§å®¶åˆ†äº«ã€‚&lt;/p&gt;
&lt;h3 id="que-ren-ce-shi-fan-wei-mu-biao-he-yi-yi"&gt;ç¡®è®¤æµ‹è¯•èŒƒå›´ã€ç›®æ ‡å’Œæ„ä¹‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;èŒƒå›´&lt;ul&gt;
&lt;li&gt;åå°è¾“å‡ºçš„ API çº§åˆ« URL&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åœºæ™¯&lt;ul&gt;
&lt;li&gt;æ‰“åŒ…æ—¶å€™çš„å†’çƒŸ&lt;/li&gt;
&lt;li&gt;Dev / QA æ‰‹å·¥æ·»åŠ æ·»åŠ æ–°ç‰¹æ€§ç”¨ä¾‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç›®æ ‡&lt;ul&gt;
&lt;li&gt;è¦†ç›–å¤§éƒ¨åˆ†çš„ URLï¼Œå½“æœŸè®¾è®¡ä¸º top 10 URLï¼Œä»…åŒ…å« GET æ¥å£&lt;/li&gt;
&lt;li&gt;é€‰å‹æ—¶ï¼Œéœ€è¦è€ƒè™‘éå¹‚ç­‰ï¼ˆPOST / DELETE / PUTï¼‰ç­‰æ¥å£&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ„ä¹‰&lt;ul&gt;
&lt;li&gt;æé«˜å¼€å‘æ•ˆç‡ï¼Œä¸€ç§è‡ªåŠ¨åŒ–çš„ IT æµ‹è¯•æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;æé«˜æµ‹è¯•æ•ˆç‡ï¼Œå‡å°‘äººå·¥é›†æˆæµ‹è¯•æˆæœ¬&lt;/li&gt;
&lt;li&gt;æé«˜å·¥ç¨‹è´¨é‡ï¼Œé€šè¿‡è¦†ç›–ç‡æå‡ï¼Œä¿è¯å·¥ç¨‹è´¨é‡é€æ­¥æå‡ï¼Œæ”¾å¿ƒå¼€å‘æ–°åŠŸèƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="te-xing-xu-qiu"&gt;ç‰¹æ€§éœ€æ±‚&lt;/h3&gt;
&lt;p&gt;é€‰å‹ä¸€ä¸ªç³»ç»Ÿï¼Œä¸æ˜¯çœ‹å¸‚é¢ä¸Šæœ‰å“ªäº›å¯ä»¥ä¾›é€‰æ‹©ï¼Œè€Œæ˜¯çœ‹æˆ‘éœ€è¦ä»€ä¹ˆæ ·ç‰¹æ€§çš„ä¸€æ¬¾äº§å“ã€‚
å¦‚æœè‡ªå·±çš„éœ€æ±‚å’Œå¸‚é¢ä¸Šçš„ç°æˆäº§å“å·®å¼‚è¿‡å¤§ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘è‡ªå·±å®šåˆ¶ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Required&lt;ul&gt;
&lt;li&gt;å¼€æº&lt;/li&gt;
&lt;li&gt;å…è´¹&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ DSL æˆ–è€…ç®€å•ä»£ç æè¿°æµ‹è¯•ç”¨ä¾‹&lt;/li&gt;
&lt;li&gt;æ”¯æŒç»†ç²’åº¦çš„å• API æµ‹è¯•å’Œæ„å»ºå¸¦è¿‡ç¨‹çš„æµ‹è¯•ç”¨ä¾‹&lt;/li&gt;
&lt;li&gt;HTTP API&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Optional&lt;ul&gt;
&lt;li&gt;CI é›†æˆ&lt;/li&gt;
&lt;li&gt;UI&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="tiao-xuan-chu-lai-de-xuan-xing-he-ping-jie"&gt;æŒ‘é€‰å‡ºæ¥çš„é€‰å‹å’Œè¯„ä»·&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.runscope.com/"&gt;API Monitoring and Testing &amp;middot; Runscope&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;æ”¶è´¹&lt;/li&gt;
&lt;li&gt;éå¼€æº&lt;/li&gt;
&lt;li&gt;æœ‰ç›‘æ§ç‰¹æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.atlassian.com/software/bamboo"&gt;Bamboo - Continuous integration, deployment &amp;amp; release management | Atlassian&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;æ”¶è´¹&lt;/li&gt;
&lt;li&gt;CI&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://circleci.com/features/"&gt;Continuous Integration Product and Features - CircleCI&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;CI&lt;/li&gt;
&lt;li&gt;æ”¶è´¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Sauce Labs&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯æµ‹è¯•ï¼Œæ”¶è´¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Apiary&lt;ul&gt;
&lt;li&gt;API è®¾è®¡å·¥å…· + API Test&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://frisbyjs.com/"&gt;http://frisbyjs.com/&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;code&lt;/li&gt;
&lt;li&gt;npm&lt;/li&gt;
&lt;li&gt;open source&lt;/li&gt;
&lt;li&gt;NO UI&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/vowsjs/api-easy"&gt;https://github.com/vowsjs/api-easy&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;åŒä¸Š&lt;/li&gt;
&lt;li&gt;çœŸæ˜¯çƒ­çˆ±é€ è½®å­çš„ JS ç”Ÿæ€åœˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/visionmedia/supertest"&gt;https://github.com/visionmedia/supertest&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;åŒä¸Š&lt;/li&gt;
&lt;li&gt;ä» Star çœ‹ï¼Œè¿™ä¸ªè´¨é‡æœ€é«˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dareid.github.io/chakram/"&gt;http://dareid.github.io/chakram/&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;code&lt;/li&gt;
&lt;li&gt;npm&lt;/li&gt;
&lt;li&gt;open source&lt;/li&gt;
&lt;li&gt;NO UI&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://vrest.io/"&gt;https://vrest.io/&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;æ”¶è´¹&lt;/li&gt;
&lt;li&gt;ä¸å¼€æº&lt;/li&gt;
&lt;li&gt;æ— æ’ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://swagger.io/open-source-integrations/"&gt;http://swagger.io/open-source-integrations/&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;for API&lt;/li&gt;
&lt;li&gt;ç”Ÿæ€ç¯å¢ƒå¼ºå¤§&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cachecontrol/hippie-swagger"&gt;https://github.com/cachecontrol/hippie-swagger&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ç«¯ä¼¼ä¹åœ¨å°è¯•ç”¨ swagger&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://robotframework.org/"&gt;http://robotframework.org/&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªé€šç”¨è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·&lt;/li&gt;
&lt;li&gt;DSL&lt;/li&gt;
&lt;li&gt;æ‰©å±•æ€§è¾ƒå¼º&lt;/li&gt;
&lt;li&gt;æ´»è·ƒåº¦åœ¨é™ä½&amp;nbsp;&lt;a href="https://github.com/robotframework/robotframework/graphs/contributors"&gt;https://github.com/robotframework/robotframework/graphs/contributors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://cucumber.io/"&gt;https://cucumber.io/&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://cucumber.io/docs/reference"&gt;https://cucumber.io/docs/reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å’Œ Robotframework ç›¸ä¼¼ï¼Œé€šç”¨è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·&lt;/li&gt;
&lt;li&gt;DSL&lt;/li&gt;
&lt;li&gt;æ´»è·ƒåº¦é™ä½&amp;nbsp;&lt;a href="https://github.com/cucumber/cucumber-jvm/graphs/contributors"&gt;https://github.com/cucumber/cucumber-jvm/graphs/contributors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.solanolabs.com/"&gt;https://www.solanolabs.com/&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Airbnb åœ¨ç”¨&lt;/li&gt;
&lt;li&gt;æ”¶è´¹&lt;/li&gt;
&lt;li&gt;äº‘ç«¯çš„é€šç”¨æµ‹è¯•ç¯å¢ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/christophd/citrus"&gt;https://github.com/christophd/citrus&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.citrusframework.org/"&gt;http://www.citrusframework.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä¾èµ– mvn / antï¼Œç¦»ä»£ç å¤ªè¿‘&lt;/li&gt;
&lt;li&gt;é¡¹ç›®ä¸å¤Ÿæ´»è·ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä»£ç å†…æµ‹è¯•&lt;ul&gt;
&lt;li&gt;src/it/com/duitang/xxx&lt;/li&gt;
&lt;li&gt;eg. tritornis&lt;/li&gt;
&lt;li&gt;Spring&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html"&gt;http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.spring.io/autorepo/docs/spring-framework/3.2.x/spring-framework-reference/html/testing.html"&gt;http://docs.spring.io/autorepo/docs/spring-framework/3.2.x/spring-framework-reference/html/testing.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™éƒ¨åˆ†å·¥ä½œï¼Œæ˜¯å’Œå›¢é˜Ÿçš„å…¶ä»–æˆå‘˜ä¸€èµ·å»çœ‹çš„ï¼Œå¤§å®¶å„è‡ªåˆ†å¤´å¯»æ‰¾ä¸€äº›äº§å“ï¼Œç„¶åè¿›è¡Œè¯„æµ‹ï¼Œç»™å‡ºç»“è®ºã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡è®¨è®ºï¼Œæˆ‘ä»¬å°†é‡ç‚¹å…³æ³¨æ”¾åœ¨è¿™ä¹ˆå‡ æ¬¾ä¸‹é¢ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;supertest&lt;/li&gt;
&lt;li&gt;robotframework&lt;/li&gt;
&lt;li&gt;swagger&lt;/li&gt;
&lt;li&gt;è®¨è®ºæ—¶å€™çš„æ–°å‘ç°&amp;nbsp;&lt;a href="https://github.com/svanoort/pyresttest"&gt;https://github.com/svanoort/pyresttest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="da-jian-demojin-xing-shi-yong"&gt;æ­å»º demoï¼Œè¿›è¡Œè¯•ç”¨&lt;/h3&gt;
&lt;p&gt;åœ¨ç¡®å®šé€‰ç”¨é‚£å‡ æ¬¾äº§å“ä¹‹åï¼Œå°±å¯ä»¥é›†ä¸­ç²¾åŠ›åœ¨å‡ æ¬¾å€™é€‰è€…é‡Œé¢ã€‚æ­å»ºç›¸åº”çš„ç¯å¢ƒï¼Œå¯¹ä»–ä»¬è¿›è¡Œå®é™…æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;supertestï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŠŸèƒ½å¤ªç®€å•äº†ï¼Œç®€å•åˆ°å‡ ä¹å¯ä»¥è‡ªå·±å†™æ‰ï¼Œä¸ç®—ä¸€ä¸ª test framework&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;pyresettestï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å“ˆå“ˆå“ˆï¼ŒYAML basedï¼Œdreamed feature&lt;/li&gt;
&lt;li&gt;æ”¯æŒ YAML / extractor / validator&lt;/li&gt;
&lt;li&gt;å¤©ç”Ÿæ”¯æŒ host ä¸ºå‚æ•°&lt;/li&gt;
&lt;li&gt;create for me!!!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;hippie-swaggerï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ä½¿ç”¨ä¸Šï¼Œå’Œ supertest å·®å¼‚ä¸å¤§&lt;/li&gt;
&lt;li&gt;ä»ç„¶éœ€è¦è‡ªå·±å®šä¹‰ï¼Œåœ¨ swagger æè¿°æ–‡ä»¶ä¸å­˜åœ¨æ—¶å€™ä¼šæŠ›é”™ï¼Œæè¿°æ–‡ä»¶ä¸ç¬¦åˆæ—¶ä¼šæŠ›é”™&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;robotframeworkï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¾ƒä¸ºå¤æ‚&lt;/li&gt;
&lt;li&gt;æœ‰ YAML äº†ï¼Œä¸ç”¨è¯•äº†&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="shi-yong-gan-jue_1"&gt;ä½¿ç”¨æ„Ÿè§‰&lt;/h2&gt;
&lt;p&gt;ç»è¿‡ä¸€ä¸ªå­£åº¦çš„è¯•ç”¨ï¼Œæˆ‘ä»¬åŸºäº pyresttest çš„é¡¹ç›® abao è¿è¡Œè¾ƒç¨³å®šã€‚
å°½é‡åœ¨å·¥ç¨‹å¸ˆæäº¤ä»£ç ä¹‹åï¼Œè¿è¡Œä¸€æ¬¡ï¼Œä»è€Œå¯ä»¥åœ¨æ—©æœŸå‘ç°é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæ˜¯åŸºäº Python çš„æºä»£ç ï¼Œæˆ‘ä»¬è¿˜ç»™ pyresttest å¼€å‘äº†å‡ æ¬¾æ’ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cookie_extractorï¼šç”¨æ¥è§£æç‰¹å®šçš„ cookie&lt;/li&gt;
&lt;li&gt;file_choice_generatorï¼šä»æ–‡ä»¶éšæœºé€‰æ‹©é¢„è®¾æ•°æ®&lt;/li&gt;
&lt;li&gt;file_seq_generatorï¼šä»æ–‡ä»¶é¡ºåºé€‰æ‹©é¢„è®¾æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨å’Œ CI çš„é…åˆæ–¹é¢ï¼Œæˆ‘ä»¬åœ¨ Jinkins æ­å»ºäº† abao / abao-master é¡¹ç›®ï¼Œ
å‰è€…å“åº”æ¯æ¬¡ Push è¯·æ±‚ï¼Œéƒ½ä¼šè‡ªåŠ¨æ„å»ºä¸€éï¼Œåè€…æ¯å¤©å‡Œæ™¨ä¼šå°† master è¿è¡Œä¸€éã€‚&lt;/p&gt;
&lt;p&gt;æ„Ÿè°¢é¡¹ç›®è´¡çŒ®è€…ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;project&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;abao&lt;/span&gt;
 &lt;span class="n"&gt;repo&lt;/span&gt; &lt;span class="n"&gt;age&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="n"&gt;months&lt;/span&gt;
 &lt;span class="n"&gt;active&lt;/span&gt;   &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;32&lt;/span&gt; &lt;span class="n"&gt;days&lt;/span&gt;
 &lt;span class="n"&gt;commits&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;109&lt;/span&gt;
 &lt;span class="n"&gt;authors&lt;/span&gt;  &lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="mi"&gt;39&lt;/span&gt;  &lt;span class="n"&gt;Chery&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;Peng&lt;/span&gt;  &lt;span class="mf"&gt;35.8&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;
    &lt;span class="mi"&gt;33&lt;/span&gt;  &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt;          &lt;span class="mf"&gt;30.3&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;
    &lt;span class="mi"&gt;17&lt;/span&gt;  &lt;span class="n"&gt;yanqi&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;chen&lt;/span&gt;  &lt;span class="mf"&gt;15.6&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;
    &lt;span class="mi"&gt;11&lt;/span&gt;  &lt;span class="err"&gt;æ©™å­&lt;/span&gt;        &lt;span class="mf"&gt;10.1&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;
     &lt;span class="mi"&gt;7&lt;/span&gt;  &lt;span class="n"&gt;fiona66&lt;/span&gt;     &lt;span class="mf"&gt;6.4&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;
     &lt;span class="mi"&gt;2&lt;/span&gt;  &lt;span class="err"&gt;é›ªç³•&lt;/span&gt;        &lt;span class="mf"&gt;1.8&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;hr/&gt;
&lt;p&gt;å‚è€ƒæ–‡æ¡£&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/integrations"&gt;Integrations Directory&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.infoq.com/cn/search.action?queryString=%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95&amp;amp;page=1&amp;amp;searchOrder=&amp;amp;sst=guKeEhPzzhUs7xpS"&gt;http://www.infoq.com/cn/search.action?queryString=%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95&amp;amp;page=1&amp;amp;searchOrder=&amp;amp;sst=guKeEhPzzhUs7xpS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.infoq.com/cn/news/2014/02/autotest-2013"&gt;http://www.infoq.com/cn/news/2014/02/autotest-2013&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.infoq.com/cn/articles/cucumber-robotframework-comparison"&gt;http://www.infoq.com/cn/articles/cucumber-robotframework-comparison&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.infoq.com/cn/articles/http-api-automated-test-from-manual-to-platform"&gt;http://www.infoq.com/cn/articles/http-api-automated-test-from-manual-to-platform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://nerds.airbnb.com/testing-at-airbnb/"&gt;http://nerds.airbnb.com/testing-at-airbnb/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Google keywords&lt;ul&gt;
&lt;li&gt;integration api test framework&lt;/li&gt;
&lt;li&gt;github intergration test&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/08/api-integration-test/"&gt;https://blog.alswl.com/2016/08/api-integration-test/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Sun, 14 Aug 2016 19:08:20 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-08-14:2016/08/api-integration-test/</guid><category>Test</category><category>API</category></item><item><title>æå®šæš´æ¶¨çš„æµé‡</title><link>https://blog.alswl.com/2016/06/capacity-planning/</link><description>&lt;p&gt;2013 å¹´å·¦å³ï¼Œæˆ‘å¸ä¸šåŠ¡å‘å±•è¿…é€Ÿï¼Œæ¯å¤©æ™šä¸Šéƒ½ä¼šé¢ä¸´æœåŠ¡å™¨æ¿’ä¸´å´©æºƒæƒ…å†µã€‚
æˆ‘ç›¸ä¿¡æ¯ä¸ªé«˜é€Ÿå‘å±•çš„äº’è”ç½‘ä¼ä¸šåœ¨æŸä¸ªé˜¶æ®µéƒ½ä¼šé¢ä¸´è¿™æ ·çš„æƒ…å½¢ï¼Œæ¯”å¦‚å»å¹´çˆ†çº¢çš„ã€Œè¶³è¿¹ã€ã€‚
è¿‡ç¨‹å¾€å¾€æ˜¯ï¼šçº¿ä¸Šå‡ºç°æ•…éšœï¼Œæ‰‹æœºä¼šæ”¶åˆ°æŠ¥è­¦ï¼Œç„¶åç™»å½•åˆ°æœåŠ¡å™¨ä¸Šå»è§£å†³é—®é¢˜ã€‚
å¤„ç†è¿™ç§é—®é¢˜å·¥ç§ç°åœ¨æœ‰ä¸€ä¸ªæ—¶é«¦çš„åç§°ï¼Œå«åšã€ŒSREï¼ˆSite Reliability Engineerï¼‰ã€ç³»ç»Ÿå¯ç”¨æ€§å·¥ç¨‹å¸ˆã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶æˆ‘å¸¸å¸¸æ•‘ç«ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³å°½å¯èƒ½é¿å…çº¿ä¸Šå‘ç”Ÿæ•…éšœã€‚ã€Œæœ€å¥½çš„æ¶ˆæ¯ï¼Œå°±æ˜¯æ²¡æœ‰æ¶ˆæ¯ã€‚ã€
å‡å°‘æ•…éšœå‡ºç°æ¦‚ç‡ï¼Œå¢å¼ºç³»ç»Ÿå¯ç”¨æ€§ï¼Œé™ä½æ•…éšœå¤„ç†æ—¶é—´æ˜¯ SRE çš„æœ€å¤§è¯¾é¢˜ã€‚
åœ¨è¿™é‡Œæœ‰æœ€å¸¸ç”¨çš„ä¸¤ä¸ªæ‰‹æ®µï¼Œä¸€ä¸ªæ˜¯ä¼˜åŒ–æ€§èƒ½ï¼Œä¸€ä¸ªæ˜¯åšå¥½å®¹é‡è§„åˆ’å’Œæ‰©å±•ã€‚
è¿™é‡Œæˆ‘ç€é‡è®¨è®ºåè€…ã€Œå®¹é‡è§„åˆ’ã€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="çœ‹æˆ‘çš„ä¸€å †æŠ¥è­¦æ¶ˆæ¯" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201606/message.png"/&gt;&lt;/p&gt;
&lt;p&gt;^ çœ‹æˆ‘çš„ä¸€å †æŠ¥è­¦æ¶ˆæ¯&lt;/p&gt;

&lt;h2 id="mian-lin-de-wen-ti"&gt;é¢ä¸´çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;é¢å¯¹æš´æ¶¨æµé‡ï¼Œä¸€è¾¹æ˜¯ä¸šåŠ¡æ–¹çš„æ»¡å¿ƒæ¬¢å–œï¼Œä¸€è¾¹å°±æ˜¯å·¥ç¨‹å¸ˆçš„çƒ¦æ¼å’Œå‹åŠ›äº†ã€‚
ä¹Ÿè®¸æ˜¯ä¸€ä¸ªå—æ¬¢è¿çš„åŠŸèƒ½ä¸Šçº¿äº†ï¼Œæˆ–è€…æ˜¯æŸä¸ªç¤¾ä¼šæ´»åŠ¨å¯¼è‡´æµé‡çˆ†å‘ï¼Œç³»ç»Ÿå¼€å§‹å‡ºç°é«˜å»¶è¿Ÿï¼Œç£ç›˜ IO ä¸å¤Ÿç”¨äº†ã€‚
ä¹Ÿè®¸æ˜¯ DB ç¬¬ä¸€ä¸ªå€’ä¸‹ï¼Œä¹Ÿè®¸æ˜¯ RPC ç³»ç»Ÿç¬¬ä¸€ä¸ªå€’ä¸‹&amp;hellip;&amp;hellip;
å‘ƒï¼Œå¤§ç¥å¯èƒ½ä¼šè¯´ï¼Œæˆ‘è‰¹ï¼ŒRPC ç³»ç»Ÿç¬¬ä¸€ä¸ªå€’ä¸‹è¿˜æä¸ªå±å•Šï¼Œèµ¶ç´§å€’é—­ç®—äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ ¸å¿ƒçš„é—®é¢˜å°±æ˜¯ï¼Œåœ¨ç°æœ‰æ€§èƒ½ä¸‹é¢ï¼Œåœ¨é¢ä¸´å¯èƒ½çš„å¤§æµé‡å†²å‡»æ—¶å€™ï¼Œå¦‚ä½•åšåˆ°ä¸æ…Œä¸å¿™ï¼Œèƒ½å¤Ÿ handle ä½çªå¦‚å…¶æ¥çš„æµé‡ï¼Ÿ&lt;/p&gt;
&lt;h2 id="she-ding-rong-liang-mu-biao"&gt;è®¾å®šå®¹é‡ç›®æ ‡&lt;/h2&gt;
&lt;p&gt;åœ¨è§£å†³è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆè€ƒè™‘æ¸…æ¥šï¼Œæˆ‘ä»¬åˆ°åº•è¦å¤šå¼ºçš„æµé‡å¤„ç†èƒ½åŠ›ã€‚
å¦‚æœä»Šå¤©æˆ‘ä»¬åªæ˜¯ä¸€ä¸ªä¸¤ä¸‰å°æœåŠ¡å™¨çš„å°å›¢é˜Ÿï¼Œå´ä¼å›¾è®¾è®¡ä¸€ä¸ªèƒ½å¤ŸæŠ—ä½ 1 äº¿ pv è®¿é—®çš„ç³»ç»Ÿï¼Œ
æ˜¾ç„¶æ˜¯ä¸ç°å®çš„ï¼Œè‡³å°‘æ˜¯ä¸ç»æµçš„ã€‚&lt;/p&gt;
&lt;p&gt;è¡¡é‡ç³»ç»Ÿå®¹é‡çš„æŒ‡æ ‡å¯ä»¥ç®€åŒ–ä¸ºåœ¨ä»€ä¹ˆæµé‡ä¸‹é¢ï¼Œæä¾›ä»€ä¹ˆæ ·çš„å¯ç”¨æ€§ä¿è¯ã€‚
ä¸€ä¸ªå®é™…çš„æ ·ä¾‹æ˜¯ï¼Œåœ¨ 1 äº¿ pv ä¸‹é¢ï¼Œæä¾› 99.99% çš„å¯ç”¨æ€§ï¼Œ
å…¶å¯ç”¨æ€§çš„è¯„åˆ¤æ ‡å‡†æ˜¯ã€ŒæœåŠ¡å™¨åœ¨ 200ms å†…è¿”å›æ­£ç¡®çš„æ•°æ®ã€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œå¯ç”¨æ€§ä¿è¯ï¼Œæœ¯è¯­æ˜¯æœåŠ¡ç­‰çº§åè®®ï¼ˆSLAï¼‰ã€‚
è¿™ä¸ªæŒ‡æ ‡å¯ä»¥ä»å¤§éƒ¨åˆ†æ ‡å‡†äº‘ä¾›åº”å•†çš„æ ‡å‡†æ¡æ¬¾é‡Œçœ‹åˆ°ï¼Œæ¯”å¦‚æˆ‘å¸æœºæˆ¿ä¾›åº”å•†æä¾›çš„å¯ç”¨æ€§ä¿è¯æ˜¯ 99.9%ã€‚
é˜¿é‡Œäº‘ ECS çš„ SLA æ˜¯ã€Œ99.95%ã€ï¼Œç»Ÿè®¡å‘¨æœŸæ˜¯ 1 ä¸ªæœˆ
ï¼ˆå¦‚æœæ•…éšœæ—¶é—´ä½äº 5 minï¼Œä¸è®¡å…¥æ•…éšœæ—¶é—´ï¼Œäº‘ä¾›åº”å•†éƒ½è¿™æ ·ï¼Œç‰¹åˆ«éœ¸æƒï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå¯¹ SLA çš„ç›´è§‚è®¤è¯†æ˜¯ï¼ˆå…·ä½“æ•°æ®æ¥è‡ª &lt;a href="https://en.wikipedia.org/wiki/High_availability#Percentage_calculation"&gt;High availability - Wikipedia, the free encyclopedia&lt;/a&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;99.0% æ„å‘³ç€ä¸€å¹´æœ‰ 87 å¤©ä¸å¯ç”¨&lt;/li&gt;
&lt;li&gt;99.5% æ„å‘³ç€ä¸€å¹´ 1.83 å¤©ä¸å¯ç”¨&lt;/li&gt;
&lt;li&gt;99.9% æ„å‘³ç€ä¸€å¹´ 8.76 å°æ—¶ä¸å¯ç”¨&lt;/li&gt;
&lt;li&gt;99.99% æ„å‘³ç€ä¸€å¹´ 52.56 åˆ†é’Ÿä¸å¯ç”¨&lt;/li&gt;
&lt;li&gt;99.999% æ„å‘³ç€ä¸€å¹´ 5 åˆ† 15 ç§’ä¸å¯ç”¨ï¼Œè¿™æ˜¯é«˜å¯ç”¨çš„ä¸€èˆ¬æ ‡å‡†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®¾å®šè¶Šé«˜çš„ SLA çš„æˆæœ¬è¶Šé«˜ï¼Œå…·ä½“ SLA çš„è®¾å®šæ˜¯æˆæœ¬ã€æ”¶ç›Šã€æœŸæœ›çš„å¹³è¡¡ã€‚
ä¸åŒçš„ä¸šåŠ¡éœ€è¦çš„ SLA ä¹Ÿä¸ä¸€æ ·ï¼Œä¸€èˆ¬è®¤ä¸º 99.9% åŸºæœ¬å¯ç”¨ï¼Œ99.99% å¯ç”¨æ€§è¾ƒé«˜ï¼Œ
99.999% ä¸ºé«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº›äº‘ä¾›åº”å•†å·ç§° 8 ä¸ª 9ï¼Œ9 ä¸ª 9ï¼Œé‚£å¾€å¾€éƒ½æ˜¯å¯¹äºå­˜å‚¨æœåŠ¡é‡Œé¢çš„æ•°æ®ä¸ä¸¢å¤±è¿™ä¸ªæŒ‡æ ‡ã€‚
é™¤äº†å¿½æ‚ å¿½æ‚ äººï¼Œè¿™ä¸ª SLA æ²¡ä»€ä¹ˆç”¨çš„ã€‚&lt;/p&gt;
&lt;h2 id="ce-liang"&gt;æµ‹é‡&lt;/h2&gt;
&lt;p&gt;åšä¸€ä»¶ä¼Ÿå¤§äº‹æƒ…æ—¶å€™ï¼Œå…ˆæœ‰ç›®æ ‡ï¼Œä¸‹ä¸€æ­¥å¦‚æœæ˜¯è¿ˆå‡ºè„šæ­¥å‡ºå»é—¯è¡ï¼Œé‚£ä¹ˆå¾€å¾€æ¢æ¥çš„æ˜¯ä¸€ä¸ªèº«å¿ƒç–²æƒ«çš„è‡ªå·±ã€‚
æ›´ç¨³å½“çš„åšæ³•æ˜¯ï¼Œå…ˆæ‘¸æ‘¸æ¸…æ¥šï¼Œè‡ªå·±æœ‰å‡ æŠŠåˆ·å­ï¼Œæ˜¯ä¸æ˜¯è¿˜è¦å†ç»ƒç»ƒï¼Œæœ‰æ²¡æœ‰èµ„æ ¼ä¸Šæˆ˜åœºã€‚
æ²¡æœ‰ Profilingï¼Œå°±æ˜¯çå­ï¼Œæ ¹æœ¬ä¸ç”¨è°ˆä¼˜åŒ–å’Œå®¹é‡è§„åˆ’ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸€èˆ¬çš„ä¸šåŠ¡åœºæ™¯è€Œè¨€ï¼Œå¸¸è§çš„æµ‹é‡æŒ‡æ ‡åˆ†ä¸ºä¸‰ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨çš„ç¡¬ä»¶æŒ‡æ ‡ï¼ˆCPUã€å†…å­˜ã€ç¡¬ç›˜ IOã€ç¡¬ç›˜å®¹é‡ã€ç½‘ç»œï¼‰&lt;/li&gt;
&lt;li&gt;æœåŠ¡çš„è½¯ä»¶æŒ‡æ ‡ï¼ˆQPS / latency / poolï¼‰&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡çš„æ•°æ®æŒ‡æ ‡ï¼ˆæ ¸å¿ƒä¸šåŠ¡æŒ‡æ ‡ï¼Œæ¯”å¦‚æ³¨å†Œæ•°ï¼Œæ ¸å¿ƒåŠ¨ä½œæ¬¡æ•°ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘å¸çš„å®è·µæƒ…å†µæ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨ Zabbix æµ‹é‡æœåŠ¡å™¨ï¼Œç”¨è‡ªå·±è®¾è®¡çš„ç³»ç»Ÿæ”¶é›†æœåŠ¡æ•°æ®ï¼Œä½¿ç”¨ Grafana å‘ˆç°ã€‚
åè€…è¢«è®¾è®¡åˆ° RPC ç³»ç»Ÿå†…éƒ¨ï¼Œæ•°æ®æ˜¯å…¨é‡æ”¶é›†ã€‚
æˆ‘å¸åœ¨ä¸šåŠ¡å±‚é¢çš„æ•°æ®ç›‘æ§åšçš„è¿˜ä¸è¶³ï¼Œè¿™ç§ä¸è¶³ä¸ä»…ä»…ä½“ç°åœ¨æ•°æ®çš„å…¨é¢æ€§ä¸Šé¢ï¼Œè¿˜ä½“ç°åœ¨ç›¸å…³æˆå‘˜ï¼ˆæ¯”å¦‚äº§å“æ±ªï¼‰å¯¹æ•°æ®çš„åˆ©ç”¨ç‡ä¸Šé¢ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†æµ‹é‡çº¿ä¸Šçš„å®æ–½æ•°æ®ï¼Œäº†è§£æŸä¸ªè®¾æ–½çš„æ€§èƒ½æé™ä¹Ÿæ˜¯å¾ˆé‡è¦ï¼Œç›®å‰å¸¸è§çš„æµ‹é‡æ–¹å¼æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡æ‹Ÿæµé‡è¿›è¡Œæµ‹è¯•&lt;/li&gt;
&lt;li&gt;åœ¨çº¿ä¸Šè¿›è¡Œæµ‹è¯•ï¼Œå¹¶å®æ—¶è·Ÿè¸ªè¿›å±•æƒ…å†µï¼Œå‡ºç°å¼‚å¸¸æ—¶å€™ï¼Œåœæ­¢æµé‡åˆ‡å…¥&lt;/li&gt;
&lt;li&gt;ä»çº¿ä¸Šå¼•å…¥æµé‡åˆ°æµ‹è¯•ç¯å¢ƒè¿›è¡Œæµ‹è¯•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘å‘ç°ï¼Œç¬¬ä¸€ç§æ–¹æ³•å¾€å¾€ä¸å‡†ï¼Œç¬¬ä¸‰ç§æ–¹æ³•å¯¹äºå°å›¢é˜Ÿæ¥è¯´ï¼Œæˆæœ¬å¤ªé«˜ã€‚ç¬¬äºŒç§æ–¹æ³•æ˜¯æœ€ç²—æš´å’Œæœ‰æ•ˆçš„ã€‚&lt;/p&gt;
&lt;h2 id="yu-jing-he-ti-xing"&gt;é¢„è­¦å’Œæé†’&lt;/h2&gt;
&lt;p&gt;ä»…ä»…çŸ¥é“å½“å‰ç³»ç»Ÿçš„æ€§èƒ½è¡¨ç°æ˜¯ä¸è¶³çš„ï¼Œé‡è¦çš„å¦‚ä½•å°†è¿™äº›æ•°æ®åˆ©ç”¨èµ·æ¥ï¼Œå¯¹æœªæ¥ç³»ç»Ÿå¢é•¿è¿›è¡Œé¢„ä¼°ã€‚
æµé‡å¢é•¿ vs èµ„æºæ¶ˆè€—ï¼Œè¿™ä¸ªæ›²çº¿å¤§éƒ¨åˆ†æƒ…å†µæ˜¯çº¿æ€§çš„ï¼Œæœ‰äº›æƒ…å†µç¡®å®æŒ‡æ•°å¢é•¿çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„åšæ³•æ˜¯ï¼Œç»™æ ¸å¿ƒæŒ‡æ ‡è®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼ˆæ¯”å¦‚ 80% ç£ç›˜ä½¿ç”¨ç‡ï¼Œ40% ç£ç›˜ IO åˆ©ç”¨ç‡ï¼‰ï¼Œå½“ç›‘æ§çš„æ•°æ®åˆ°è¾¾è¿™ä¸ªé˜ˆå€¼æ—¶å€™ã€‚
å°±å¿…é¡»è¿›è¡Œå®¹é‡æ‰©å……ï¼Œè¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªä»è¿ç»´åŒå­¦èº«ä¸Šå­¦åˆ°çš„æ˜¯ï¼Œæå‰é‡‡è´­ä¸€äº›è®¾å¤‡æ”¾åˆ°æœºæˆ¿é‡Œé¢ï¼Œæ¯”å¦‚ç¡¬ç›˜ã€å†…å­˜ï¼Œåˆ«åˆ°æ—¶å€™ä¾›åº”å•†æ¥ä¸åŠä¾›è´§ã€‚
å¿…è¦åº“å­˜å¯ä»¥é™ä½ MTBFã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†è®¾å®šé˜ˆå€¼æŠ¥è­¦ï¼Œåº”å½“å®šæœŸè·‘ä¸€äº›è„šæœ¬è·å¾—æ•°æ®ã€‚å®šæœŸæ£€æŸ¥æŠ¥è­¦ç³»ç»Ÿï¼Œé¿å…æŠ¥è­¦ç³»ç»Ÿå¤±æ•ˆã€‚&lt;/p&gt;
&lt;h2 id="bi-xuan-xiang-scalable"&gt;å¿…é€‰é¡¹ - Scalable&lt;/h2&gt;
&lt;p&gt;ä¸Šæ–‡å†™åˆ°ï¼Œã€Œå¿…è¦æ—¶å€™è¿›è¡Œå®¹é‡æ‰©å……ï¼Œè¿›è¡Œè´Ÿè½½å‡è¡¡ã€ã€‚
è¿™ç‚¹çš„æå‡ºï¼Œæ„å‘³è¿™éœ€è¦&lt;strong&gt;ä¿è¯åŸºç¡€è®¾æ–½æ˜¯å¯æ‰©å±•çš„ï¼Œæ”¯æŒè´Ÿè½½å‡è¡¡ï¼Œæ”¯æŒç¡¬ä»¶æ‰©å®¹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Web ç³»ç»Ÿæ¯”è¾ƒå®¹æ˜“åšåˆ°æ¨ªå‘æ‰©å®¹ï¼Œä½¿ç”¨ Nginx / LVS ç­‰è´Ÿè½½å‡è¡¡å³å¯ã€‚
ä¸­é—´ä»¶æœåŠ¡ä¸€èˆ¬ä¹Ÿæ˜¯åœ¨è®¾è®¡æ—¶å€™å°±è€ƒè™‘äº†æ‰©å±•ã€‚ï¼ˆä»€ä¹ˆï¼Ÿä½ ä»¬å®¶ RPC ç³»ç»Ÿè®¾è®¡è°ƒç”¨ä¸æ”¯æŒæ‰©å±•ï¼Ÿä»€ä¹ˆè„‘æ®‹è®¾è®¡ï¼Ÿï¼ï¼‰&lt;/p&gt;
&lt;p&gt;DB çº§åˆ«çš„æœåŠ¡ï¼Œå¾€å¾€å°±è¦èŠ±ä¸€äº›å¿ƒæ€äº†ï¼Œä¸€äº›æŠ€æœ¯ï¼ˆæ¯”å¦‚ MySQLï¼‰æƒ³è¦åšåˆ°æ¨ªå‘æ‰©å±•ï¼Œ
éœ€è¦è¿›è¡Œæå‰è®¾è®¡ã€‚è€Œä¸€äº›è®¾æ–½è™½ç„¶å®¹æ˜“è¿›è¡Œæ‰©å±•ï¼Œæ¯”å¦‚ ES / Kafka ç­‰ç°ä»£åŒ–è®¾æ–½ï¼Œ
ä½†åœ¨éƒ¨ç½²çš„æ—¶å€™ä»ç„¶è¦è¿›è¡Œä¸€äº›æå‰å‡†å¤‡ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†æå‰åšå¥½ Scalableï¼Œè¿˜æœ‰å‡ ä¸ªå’Œéƒ¨ç½²ç›¸å…³çš„ tips å¯ä»¥ä¾›å‚è€ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨å·¥å…·ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œç°åœ¨æœ‰å¤ªå¤šå·¥å…·å¯ä»¥ä¾›é€‰æ‹©ï¼Œæ¯”å¦‚ ansible å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·&lt;/li&gt;
&lt;li&gt;automatic everythingï¼šé¿å…ç™»å½•æœåŠ¡å™¨æ“ä½œæ‰èƒ½ä¿è¯æœªæ¥è‡ªåŠ¨åŒ–&lt;/li&gt;
&lt;li&gt;å·¥ç¨‹åŒ–ï¼šç”¨æœ€ä½³å®è·µå»ç»´æŠ¤éƒ¨ç½²ç³»ç»Ÿï¼Œç”¨å·¥ç¨‹åŒ–çš„æ€åº¦å»å†™éƒ¨ç½²ä»£ç &lt;/li&gt;
&lt;li&gt;ä¿æŒåŒè´¨ï¼Œé¿å…èŠ±æ ·ï¼šé¿å…ä½¿ç”¨ shell çº§åˆ«çš„æ“ä½œåŸè¯­æ“ä½œéƒ¨ç½²ç³»ç»Ÿï¼Œä½¿ç”¨é¢„è®¾çš„ module å»æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="end"&gt;End&lt;/h2&gt;
&lt;p&gt;å¥½äº†ï¼Œç°åœ¨å»é¢„æµ‹ä¸€ä¸‹å½“å¤§æµé‡æ¥ä¸´ä¹‹é™…ï¼Œä½ çš„æœåŠ¡ä¼šåœ¨å“ªäº›ç¯èŠ‚å¤±è´¥ã€‚
æƒ³ä¸å‡ºæ¥çš„è¯ï¼Œå°±ä¸€ç‚¹ç‚¹å»æµ‹é‡å„ä¸ªç¯èŠ‚æ€§èƒ½ï¼Œç„¶ååšä¸€æŠŠå®¹é‡è§„åˆ’å§ã€‚&lt;/p&gt;
&lt;p&gt;è°ƒä¼˜å’Œå¢åŠ å®¹é‡ï¼Œè¿™æ˜¯ä¸¤ä¸ªæ‰‹æ®µï¼Œè¿™ä¸¤ä¸ªæ‰‹æ®µäº’ç›¸ä½œç”¨ï¼Œäº’ç›¸å½±å“ã€‚ä½¿ç”¨æ—¶å€™éœ€è¦æ ¹æ®æˆæœ¬å’Œæ”¶ç›Šè¿›è¡Œé€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºå®¹é‡è§„åˆ’çš„æ›´å¤šç»†èŠ‚ï¼Œå¯ä»¥çœ‹çœ‹ &lt;a href="https://book.douban.com/subject/4200645/"&gt;Webå®¹é‡è§„åˆ’çš„è‰ºæœ¯ (è±†ç“£)&lt;/a&gt;
è¿™é‡Œçœ‹çœ‹ã€‚åªæ˜¯è¿™æœ¬ä¹¦å†™åœ¨ 2010 å¹´ï¼Œå¹¶ä¸”ä½œè€…ä»‹ç»çš„è¿‡äºä¼ ç»Ÿè¿ç»´è§†è§’ä¸€äº›ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/06/capacity-planning/"&gt;https://blog.alswl.com/2016/06/capacity-planning/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Sun, 19 Jun 2016 23:57:39 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-06-19:2016/06/capacity-planning/</guid><category></category></item><item><title>ä¸€æ¬¡ã€Œåˆ†ç­”ã€è®°å½•</title><link>https://blog.alswl.com/2016/06/q-and-a/</link><description>&lt;p&gt;å°è¯•åœ¨å›¢é˜Ÿå†…éƒ¨å‘èµ·ä¸€æ¬¡ç±»ä¼¼ã€Œåˆ†ç­”ã€çš„æ²Ÿé€šæ–¹å¼ï¼Œä¸€å¯¹ä¸€é¢èŠã€‚
å›ç­”å…¶ä»–å·¥ç¨‹å¸ˆçš„é—®é¢˜ï¼Œè¿™ç§æ²Ÿé€šçš„æ–¹å¼æš¨åœ¨æä¾›ä¸€ä¸ªç‰¹å®šçš„åœºåˆï¼Œå¸®åŠ©åŠ å¼ºåŒæ–¹äº†è§£ï¼Œ
è§£å†³å›¢é˜Ÿä¸­å…¶ä»–å·¥ç¨‹å¸ˆçš„ä¸€äº›å®é™…çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¾å¾—å¯¹æ–¹åŒæ„ä¹‹åï¼Œæˆ‘å°†ä»–çš„é—®é¢˜å’Œæˆ‘çš„å›ç­” PO å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="201606/questions-and-answers.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201606/questions-and-answers.jpg"/&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å–œæ¬¢ä»€ä¹ˆæ¸¸æˆï¼Œç©æ¸¸æˆçš„é—®é¢˜&lt;ul&gt;
&lt;li&gt;å–œæ¬¢å’Œäººç©æ¸¸æˆï¼Œä¸å–œæ¬¢å’Œä¸è®¤è¯†ç½‘å‹ç©æ¸¸æˆ&lt;/li&gt;
&lt;li&gt;å°å­¦ä»çº¢æœˆå¼€å§‹ç©ï¼Œä¼ å¥‡ã€CSã€é­”å…½ã€çœŸä¸‰ã€DOTAï¼Œå¤§å­¦æ—¶å€™å’Œèˆå‹ç©æ¸¸æˆï¼Œæ¯•ä¸šåä¸ç©&lt;/li&gt;
&lt;li&gt;minecraft å°è¯•ç€ç©è¿‡ï¼Œæ²¡æœ‰ç©ä¸‹å»ï¼Œæ‰¾ä¸åˆ°äºº&lt;/li&gt;
&lt;li&gt;æ—¥æ´»çš„æ¡Œé¢æ¸¸æˆï¼Œä¸‰å›½æ€ç­‰è›®å–œæ¬¢&lt;/li&gt;
&lt;li&gt;ä¸å–œæ¬¢æµªè´¹æ—¶é—´ï¼Œæ€•æ²¡æ§åˆ¶&lt;/li&gt;
&lt;li&gt;ä»ç©æ¸¸æˆé‡Œé¢å­¦ä¹ ä»€ä¹ˆä¹ˆï¼Ÿä¸ï¼Œå°±æ˜¯çº¯ç²¹äº«å—æ¸¸æˆï¼Œä¸ä¼šæƒ³è¿™ä¹ˆå¤š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å–œæ¬¢ä»€ä¹ˆè¯­è¨€&lt;ul&gt;
&lt;li&gt;çœ‹åœºåˆï¼Œå°ä¸œè¥¿ï¼Œå°åœºæ™¯ç”¨ Pythonï¼Œç”Ÿäº§ç¯å¢ƒç”¨ Javaï¼Œç”Ÿäº§ç¯å¢ƒåˆæœ‰æ—¶é—´ï¼Œè€ƒè™‘ Scala&lt;/li&gt;
&lt;li&gt;åªå…è®¸é€‰ä¸€é—¨è¯­è¨€ï¼Œå°±ç”¨ Python&lt;/li&gt;
&lt;li&gt;æœ€å¸å¼•çš„ç‰¹ç‚¹ï¼Œç†Ÿæ‚‰ç¨‹åº¦é«˜ï¼Œç”Ÿäº§æ•ˆç‡é«˜ï¼Œç¬¬ä¸‰æ–¹åº“ä¸°å¯Œï¼Œç²˜åˆæ€§å¼º&lt;/li&gt;
&lt;li&gt;ä¸º Python åšä¸€äº›åŠŸèƒ½æ‰©å±•ï¼Ÿä¸åŒæ—¶æœŸç­”æ¡ˆä¼šä¸ä¸€æ ·ï¼Œç›®å‰æ¥è¯´ï¼Œå¸Œæœ›æœ‰ä¸€ä¸ªå¼€å‘æ•ˆç‡æ›´é«˜çš„ frameworkï¼›æœ‰æ—¶é—´çš„è¯ï¼Œä¼šè€ƒè™‘å¦‚ä½•ç»•è¿‡åº•å±‚ GIL é—®é¢˜ &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æœ‰ä»€ä¹ˆäº‹æƒ…æŠ•å…¥ç²¾åŠ›ï¼Œé“©ç¾½è€Œå½’&lt;ul&gt;
&lt;li&gt;å·¥å…·å‘é‡çš„äººï¼Œæ¨å¹¿ git èŠ±äº†ä¸¤å¹´ï¼Œæ¨å¹¿ Restful ä¸åˆ©&lt;/li&gt;
&lt;li&gt;åšä¸šåŠ¡å¼€å‘ leaderï¼Œå’Œ tsuã€å°ç®¡ä¸€èµ·åšï¼Œé¡¹ç›®ç®¡ç†ã€å›¢é˜Ÿç®¡ç†æ²¡åšå¥½ï¼Œæ²¡åšå¥½ï¼Œæœ‰æŒ«è´¥æ„Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;èŒä¸šè¿·èŒ«æœŸ&lt;ul&gt;
&lt;li&gt;æˆ‘ä½œä¸ºä¸€ä¸ªå­¦æ¸£ï¼Œå¹¶ä¸”é•¿æœŸä»¥æ¥æ²¡æœ‰äººç»™äºˆèŒä¸šç”Ÿæ¶¯è§„åˆ’ï¼Œä¸€ç›´å¯¹è‡ªå·±æœªæ¥å‘å±•æœ‰å›°æƒ‘&lt;/li&gt;
&lt;li&gt;å¦‚ä½•åœ¨æ— é¢†å¯¼çš„æƒ…å†µä¹‹ä¸‹ï¼Œæ¢ç´¢æœªæ¥é“è·¯ï¼Œè§„åˆ’è‡ªå·±å·¥ä½œå†…å®¹ï¼Ÿè·Ÿä¼˜ç§€çš„äººèŠï¼Œè·Ÿå¤–éƒ¨çš„äººèŠï¼Œçœ‹åšå®¢ï¼Œçœ‹ä¹¦&lt;/li&gt;
&lt;li&gt;è¿·èŒ«æ˜¯å®¢è§‚å­˜åœ¨çš„ï¼Œå¹¶ä¸”å¯èƒ½æŒç»­å­˜åœ¨å¾ˆä¹…ï¼Œæ­£è§†å®ƒ&lt;/li&gt;
&lt;li&gt;ç°å®ä¸­ä¸€å®šä¼šé‡åˆ°å„ç§æŒ‘æˆ˜å’Œå›°éš¾çš„ï¼Œç”¨æŒ‘æˆ˜å’Œå›°éš¾å¡«å……è‡ªå·±ï¼Œä¸°å¯Œè‡ªå·±çš„ç”Ÿæ´»&lt;/li&gt;
&lt;li&gt;è¿·èŒ«æ˜¯æœªçŸ¥ï¼Œæœ‰ææƒ§ï¼Œæœ‰å…´å¥‹ã€‚å¯¹å½“å‰çš„æˆ‘æ¥è¯´ï¼Œææƒ§å¯èƒ½æ›´å¤šï¼Œä½†æ˜¯è¦é¢å¯¹&lt;/li&gt;
&lt;li&gt;èŒä¸šç”Ÿæ¶¯é‡Œé¢ï¼Œå‰æœŸçš„åŒè´¨åº¦æ›´é«˜ï¼Œèµ„æ·±å·¥ç¨‹å¸ˆå¯ä»¥ä¼šç»™åˆçº§å·¥ç¨‹å¸ˆè§„åˆ’æ¸…æ™°ä¸€äº›ï¼Œä½†æ˜¯è¶Šå¾€åæœŸï¼Œè¶Šéš¾è§„åˆ’ï¼Œéœ€è¦è‡ªå·±æ¢ç´¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ¨èä¹¦&lt;ul&gt;
&lt;li&gt;&lt;a href="https://book.douban.com/people/alswl/collect?sort=rating&amp;amp;start=0&amp;amp;filter=all&amp;amp;mode=list&amp;amp;tags_sort=count"&gt;https://book.douban.com/people/alswl/collect?sort=rating&amp;amp;start=0&amp;amp;filter=all&amp;amp;mode=list&amp;amp;tags_sort=count&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å­¦ä¹ æ¥æº&lt;ul&gt;
&lt;li&gt;åšå®¢ï¼Œinfoq ç­‰ä¸“ä¸šä¿¡æ¯æ¥æº&lt;/li&gt;
&lt;li&gt;ä¹¦ç±&lt;/li&gt;
&lt;li&gt;å‘¨å›´çš„äºº&lt;/li&gt;
&lt;li&gt;å°½å¯èƒ½ä»æ¯å¤©æ—¶é—´æŒ¤å‡ºæ—¶é—´é˜…è¯»&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç”Ÿæ´»å’Œå·¥ä½œå¹³è¡¡ç‚¹&lt;ul&gt;
&lt;li&gt;ä¸åŒçš„äººï¼ŒåŒä¸€ä¸ªäººçš„ä¸åŒæ—¶æœŸæ‰€éœ€è¦çš„å¹³è¡¡ä¸ä¸€æ ·&lt;/li&gt;
&lt;li&gt;å¯¹è‡ªå·±äººç”ŸæœŸæœ›ä¸ä¸€æ ·çš„äººï¼Œå¹³è¡¡ç‚¹ä¸ä¸€æ ·&lt;/li&gt;
&lt;li&gt;å¯¹æˆ‘æ¥è¯´ï¼Œç›®å‰é˜¶æ®µä¸å­˜åœ¨æ˜æ˜¾è¾¹ç•Œï¼Œå°½å¯èƒ½æŠ•å…¥å·¥ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ä¿æŒæ¿€æƒ…&lt;ul&gt;
&lt;li&gt;äººæ€»æ˜¯æœ‰ä½è°·æœŸçš„ï¼Œä¸å¯èƒ½ä¸€ç›´ä¿æŒäº¢å¥‹ï¼Œé™¤éæ˜¯ç”²äº¢&lt;/li&gt;
&lt;li&gt;çŸ­æœŸæƒ…ç»ªä¼šæœ‰èµ·ä¼ï¼Œé•¿æœŸæ¥çœ‹ï¼Œä¿æŒæ¢¦æƒ³å’Œå¯¹è‡ªå·±é«˜è¦æ±‚ï¼Œå¯ä»¥å¸®åŠ©ä¿æŒæ¿€æƒ…&lt;/li&gt;
&lt;li&gt;æˆ‘æœ‰ä½è°·æœŸï¼Œä½è°·æœŸé€‚åˆåæ€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚ä½•æ“¦å±è‚¡&lt;ul&gt;
&lt;li&gt;ç°å®æ˜¯æ®‹é…·çš„ï¼Œæ€»æœ‰å±è‚¡è¦æ“¦ï¼Œè‡ªå·±ä¹Ÿæœ‰è„å±è‚¡ï¼Œä»Šå¤©è¦ç»™æ˜¨å¤©çš„è‡ªå·±æ“¦å±è‚¡&lt;/li&gt;
&lt;li&gt;ç°å®ä¸­å­˜åœ¨è„å±è‚¡ï¼Œå°½å¯èƒ½äº†è§£å®ƒï¼Œçœ‹ä»£ç ã€æ–‡æ¡£ï¼Œè®¾è®¡æ–¹æ¡ˆï¼Œäº†è§£çš„äººï¼Œè®©è‡ªå·±å˜èˆ’æœ&lt;/li&gt;
&lt;li&gt;è´£ä»»å¿ƒçš„ä½“ç°ï¼Œåšå¥½å½“ä¸‹çš„äº‹æƒ…ï¼›è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œè§£å†³å½“å‰çš„é—®é¢˜ï¼›é¿å…ç•™ä¸‹è„å±è‚¡ï¼Œè®¾è®¡å¥½ï¼Œè§„åˆ’å¥½&lt;/li&gt;
&lt;li&gt;è´£ä»»å¿ƒçš„è¯å¾ˆè™šã€‚ä¸€ä¸ªäººåšæ“¦å±è‚¡ã€ä½äº§å€¼çš„äº‹æƒ…ï¼Œä»é•¿è¿œæ¥çœ‹ï¼Œæ˜¯é”™çš„ï¼›çŸ­æœŸéœ€è¦æ’‘ä¸‹æ¥ï¼›å¹¶ä¸”å¸®åŠ©å›¢é˜Ÿé¿å…è¿™æ ·çš„äº‹æƒ…å‘ç”Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æœ€æœ‰æˆå°±æ„Ÿçš„äº‹æƒ…&lt;ul&gt;
&lt;li&gt;é¡¶ç€å®¶åº­å‹åŠ›ï¼Œåˆ°ä¸Šæµ·æ¥&lt;/li&gt;
&lt;li&gt;åœ¨å †ç³–æ”¹é€ ç¯å¢ƒï¼Œæå‡è‡ªå·±å¿ƒæ™ºæ°´å¹³ï¼Œä¸å®³æ€•é—®é¢˜ï¼Œè‡ªä¿¡ï¼Œè‡ªçœ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/06/q-and-a/"&gt;https://blog.alswl.com/2016/06/q-and-a/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Wed, 15 Jun 2016 09:59:16 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-06-15:2016/06/q-and-a/</guid><category></category></item><item><title>æµ·è´¼ç‹å’Œåˆ›ä¸šå›¢é˜Ÿ</title><link>https://blog.alswl.com/2016/04/onepiece-startup/</link><description>&lt;p&gt;ä¸€ä¸ªåŒäº‹åœ¨çŸ¥ä¹æäº†ä¸€ä¸ªé—®é¢˜ &lt;a href="https://www.zhihu.com/question/35037806"&gt;å¦‚æœæŠŠè‰å¸½æµ·è´¼å›¢æ¯”ä½œä¸€ä¸ªåˆ›ä¸šå›¢é˜Ÿ,è¿™ä¸ªTeamçš„ç»„ç»‡æ¶æ„æ˜¯æ€æ ·çš„?æœ‰å“ªäº›ä¼˜åŠ¿,åˆæœ‰å“ªäº›ä¸è¶³?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="201604/onepiece.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201604/onepiece.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¯é¢˜å¾ˆæœ‰è¶£ï¼Œä½œä¸ºè¿½äº†å¤šå¹´çš„ fans ï¼Œåˆæ˜¯èº«å¤„äº’è”ç½‘åˆ›ä¸šå›¢é˜Ÿçš„æˆ‘è¦æ¥å¼ºç­”ä¸€è®°ã€‚&lt;/p&gt;
&lt;p&gt;æµ·è´¼ç‹çš„ä¸–ç•Œå¾ˆå¤§ï¼Œå¯Œæœ‰ä¸ªæ€§çš„è§’è‰²å’Œå›¢é˜Ÿä¹Ÿå¾ˆå¤šï¼Œæ°å¥½å¯ä»¥å’Œæ˜¾ç¤ºä¸–ç•Œä¸­çš„äº’è”ç½‘åˆ›ä¸šå›¢é˜Ÿè¿›è¡Œå¯¹æ¯”ã€‚
æŸ³ä¼ å¿—è®²çš„å¥½ï¼Œåšå¤§äº‹ï¼Œè¦ã€Œå»ºç­å­ï¼Œå®šæˆ˜ç•¥ï¼Œå¸¦é˜Ÿä¼ã€ï¼Œæˆ‘ä»¬å°±ç€é‡‘å¥æ¥çœ‹çœ‹è‰å¸½è¿™ä¸ªå›¢é˜Ÿæ€ä¹ˆæ ·ã€‚&lt;/p&gt;

&lt;h2 id="chan-pin-he-zhan-lue"&gt;äº§å“å’Œæˆ˜ç•¥&lt;/h2&gt;
&lt;p&gt;æˆ‘å…ˆè®²äº§å“å’Œæˆ˜ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæµ·è´¼ç‹ä¸–ç•Œçš„è®¾å®šï¼Œä»¥åŠä½œä¸ºä¸€ä¸ªå…¨å¹´æ®µæ¼«ç”»åŠ¨ç”»çš„åŸå› ã€‚
æµ·è´¼ç‹ä¸–ç•Œçš„æ•´ä½“æˆ˜ç•¥æ˜¯è¾ƒä¸ºç®€å•ï¼Œæµ·è´¼å›¢çš„ç›®æ ‡éƒ½è¾ƒä¸ºå•ä¸€ï¼Œå³ã€Œæ‰¾åˆ° å“¥å°” D ç½—æ° ç•™ä¸‹çš„å®è—ã€ã€‚
æµ·è´¼å›¢ä»¬å®ç°ç›®æ ‡çš„è·¯å¾„ä¹Ÿè¾ƒä¸ºå•ä¸€ï¼Œæ‰“æ–—å¢å¼ºæˆ˜æ–—åŠ›ï¼Œä¸æ–­å¯»æ‰¾çº¿ç´¢ï¼Œå»ä¼Ÿå¤§èˆªé“å¯»æ‰¾å®è—ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æ•…äº‹çš„å¼€å±•åè€Œæ˜¯å›´ç»•å¦å¤–ä¸€æ¡éšç§˜çš„çº¿ç´¢ã€Œå†å²çš„çœŸç›¸ã€ï¼Œå°¾ç”°å¤§ç¥åŸ‹å‘å¾ˆæ·±ã€‚
ã€Œå†å²çš„çœŸç›¸ã€å¹¶ä¸æ˜¯ä½œä¸ºå¤§éƒ¨åˆ†äººåŠªåŠ›å’Œå‰è¿›çš„ç›®æ ‡ï¼Œæ‰€ä»¥ã€Œæµ·è´¼ç‹ã€ä¸–ç•Œçš„æ•…äº‹è™½ç„¶æ›²æŠ˜è·Œå®•ï¼Œ
ä½†æ˜¯äº§å“æ¨¡å‹æä¸ºå•ä¸€ï¼Œä¸å…·å¤‡å¤ªå¤šå¯ä»¥è®¨è®ºçš„ç‚¹ã€‚&lt;/p&gt;
&lt;h2 id="tuan-dui"&gt;å›¢é˜Ÿ&lt;/h2&gt;
&lt;p&gt;æ¥ç€è®²å›¢é˜Ÿï¼Œä¸€ä¸ªå›¢é˜Ÿç¬¬ä¸€é‡è¦çš„æ˜¯åˆ›å§‹äººï¼Œè¿™å¿…é¡»è¦æ˜¯ä¸€ä½é¢†è¢–äººç‰©ã€‚&lt;/p&gt;
&lt;p&gt;è¯„ä»·é¢†è¢–ä¼˜ç§€ç¨‹åº¦ï¼Œä»è¿™ä¹ˆå‡ ä¸ªè§’åº¦è¯„ä»·ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ„å¿—åŠ›ï¼šæ‰“ä¸æ­»çš„å°å¼ºï¼Œä¸è¾¾ç›®æ ‡èª“ä¸ç½¢ä¼‘&lt;/li&gt;
&lt;li&gt;ä¸“ä¸šæŠ€èƒ½ï¼šèƒ½æ‰“ã€è„‘å­çµå…‰ã€å¿ƒçµæ‰‹å·§ã€ä¸€æŠ€ä¹‹é•¿&lt;/li&gt;
&lt;li&gt;è§„åˆ’èƒ½åŠ›ï¼šé™¤äº†ä½“åŠ›å€¼å’Œä¸“ä¸šæ™ºæ…§ï¼Œä¹Ÿè¦è®²è®²æˆ˜ç•¥å’Œè°‹ç•¥&lt;/li&gt;
&lt;li&gt;ç®¡ç†èƒ½åŠ›ï¼šæ²Ÿé€šåè°ƒã€å›¢é˜Ÿç®¡ç†ä¿ƒè¿›èƒ½åŠ›ï¼Œèƒ½å¤Ÿå¸¦é¢†å›¢é˜Ÿå®ç°ç›®æ ‡ï¼Œä¿ƒè¿›ä»–äººæˆé•¿&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»¥è¿™ä¸ªæ ‡å‡†æ¥çœ‹å‡ ä¸ªå…·æœ‰é¢†è¢–æ°”è´¨çš„è§’è‰²ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è·¯é£&lt;ul&gt;
&lt;li&gt;æ„å¿—åŠ›ï¼š5&lt;/li&gt;
&lt;li&gt;ä¸“ä¸šæŠ€èƒ½ï¼š5&lt;/li&gt;
&lt;li&gt;è§„åˆ’èƒ½åŠ›ï¼š1ï¼ˆç‡æ€§è€Œä¸ºçš„å¤§çˆ·ï¼‰&lt;/li&gt;
&lt;li&gt;ç®¡ç†èƒ½åŠ›ï¼š1ï¼ˆå›¢é˜Ÿè‡ªç”±ç”Ÿé•¿ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç™½èƒ¡å­&lt;ul&gt;
&lt;li&gt;æ„å¿—åŠ›ï¼š5&lt;/li&gt;
&lt;li&gt;ä¸“ä¸šæŠ€èƒ½ï¼š5&lt;/li&gt;
&lt;li&gt;è§„åˆ’èƒ½åŠ›ï¼š4ï¼ˆé¡¶ä¸Šä¹‹æˆ˜çš„è¿‡ç¨‹è¯æ˜ï¼‰&lt;/li&gt;
&lt;li&gt;ç®¡ç†èƒ½åŠ›ï¼š5ï¼ˆé˜Ÿé•¿ä»¬çš„æˆé•¿å’Œå¿ è¯šåº¦è¯æ˜ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¤šå¼—æœ—æ˜å“¥&lt;ul&gt;
&lt;li&gt;æ„å¿—åŠ›ï¼š5&lt;/li&gt;
&lt;li&gt;ä¸“ä¸šæŠ€èƒ½ï¼š5&lt;/li&gt;
&lt;li&gt;è§„åˆ’èƒ½åŠ›ï¼š5&lt;/li&gt;
&lt;li&gt;ç®¡ç†èƒ½åŠ›ï¼š5&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è‰¾æ–¯&lt;ul&gt;
&lt;li&gt;æ„å¿—åŠ›ï¼š5&lt;/li&gt;
&lt;li&gt;ä¸“ä¸šæŠ€èƒ½ï¼š4ï¼ˆä»¥ç‰ºç‰²çš„æ—¶é—´ç‚¹æˆ˜æ–—åŠ›æ‰“åˆ†ï¼‰&lt;/li&gt;
&lt;li&gt;è§„åˆ’èƒ½åŠ›ï¼š2ï¼ˆè¿½è¸ªé»‘èƒ¡å­ï¼Œä¸€ä¸ªäººå†’è¿›ï¼Œè¢«é»‘èƒ¡å­æ‘†äº†ä¸€é“ï¼‰&lt;/li&gt;
&lt;li&gt;ç®¡ç†èƒ½åŠ›ï¼š2ï¼ˆä¹Ÿå°±æ··åˆ°ä¸€ä¸ªé˜Ÿé•¿ï¼Œèƒ½å¤Ÿé¼“åŠ±å…¶ä»–äººï¼Œä½†æ˜¯æ²¡å‘ç°é»‘èƒ¡å­æˆé•¿çš„é—®é¢˜ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å”åƒ§ï¼ˆä¹±å…¥ä¸€ä¸ªå¯¹æ¯”ï¼‰&lt;ul&gt;
&lt;li&gt;æ„å¿—åŠ›ï¼š5+&lt;/li&gt;
&lt;li&gt;ä¸“ä¸šæŠ€èƒ½ï¼š4ï¼ˆç†Ÿè¯»ç»ä¹¦ç®—ä¸ç®—ä¸“ä¸šèƒ½åŠ›ï¼Ÿï¼‰&lt;/li&gt;
&lt;li&gt;è§„åˆ’èƒ½åŠ›ï¼š0&lt;/li&gt;
&lt;li&gt;ç®¡ç†èƒ½åŠ›ï¼š0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»ä¸Šé¢çš„åˆ¤æ–­å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºä¸€ä¸ªé¢†è¢–è€Œè¨€ï¼Œè·¯é£ä»…ä»…æ˜¯ä¸é”™ï¼Œä½†æ˜¯è°ˆä¸ä¸Šå¤šä¹ˆä¼˜ç§€ï¼Œ
å€’æ˜¯ç™½èƒ¡å­ï¼Œå…¸èŒƒå•Šå…¸èŒƒã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä¸Šé¢æåˆ°çš„èƒ½åŠ›æ¨¡å‹ï¼Œè‰å¸½æµ·è´¼å›¢çš„å…¶ä»–è§’è‰²å¤§å®¶ä¹Ÿå¯ä»¥å¿ƒé‡Œè¯„ä¼°å‡ºæ¥äº†ï¼š
å¤§éƒ¨åˆ†äººéƒ½æ˜¯æ„å¿—åŠ›ã€ä¸“ä¸šæŠ€èƒ½å¼ºæ‚ï¼ˆå³ä¾¿æ˜¯ä¹Œç´¢æ™®ï¼Œå°„å‡»èƒ½åŠ›ä¹Ÿæ˜¯å¯ä»¥è¯„ä¸Š 3ï¼‰ï¼Œä½†æ˜¯åŒæ—¶ä¹Ÿåœ¨è§„åˆ’èƒ½åŠ›å’Œç®¡ç†èƒ½åŠ›ä¸Šé¢è¾ƒå¼±ã€‚&lt;/p&gt;
&lt;p&gt;å”‰ï¼Œè¿™ä¹ˆå¼±ï¼Œå¾ˆéš¾ç»§ç»­æ”¯æ’‘è‰å¸½æµ·è´¼å›¢ç»§ç»­èµ°ä¸‹å»å•Šï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id="dai-dui-wu"&gt;å¸¦é˜Ÿä¼&lt;/h2&gt;
&lt;p&gt;è‰å¸½æµ·è´¼å›¢ï¼Œä¸€ä¸ªæä¸ºæ¼‚äº®çš„ã€Œè‡ªç»„ç»‡å›¢é˜Ÿã€ã€‚&lt;/p&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯ã€Œè‡ªç»„ç»‡å›¢é˜Ÿã€ï¼Ÿæ¥è‡ª InfoQ çš„ä¸€ç¯‡æ–‡ç«  &lt;a href="http://www.infoq.com/cn/articles/what-are-self-organising-teams"&gt;ä»€ä¹ˆæ˜¯è‡ªç»„ç»‡å›¢é˜Ÿï¼Ÿ&lt;/a&gt; é‡Œé¢è®²åˆ°å›¢é˜Ÿçš„ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;åˆ†æ•£å¼çš„æ§åˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸é›†ä¸­å¼çš„æ§åˆ¶æˆªç„¶ç›¸åï¼Œ&lt;/li&gt;
&lt;li&gt;ä¸æ–­é€‚åº”æ”¹å˜çš„ç¯å¢ƒï¼Œ&lt;/li&gt;
&lt;li&gt;åœ¨å±€éƒ¨ç›¸äº’ä½œç”¨ä¸‹è‡ªç„¶æµ®ç°å‡ºæ¥çš„ç»“æ„,&lt;/li&gt;
&lt;li&gt;åé¦ˆï¼ŒåŒ…æ‹¬è‚¯å®šçš„å’Œå¦å®šçš„&lt;/li&gt;
&lt;li&gt;å¼¹æ€§ï¼Œå½’ç»“äºç³»ç»Ÿä¿®å¤å’Œè°ƒæ•´çš„èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç”¨ç®€å•çš„å…³é”®è¯æ¦‚æ‹¬ï¼Œå…¶å®æ˜¯è¿™ä¹ˆå‡ ä¸ªå…³é”®è¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªè¡Œå†³ç­–&lt;/li&gt;
&lt;li&gt;è‡ªå·±æˆé•¿&lt;/li&gt;
&lt;li&gt;é€‚åº”ç¯å¢ƒå˜åŒ–&lt;/li&gt;
&lt;li&gt;å›¢é˜Ÿå†…éƒ¨ä¿¡ä»»å¹¶ä¸”æ²Ÿé€šé¡ºç•…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»è¿™å‡ ä¸ªå…³é”®è¯æ¥çœ‹ï¼Œè‰å¸½æµ·è´¼å›¢å’Œè¿™ç§è‡ªç»„ç»‡æ¨¡å¼æä¸ºåŒ¹é…ã€‚è·¯é£ä»æ¥ä¸ä¼šå‘å·æ–½ä»¤ï¼Œç»Ÿä¸€è°ƒåº¦ï¼Œé¡¶å¤šå–Šå‡ å¥å£å·æŒ¯å¥‹ä¸€ä¸‹å¤§å®¶ã€‚
è·¯é£è‡ªèº«çš„è§„åˆ’èƒ½åŠ›å’Œå¸®åŠ©ä»–äººæˆé•¿çš„èƒ½åŠ›ä¹Ÿè¿œä¸åŠæ ¼ã€‚å›¢é˜Ÿé‡Œé¢å…¶ä»–çš„æˆå‘˜ï¼Œç´¢éš†ã€é¦™å‰å£«ç­‰çš„æˆé•¿ï¼Œå®Œå…¨æ˜¯é è‡ªå·±ï¼Œ
ç”šè‡³åœ¨ã€Œä¸¤å¹´ã€è·¨åº¦è¿™ä¹ˆé•¿çš„æ—¶é—´ï¼Œå°¾ç”°ä¹Ÿæ˜¯å€Ÿå¤–éƒ¨åŠ›é‡å¸®åŠ©å›¢é˜Ÿè¿™äº›æˆå‘˜æˆé•¿ï¼Œè€Œä¸æ˜¯ä¾é é¢†è¢–æ¥åŸ¹å…»æˆå‘˜ã€‚&lt;/p&gt;
&lt;p&gt;è·¯é£é€‰æ‹©è¿™ç§è‡ªç»„ç»‡æ¨¡å¼ï¼Œä¸ä»…ä»…æ˜¯ä¸€ç§å·§åˆï¼Œæ›´å¤šçš„æ˜¯ä¸€ç§é€¼ä¸å¾—å·²ã€‚å°¾ç”°å¤§ç¥å†™çš„å°±æ˜¯é’æ˜¥çƒ­è¡€æ¼«ç”»ï¼Œè¦æ˜¯æ¢æˆä¸€ä¸ªæœ‰å‹‡æœ‰è°‹ï¼Œ
é‚£å°±æˆä¸»æ—‹å¾‹ç”µè§†å‰§äº†ï¼Œå¤§å®¶å¯èƒ½ä¹Ÿæ˜¯å› ä¸ºè·¯é£è¿™ç§ä¼˜ç‚¹å’Œç¼ºç‚¹å–œæ¬¢ä»–ã€‚&lt;/p&gt;
&lt;h3 id="anti-zi-zu-zhi-mo-shi"&gt;Anti-è‡ªç»„ç»‡æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;å’Œã€Œè‡ªç»„ç»‡æ¨¡å¼ã€ç›¸åçš„æƒ…å†µï¼Œå¯ä»¥å‚ç…§ä¸€ä¸‹å¤šå¼—æœ—æ˜å“¥çš„å›¢é˜Ÿã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å¤šå¼—æœ—æ˜å“¥å›¢é‡Œé‡Œé¢ï¼Œæœ‰ä¸¥å¯†çš„ç­‰çº§å…³ç³»ï¼ˆå››å¤§å¹²éƒ¨ï¼Œå®¶æ—å¹²éƒ¨ï¼Œæ™®é€šå°å…µï¼‰ï¼Œ
æœ‰å¸®åŠ©äººæ‰æˆé•¿çš„æµç¨‹ï¼ˆåŸ¹è®­ç½—çš„ä¸€ç³»åˆ—æµç¨‹ï¼‰ã€‚
è¿™ç§è®¾å®šä¹Ÿæ˜¯å¤šå¼—æœ—æ˜å“¥çš„æˆ˜ç•¥èƒ½åŠ›å’Œç®¡ç†èƒ½åŠ›çš„ä½“ç°ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§æ›´æè‡´çš„ç»„ç»‡æ¨¡å¼ã€Œé›†æƒæ¨¡å¼ã€ï¼Œç”±æ ¸å¿ƒå±‚å‘å·æ–½ä»¤ï¼ŒååŒä½œæˆ˜ã€‚
æµ·è´¼ç‹çš„ä¸–ç•Œé‡Œï¼Œè¾ƒå°‘å‘ç°è¿™æ ·çš„æ¨¡å¼ï¼Œåæ´¾è§’è‰²æµ·å†›æœ‰ä¸€ç‚¹ç‚¹åƒã€‚
å€’æ˜¯å¦å¤–ä¸€éƒ¨ä½œå“ã€Œæ˜Ÿçƒå¤§æˆ˜ã€ï¼Œå…¶ä¸­çš„å¸å›½ã€ç¬¬ä¸€ç§©åºï¼Œéƒ½æ˜¯å…¸å‹çš„ Manager å‘å·æ–½ä»¤ï¼Œåº•å±‚å£«å…µåªè¦å¥½å¥½ä½œæˆ˜å³å¯ã€‚
ç»Ÿä¸€åŸ¹å…»æˆè¡Œçš„å…‹éš†äººï¼Œå°±å¯ä»¥æ”¯æ’‘è¿™æ ·çš„å›¢é˜Ÿå‘æŒ¥åè¶³æˆ˜åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§é›†æƒæ¨¡å¼ï¼Œç¼ºå°‘å‘ä¸Šåé¦ˆèƒ½åŠ›ï¼Œç¼ºå°‘è‡ªå‘çš„åˆ›æ–°èƒ½åŠ›ã€‚åœ¨ä¸šåŠ¡å‘å±•é¡ºåˆ©è§„æ¨¡æ‰©å¼ é˜¶æ®µï¼Œä¹Ÿè®¸å¯ä»¥å‘å±•ä¸é”™ï¼Œä½†æ˜¯é•¿ä¹…ä»¥å¾€ï¼Œ
æ ¸å¿ƒå±‚å¿…ç„¶ä¼šå‘è§‰åˆ›æ–°åŠ›å’Œé©±åŠ¨åŠ›ä¸è¶³ï¼ŒèŠ±è´¹å¤§é‡çš„ç²¾åŠ›åœ¨ç®¡ç†ã€åˆ¶åº¦å»ºè®¾ã€å¥–æƒ©æœºåˆ¶ä¸Šé¢ã€‚&lt;/p&gt;
&lt;p&gt;è·¯é£çš„ç¼ºç‚¹å’Œä¼˜ç‚¹ä¸€æ ·é²œæ˜ï¼Œä»–å¾ˆå¹¸è¿çš„ï¼ˆå¯èƒ½ä¹Ÿå®Œå…¨ä¸çŸ¥é“ï¼‰ä½¿ç”¨äº†ã€Œè‡ªç»„ç»‡å›¢é˜Ÿã€è¿™ç§æ¨¡å¼ï¼Œå®Œæˆäº†åˆ›ä¸šçš„èµ·æ­¥é˜¶æ®µã€‚
ä½†æ˜¯è¿™ç§æ¨¡å¼æœ‰ä¹Ÿæœ‰è‡ªå¸¦çš„ç¼ºé™·ï¼Œéœ€è¦ç›®æ ‡ä¸€è‡´æ€§å¾ˆé«˜ï¼Œå›¢é˜Ÿæˆå‘˜è‡ªèº«æœ‰æé«˜æˆé•¿åº¦ã€‚ä¸€æ—¦é‡åˆ°ä¸šåŠ¡çˆ†ç‚¸ï¼ˆé¡¶ä¸Šä¹‹æˆ˜è¿™ç§è§„æ¨¡çš„æˆ˜å½¹ï¼‰ï¼Œ
è¿™å›¢é˜Ÿå°±å®Œè›‹äº†ã€‚æœŸæœ›è·¯é£åœ¨æœªæ¥çš„èˆªé“ä¸Šï¼Œæ³¨æ„åŸ¹å…»ä¸€ä¸‹è‡ªå·±ä¸å–„äºçš„èƒ½åŠ›ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œä»æœ€è¿‘çš„ã€Œåºå…‹å“ˆæ’’å¾·ç¯‡ã€å’Œã€Œå¾·é›·æ–¯ç½—æ’’ç¯‡ã€æˆ˜å†µæ¥çœ‹ï¼Œ
è·¯é£å·²ç»å¼€å§‹å­¦ä¼šåˆ¶å®šã€Œå¯»æ‰¾å‹å†›ç»“ç›Ÿã€ã€ã€Œæ ‘ç«‹ç«äº‰å¯¹æ‰‹æ ‡æ†ã€è¿™æ ·çš„åˆçº§æˆ˜ç•¥æ–¹æ¡ˆäº†ã€‚&lt;/p&gt;
&lt;h2 id="mo_1"&gt;æœ«&lt;/h2&gt;
&lt;p&gt;æµ·è´¼ç‹çš„ä¸–ç•Œï¼ŒçœŸçš„å°±æ˜¯ç°å®ä¸­ã€Œæµ·ç›—ã€çš„æ­£å¼å†™ç…§å§ã€‚å®Œæˆä¸å¯èƒ½çš„ç›®æ ‡ï¼Œæˆå°±å›¢é˜Ÿï¼Œæˆå°±è‡ªå·±ã€‚&lt;/p&gt;
&lt;p&gt;ã€Œä¸–ä»£ä¼ æ‰¿çš„æ„å¿—ï¼Œæ—¶ä»£çš„å˜è¿ï¼Œäººä»¬çš„æ¢¦ï¼Œåªè¦äººä»¬ç»§ç»­è¿½æ±‚è‡ªç”±çš„ç­”æ¡ˆï¼Œè¿™ä¸€åˆ‡çš„ä¸€åˆ‡éƒ½å°†æ°¸ä¸åœæ­¢.è¿™ä¸–ç•Œ&amp;hellip;&amp;hellip;æ²¡é”™ï¼ä¸€ä¸ªè¿½æ±‚è‡ªç”±ä»»å‡­é€‰æ‹©çš„ä¸–ç•Œï¼Œå°±åœ¨æˆ‘ä»¬çš„çœ¼å‰æ— é™åœ°å»¶ä¼¸ï¼Œå¦‚æœæˆ‘ä»¬çš„æ¢¦æƒ³å¯ä»¥å¼•å¯¼ä½ çš„æ–¹å‘çš„è¯ï¼Œå°±å»è¿½å¯»å§ï¼åœ¨åä¸ºä¿¡å¿µçš„æ——å¸œä¸‹ã€&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/04/onepiece-startup/"&gt;https://blog.alswl.com/2016/04/onepiece-startup/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Wed, 27 Apr 2016 00:36:10 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-04-27:2016/04/onepiece-startup/</guid><category></category></item><item><title>Windows management for hacker</title><link>https://blog.alswl.com/2016/04/windows-management-for-hacker/</link><description>&lt;p&gt;å›¢é˜Ÿé‡Œçš„åŒå­¦æœ‰æ—¶çœ‹è§æˆ‘é”®æŒ‡å¦‚é£ï¼Œå¯ä»¥ç”¨å¿«æ·é”®å°† Mac çš„çª—å£ç©è½¬äºæ‰‹å¿ƒã€‚ä»–ä»¬è¡¨ç¤ºé…·ç‚«éå¸¸ï¼Œ
å¿ƒç”Ÿç¾¡æ…•çš„åŒæ—¶ï¼Œå¸Œæœ›æŒæ¡è¿™é—¨æŠ€è‰ºï¼Œæˆ‘å°±æŠŠä½¿ç”¨çš„ Phoenix ä»‹ç»ç»™å¤§å®¶ã€‚ç»“æœè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œ
å‘ç°æ™®åŠç‡å¹¶ä¸é«˜ï¼Œæœ¬ç€å¥½ä¸ºäººå¸ˆçš„ç²¾ç¥ï¼Œä»Šå¤©æˆ‘å°±æ¥å…«ä¸€å…«è¿™æ¬¾ä¼˜ç§€çš„æ¡Œé¢ç®¡ç†å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä»‹ç»æˆ‘ä½¿ç”¨çš„å·¥å…·ä¹‹å‰ï¼Œæˆ‘è¦å…ˆä»‹ç»ä¸€ä¸‹æˆ‘é€‰æ‹©çš„åŸå› å’Œå†å²ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="201604/ergodox_infinity.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201604/ergodox_infinity.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;psï¼šé…å›¾æ˜¯æˆ‘é•¿è‰å¤šå¹´çš„ Ergodox Infinityã€‚ï¼ˆ@å¤«äººï¼Œçœ‹åˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œè¯·ç•™æ­¥æ€è€ƒ 5sï¼‰ã€‚&lt;/p&gt;
&lt;h2 id="alttab-ku-nan-de-li-shi"&gt;Alt+Tab = è‹¦éš¾çš„å†å²&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘è¿˜å¹´è½»çš„æ—¶å€™ï¼Œæ›¾ç»å¯¹ Alt+Tab è¿™ä¸ªå¿«æ·é”®æ„¤æ…¨æ— æ¯”ï¼Œè§‰å¾—è¿™ç§è®¾è®¡è™½ç„¶ç®€å•ä½†æ˜¯å¾ˆè ¢ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å‘½ä¸­ç‡ä½&lt;/strong&gt;ã€‚è¦åœ¨èŒ«èŒ«å›¾æ ‡ä¸­æŸ¥æ‰¾è‡ªå·±éœ€è¦çš„çª—å£ï¼Œå¦‚æœå¼€äº† 20 ä¸ªåº”ç”¨ï¼Œåˆ‡æ¢åˆ°ä¸€ä¸ªéå¸¸ç”¨çª—å£è‡³å¤šå¯èƒ½éœ€è¦ 20-1 æ¬¡æŒ‰é”®ã€‚
    ä¸è¦è·Ÿæˆ‘è¯´æœ‰ Alt+Shift+Tab çš„åå‘å¾ªç¯æ“ä½œï¼Œä¼°è®¡å¤§éƒ¨åˆ†ç”¨æˆ·éƒ½ä¸çŸ¥é“ã€‚è€Œä¸” æ­£å‘/åå‘ åˆ‡æ¢ä¼¤è„‘å­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº¤äº’æ–¹å¼è€—æ—¶&lt;/strong&gt;ã€‚ç”±äº Alt+Tab çš„æ“ä½œéœ€è¦ç”¨æˆ·è¿›è¡Œåé¦ˆæ‰èƒ½è¿›è¡Œï¼Œæ˜¯ &lt;code&gt;çœ¼-æ‰‹-çœ¼-æ‰‹&lt;/code&gt; çš„æ“ä½œåé¦ˆæ–¹å¼ï¼Œ
    è¿™ç§äº¤äº’æ¨¡å¼è´¹æ—¶è´¹è„‘å­ã€‚è·Ÿè¿™ç§éœ€è¦å®æ—¶åé¦ˆå¯¹ç«‹çš„äº¤äº’æ¨¡å¼åº”å½“æ˜¯ç±»ä¼¼ã€Œä¸€é”®å‘¼å‡ºã€çš„æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœ¨å¤§æ˜¾ç¤ºå™¨ã€å¤šæ˜¾ç¤ºå™¨çš„ç¯å¢ƒä¸‹é¢ï¼ŒAlt-Tab æ¨¡å¼æ²¡æœ‰åšä»»ä½•ä¼˜åŒ–&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é¢‘ç¹åˆ‡å‡ºçª—å£è¿›è¡Œåˆ‡æ¢ï¼Œå®¹æ˜“è®©äººåˆ†ç¥ï¼Œæ¯”å¦‚åˆ‡æ¢æ—¶å€™çœ‹åˆ°æŸä¸ªæ’­æ”¾å™¨çš„æ ‡é¢˜ï¼Œåœ¨æ”¾ä¸€é¦–å–œæ¬¢çš„æ­Œï¼Œå¾ˆå¯èƒ½å¸å¼•è¿‡å»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ‰äººä¼šé—®ï¼Œéš¾é“ä¸ä¼˜åŒ–éƒ½æ˜¯ç¼ºé™·ä¹ˆï¼Ÿ
    æˆ‘çš„ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚Alt+Tab æ˜¯å‡ ä¹é™¤é¼ æ ‡ä¹‹å¤–çš„å”¯ä¸€ä¸€ç§çª—å£æ“ä½œæ–¹å¼ã€‚å¦‚æœå®ƒä¸èƒ½è·Ÿä¸Šæ—¶ä»£çš„æ­¥ä¼ï¼Œ
    å¯¹å¤§æ˜¾ç¤ºå™¨ã€å¤šæ˜¾ç¤ºå™¨åšä¼˜åŒ–ï¼Œé‚£å°±æ˜¯ä¸ä½œä¸ºï¼Œä¸åŠªåŠ›ï¼Œä¸ä¸Šè¿›ã€‚è·Ÿä¸ä¸Šå˜åŒ–æ˜¯è¦è¢«æ·˜æ±°çš„ï¼&lt;/p&gt;
&lt;p&gt;&lt;img alt="201604/alt_tab_windows.jpeg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201604/alt_tab_windows.jpeg"/&gt;&lt;/p&gt;
&lt;h2 id="ping-pu-shi-chuang-kou-guan-li-qi"&gt;å¹³é“ºå¼çª—å£ç®¡ç†å™¨&lt;/h2&gt;
&lt;p&gt;åœ¨è¢« Windows Alt-Tab è™äº†å¤šå¹´ä¹‹åï¼Œæˆ‘é•¿å¤§äº†ï¼Œå¼€å§‹æ¥è§¦ Linuxï¼Œä½†æ˜¯è¿™ç§ç—›è‹¦ä»ç„¶æ—¶åˆ»åŒ…å›´ç€æˆ‘ã€‚
å½“æˆ‘åˆ†æœŸè´­ä¹°ä¸€ä¸ªå¤–ç½®æ˜¾ç¤ºå™¨ä¹‹åï¼Œè¿™ç§ç—›è‹¦åˆ°è¾¾åˆ°äº†é¡¶ç«¯ã€‚
æ°å¥½å½¼æ—¶æˆ‘æ˜¯ &lt;a href="https://www.archlinux.org/"&gt;ArchLinux&lt;/a&gt; çš„ä¿¡å¾’ï¼Œå¾ˆå¿«å°±å‘ç°äº†ä¸€ç‰‡æ¡ƒæºï¼š
è‡ªå·±å®‰è£… &lt;a href="https://wiki.archlinux.org/index.php/window_manager"&gt;Window manager&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘é‡æ–°è®¤è¯†äº†æ¡Œé¢ç³»ç»Ÿä¸–ç•Œï¼Œé™¤äº†ä»‹ç»å¸¸è§„çš„ Gnome / KDE / xfce ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç±»çª—å£ç®¡ç†ç³»ç»Ÿï¼Œä»–ä»¬å«åšã€Œå¹³é“ºå¼çª—å£ç®¡ç†å™¨ã€ã€‚
ï¼ˆä¸¥æ ¼æ¥è¯´ï¼ŒGnome / KDE / xfce å±äº Desktop environmentï¼Œå±‚çº§æ¯”ã€Œçª—å£ç®¡ç†ç³»ç»Ÿã€è¦é«˜ï¼Œæˆ‘è¿™é‡Œä¸åšä¸¥æ ¼åŒºåˆ†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯å¹³é“ºå¼çª—å£ç®¡ç†å™¨ï¼Ÿæ¥ä¸€ä¸ªç›´è§‚çš„è®¤è¯†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="201604/awesome_1.jpeg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201604/awesome_1.jpeg"/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="201604/awesome_2.jpeg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201604/awesome_2.jpeg"/&gt;&lt;/p&gt;
&lt;p&gt;å®˜æ–¹çš„è§£é‡Šæ˜¯&amp;hellip;&amp;hellip;å‘µå‘µï¼Œè‡ªå·±ç‚¹è¿›å»çœ‹è§£é‡Šå§ã€‚å¹³é“ºå¼æ¡Œé¢ç®¡ç†å™¨ï¼ˆåŒ…æ‹¬åŒæ—¶æ”¯æŒå¹³é“ºå¼å’Œå †å å¼çš„æ··åˆå¼æ¡Œé¢ç®¡ç†å™¨ï¼‰ç»™æˆ‘å¸¦æ¥äº†æ–°çš„è®¤çŸ¥ï¼Œ
åŸæ¥æ¡Œé¢ç³»ç»Ÿæ˜¯å¯ä»¥è¿›è¡Œæ¥å£ç¼–ç¨‹çš„ï¼Œæˆ‘ä¸é‚£ä¹ˆ care åˆ°åº•æ˜¯å“ªç§é£æ ¼ï¼Œæˆ‘ care çš„æ˜¯ï¼Œ
èƒ½å¦é€šè¿‡ç¼–ç¨‹å®šåˆ¶æ¥è§£å†³æˆ‘çš„ Alt-Tab é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id="wo-qi-wang-de-chuang-kou-guan-li-mo-shi"&gt;æˆ‘æœŸæœ›çš„çª—å£ç®¡ç†æ¨¡å¼&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å¿«é€Ÿå¯åŠ¨æœ€å¸¸ç”¨çš„åº”ç”¨ï¼ŒåŒæ—¶ä¹Ÿèƒ½å°†å…¶å¿«é€Ÿå‘¼å‡º&lt;/li&gt;
&lt;li&gt;å¯¹å¤§å±å¹•å‹å¥½ï¼Œç°åœ¨æ˜¾ç¤ºå™¨æ™®éæ˜¯å¤§å±å¹•ï¼Œå¯ä»¥è‡ªç”±æ§åˆ¶çª—ä½“çš„ç§»åŠ¨ï¼Œæ–¹ä¾¿å¤šä¸ªçª—å£åŒæ—¶è¿›è¡Œæ“ä½œ&lt;/li&gt;
&lt;li&gt;å¯¹å¤šå±å¹•å‹å¥½ï¼Œå¤šå±å¹•é—´çš„åˆ‡æ¢ï¼Œè¦å‹å¥½ã€‚å¯ä»¥å¿«é€Ÿå±å¹•é—´åˆ‡æ¢&lt;/li&gt;
&lt;li&gt;å¯¹é”®ç›˜å‹å¥½ï¼Œå¯¹é¼ æ ‡å‹å¥½ï¼Œå…¨é”®ç›˜æ“ä½œæ¨¡å¼ï¼Œä½†åŒæ—¶è¦å¯¹é¼ æ ‡å‹å¥½ï¼Œæ¯”å¦‚é¼ æ ‡è·Ÿéšç„¦ç‚¹åŠŸèƒ½ï¼Œæ¯•ç«Ÿä¸€äº›æ“ä½œè¿˜æ˜¯é¼ æ ‡æ–¹ä¾¿&lt;/li&gt;
&lt;li&gt;å¸®åŠ©é›†ä¸­æ³¨æ„åŠ›ï¼Œå°†æ“ä½œç•Œé¢éš”ç¦»æˆå¤šä¸ªç›®çš„åŒºåˆ†çš„ç©ºé—´ï¼Œæ¯”å¦‚å†™ä½œæ—¶å€™ï¼ŒæœŸæœ›åªæœ‰ä¸€ä¸ª Evernote + Chrome åœ¨çœ¼å‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="wo-zai-mac-xia-mian-de-fang-an"&gt;æˆ‘åœ¨ Mac ä¸‹é¢çš„æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;å‘œå‘¼ï¼Œæ„Ÿè°¢ä¼Ÿå¤§çš„ &lt;a href="https://github.com/jasonm23/"&gt;Jason Milkins&lt;/a&gt; åšäº†ä¸€å †å°è¯•ï¼Œ
åˆ›é€ äº†ä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„æ¡Œé¢ç®¡ç†å™¨ã€‚ç„¶åæ„Ÿè°¢ &lt;a href="https://github.com/kasper"&gt;Kasper Hirvikoski&lt;/a&gt;
åœ¨ Jason æ‹æ‹å±è‚¡èµ°äººä¹‹åï¼Œæ¥è¿‡äº† Jason çš„æ£’å­ï¼Œå°† Phoenix è¿™ä¸ªé¡¹ç›®å¿«é€Ÿæ¨è¿›ï¼Œè§£å†³äº†ä¸€å †å¯¼è‡´ä¸å¯ç”¨çš„ bugï¼Œ
å¹¶æ–°å¢äº†å¾ˆå¤šç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å›åˆ°è¦ä»‹ç»çš„ä¸»è§’èº«ä¸Šï¼Œ&lt;a href="https://github.com/kasper/phoenix"&gt;Phoenix&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A lightweight OS X window and app manager scriptable with JavaScript&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åŸºæœ¬ç‰¹æ€§æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Javascript ä½œä¸ºé…ç½®æ–‡ä»¶ï¼Œå®šåˆ¶æ€§è¶…çº§å¼º&lt;/li&gt;
&lt;li&gt;æ”¯æŒ App / Window / Space / Screen ç­‰å¯¹è±¡çš„æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŸºäº Phoenixï¼Œæˆ‘è¾¾æˆäº†æˆ‘çš„çª—å£ç®¡ç†æ¨¡å¼çš„ç›®æ ‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¿«é€Ÿå¯åŠ¨&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;Option&lt;/code&gt; + ` / 1 / 2 / 3 / 4 / 8 / 9 / e / a / s / z /, / . / / å¯åŠ¨&lt;/li&gt;
&lt;li&gt;iTerm / Chrome / Safari / QQ / Bearychat / Wechat / Neteasy Music / MacVim / IntelliJ IDEA / Macdown / Mail / Evernote / Finder&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;çª—å£æ“ä½œ&lt;ul&gt;
&lt;li&gt;Option + - / =&lt;ul&gt;
&lt;li&gt;å¤§å°æ§åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Option + m&lt;ul&gt;
&lt;li&gt;çª—å£ç§»åŠ¨åˆ°å±å¹•ä¸­å¤®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Option + Space&lt;ul&gt;
&lt;li&gt;é¼ æ ‡æ‰¾å›åˆ°çª—å£ä¸­å¤®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å±å¹•å†…æ“ä½œ&lt;ul&gt;
&lt;li&gt;Option + J / K&lt;ul&gt;
&lt;li&gt;ç„¦ç‚¹åœ¨åŒå±å¹•çª—å£åˆ‡æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ctrl + Option + J / K / H / L&lt;ul&gt;
&lt;li&gt;çª—å£ç§»åŠ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å±å¹•é—´æ“ä½œ&lt;ul&gt;
&lt;li&gt;Option + H / L&lt;ul&gt;
&lt;li&gt;ç„¦ç‚¹å·¦å³å±å¹•åˆ‡æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Space æ“ä½œ&lt;ul&gt;
&lt;li&gt;Option + I / O&lt;ul&gt;
&lt;li&gt;Space å·¦å³åˆ‡æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Option + Ctrl + I / O&lt;ul&gt;
&lt;li&gt;å°†å½“å‰çª—å£ç§»åŠ¨åˆ°ç›¸é‚» Space&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Option + Enter&lt;ul&gt;
&lt;li&gt;å°†å½“å‰çª—å£ç§»åŠ¨åˆ° Work Space&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Option + Delete&lt;ul&gt;
&lt;li&gt;å°†å½“å‰çª—å£ç§»åŠ¨åˆ° Park Space&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Work / Park Space å°±æ˜¯ç”¨æ¥å¸®åŠ©æˆ‘é›†ä¸­ç²¾åŠ›çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘çš„é…ç½®æ–‡ä»¶åœ¨ &lt;a href="https://github.com/alswl/.oOo./blob/master/.phoenix.js"&gt;https://github.com/alswl/.oOo./blob/master/.phoenix.js&lt;/a&gt;
æˆ‘çš„é…ç½®æ–‡ä»¶å¯ä»¥å¼€ç®±å³ç”¨ï¼Œä½†è¿™æ˜¯æˆ‘è‡ªå·±çš„å·¥ä½œæ¨¡å¼ï¼Œæƒ³è¦è·å¾—è‡ªå·±æœ€èˆ’é€‚çš„æ•ˆæœï¼Œéœ€è¦è‡ªå·±è¿›è¡Œä¸€äº›ç ”ç©¶å’Œå®šåˆ¶ã€‚&lt;/p&gt;
&lt;h2 id="qi-ta-yi-xie-ti-dai-fang-an"&gt;å…¶ä»–ä¸€äº›æ›¿ä»£æ–¹æ¡ˆ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Mac&lt;ul&gt;
&lt;li&gt;SizeUp  # ç®€å•çš„æ¡Œé¢å¹³é“ºå·¥å…·ï¼Œä¸æ”¯æŒä¸€é”®åˆ‡æ¢&lt;/li&gt;
&lt;li&gt;Spectacle  # ç±» SizeUp&lt;/li&gt;
&lt;li&gt;Divvy  # ç±» SizeUpï¼Œæ”¶è´¹&lt;/li&gt;
&lt;li&gt;Slate  # æ”¯æŒé…ç½®ï¼Œæ”¯æŒä¸€é”®åˆ‡æ¢ï¼ˆæ¨èï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Linux&lt;ul&gt;
&lt;li&gt;Awesome&lt;ul&gt;
&lt;li&gt;&lt;a href="http://hahack.com/tools/awesome/"&gt;å¹³é“ºå¼çª—å£ç®¡ç†å™¨-Awesome | HaHack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/alswl/awesome"&gt;æˆ‘çš„ Awesome é…ç½®æ–‡ä»¶ï¼ˆåœæ­¢ä½ç½®ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;xmonad&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Windows&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/fuhsjr00/bug.n"&gt;fuhsjr00/bug.n: Tiling Window Manager for Windows&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr/&gt;
&lt;p&gt;æˆ‘æ›¾ç»å†™è¿‡ä¸€ç¯‡ &lt;a href="http://blog.alswl.com/2013/12/mac/"&gt;Linux ç¨‹åºå‘˜çš„ Mac å®‰è£…è®°å½•&lt;/a&gt;ï¼Œ
å‘Šè¯‰å¤§å®¶æˆ‘åœ¨ Mac ä¸Šé¢å¸¸ç”¨çš„å·¥å…·ã€åŒ…ç®¡ç†å™¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/04/windows-management-for-hacker/"&gt;https://blog.alswl.com/2016/04/windows-management-for-hacker/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Sun, 24 Apr 2016 16:36:16 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-04-24:2016/04/windows-management-for-hacker/</guid><category>Mac</category></item><item><title>æŠ€æœ¯ä¹‹å¤–</title><link>https://blog.alswl.com/2016/02/team-geek/</link><description>&lt;p&gt;è¿™æ˜¯ä¸€å¤©ä¸€æœ¬ä¹¦çš„ç¬¬äºŒæ¬¡æ‰§è¡Œï¼Œè¿™æ¬¡é€‰äº†ä¸€æœ¬æ¯”è¾ƒè–„çš„ä¹¦ï¼Œä¸Šå‘¨çš„ä¹¦çœ‹äº†ä¸€å¤©ï¼Œè„‘ä»ç–¼ã€‚&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;åœ¨æˆ‘ç»„ç»‡å›¢é˜Ÿæ–°å…µè®­ç»ƒè¥ï¼ˆå…¥èŒä¹‹åä¸€æ®µæ—¶é—´å†…å®¹é›†ä¸­çš„åŸ¹è®­ï¼‰æ—¶å€™ï¼Œ
ç»å¸¸å’Œæ–°åŒäº‹èŠåˆ°ä¸€ä¸ªè¯ï¼šè½¯å®åŠ›ã€‚
æˆ‘å°†å…¶æè¿°ä¸ºä¸“ä¸šæŠ€èƒ½ä¹‹å¤–çš„èƒ½åŠ›ã€‚æ¯ä¸ªäººéƒ½è¿™ç§èƒ½åŠ›çš„è§£è¯»å¯èƒ½ä¼šä¸ä¸€æ ·ï¼Œ
æˆ‘å°†å…¶æ‹†è§£ä¸ºï¼šã€Œå¯¹å·¥ä½œçš„çƒ­æƒ…ï¼›è§‚å¯ŸåŠ›å’Œåæ€èƒ½åŠ›ï¼›åšè®¡åˆ’å’Œå†³ç­–æ˜¯å¦å‘¨å…¨ã€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æ‹†è§£æ˜¯ä¸å…¨é¢çš„ï¼Œã€Œå¤šå¹´ã€ä»¥åï¼Œæˆ‘æ„è¯†åˆ°ï¼Œç¡¬å®åŠ›è€ƒè¡¡çš„æ˜¯ä¸“ä¸šçš„èƒ½åŠ›ï¼Œ
è€Œè½¯å®åŠ›åˆ™æ˜¯è€ƒè¡¡äººçš„å› ç´ ã€‚è¿™ç§æ™šæ¥çš„æ„è¯†è®©æˆ‘åœ¨ä¸€æ®µæ—¶é—´é‡Œé¢ï¼Œ
å°†è‡ªå·±çš„å·¥ä½œé™·å…¥å›°å¢ƒï¼Œå¹¶ä¸”å¾—ä¸åˆ°è§£è¯ã€‚&lt;/p&gt;
&lt;p&gt;Google çš„ä¸¤ä½å·¥ç¨‹å¸ˆ Brian W. Fitzpatrick å’Œ Ben Collins-Sussman
å†™äº†ä¸€æœ¬ä¹¦&lt;a href="http://book.douban.com/subject/21372237/"&gt;æå®¢ä¸å›¢é˜Ÿ&lt;/a&gt;ï¼Œé€šè¿‡ä»–ä»¬çš„è§†è§’ï¼Œ
å‘Šè¯‰å¤§å®¶æƒ³è¦åœ¨å›¢é˜Ÿä¸­è·å¾—æˆåŠŸçš„å¦ä¸€é¢ã€‚ä¸è¦è¢«ä¹¦åè¯¯è§£ï¼Œæˆ‘è§‰å¾—ã€Œå¼€å‘è€…å’Œå›¢é˜Ÿã€æ˜¯æ›´å¥½çš„åå­—ï¼Œ
è™½ç„¶æ²¡é‚£ä¹ˆé…·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="s26354473.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201602/s26354473.jpg"/&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;è¦åœ¨å›¢é˜Ÿä¸­è·å¾—æˆåŠŸï¼Œä½ å¿…é¡»ä»¥&lt;strong&gt;è°¦è™š&lt;/strong&gt;ã€&lt;strong&gt;å°Šé‡&lt;/strong&gt;å’Œ&lt;strong&gt;ä¿¡ä»»&lt;/strong&gt;ä¸ºæ ¸å¿ƒåŸåˆ™ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¦åšçš„ç¬¬ä¸€ä»¶äº‹æƒ…ï¼Œåº”è¯¥å°±æ˜¯æ²Ÿé€šäº†ã€‚è®©è‡ªå·±æˆä¸ºä¸€ä¸ªç»ç’ƒç²ç‘äººï¼Œ
å…¶ä»–äººå¯ä»¥çœ‹åˆ°ä½ çš„æ–¹å‘ã€ç›®æ ‡å’Œé‡Œç¨‹ç¢‘ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°ä½ çš„è¿›å±•å’Œé—®é¢˜ç‚¹ã€‚
è¿™æ ·ä¸ä½†å¯ä»¥è·å¾—å·¥ä½œä¸­çš„è‚¯å®šï¼Œå½“ä¸ªäººçš„ç›®æ ‡è®¾å®šå’Œå›¢é˜Ÿå‡ºç°åå·®ï¼Œ
åˆæˆ–æ˜¯å¼€å‘è¿‡ç¨‹ä¸­åœ¨ä¸€ä¸ªç‚¹åœé¡¿äº†å¤ªä¹…ï¼Œå¯ä»¥æœ‰å…¶ä»–äººå‚ä¸è¿›æ¥æˆ–ç›´æ¥ä¼¸å‡ºæ´æ‰‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§é€æ˜åº¦å¯¹ä¸Šå¯¹ä¸‹éƒ½åº”è¯¥å¦‚æ­¤ã€‚å›¢é˜Ÿçš„é¢†å¯¼ï¼Œ
åº”å½“åœ¨å¼€å‘å‘¨æœŸå†…çš„æ—©æœŸå°±æ˜ç¡®å‘ŠçŸ¥å›¢é˜Ÿæ„¿æ™¯ã€ç›®æ ‡å’Œè®¾å®šçš„é‡Œç¨‹ç¢‘ã€‚
äº§ç”Ÿå…±é¸£çš„æ„¿æ™¯å¯ä»¥è®©äººå¯¹ç›®æ ‡æœ‰æ¸´æœ›ï¼Œå¯¹è‡ªå·±å·¥ä½œæœ‰è®¤åŒã€‚
å„ä½è¿˜è®°å¾—ä¸­å›½ä¸­å°å­¦å¼€å­¦ç¬¬ä¸€å‘¨é‡Œï¼Œå¤§å¤šéƒ½æœ‰ä¸€ä¸ªå¼€å­¦å…¸ç¤¼è®²è¯ã€‚è®²çš„å¥½çš„é¢†å¯¼ï¼Œ
ä¼šé˜è¿°è‡ªå·±çš„æ•™å­¦ç†å¿µï¼Œå»å¹´å–å¾—çš„æˆç»©ï¼Œä»Šå¹´çš„æ•™å­¦ç€é‡ç‚¹ã€‚
è®²çš„å·®çš„é¢†å¯¼å°±æ˜¯æ³›æ³›è€Œè°ˆï¼Œæ¯å¹´éƒ½æ˜¯ä¸€å¥—è¯æœ¯ï¼Œå®Œå…¨çœ‹ä¸åˆ°é•¿è¿›ã€‚&lt;/p&gt;
&lt;p&gt;ç¼ºå¤±æ²Ÿé€šï¼Œè¿˜ä¼šå°†ä¸ªäººé™·äºå•æ‰“ç‹¬æ–—çš„å¢ƒåœ°ï¼Œä¸€ä¸ªç¯®çƒé˜Ÿéœ€è¦ 5 ä¸ªäººå¤§ï¼Œ
ä¸€ä¸ªäººç‰›é€¼æ²¡å±ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æé«˜å·¥ç¨‹è´¨é‡çš„ä¸€ä¸ªæœ‰æ•ˆæ‰‹æ®µå°±æ˜¯ CIï¼ˆæŒç»­é›†æˆï¼‰ï¼Œå°†å¼€å‘è¿‡ç¨‹ä¸­ä¸€ç‚¹ç‚¹çš„å°è¿›å±•éƒ½ä»¥ä¸€ç§æœºæ¢°çš„æ–¹å¼å‘ˆç°å‡ºæ¥ï¼Œ
å¹¶è¿›è¡Œæµ‹è¯•ã€‚å¦ä¸€ä¸ªæœ‰æ•ˆæ‰‹æ®µæ˜¯ Code Reviewï¼Œä¸ä½†æ¨èè¦ CRï¼Œæ›´æ˜¯è¦å°½æ—©ã€å¿«é€Ÿçš„ CRã€‚
é¿å…å±ç§¯å‹å¤šäº†æ‹‰ï¼Œå¤ªè‡­ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çªç„¶æƒ³åˆ°ä¸€æ¡å®è·µï¼šå³ä¾¿æ˜¯åšä¸€ä¸ªäººçš„é¡¹ç›®ï¼Œåœ¨ç²¾ç®€ç¨‹åº¦ä¸Šä¹Ÿä¿æŒæœ€å°çš„ä¸€ä¸ªé˜ˆå€¼ï¼Œ
æƒ³è±¡æ˜å¤©å°±è¦é•¿å‡ï¼Œå·¥ä½œè¦äº¤ç»™åˆ«äººç»´æŠ¤ï¼Œå¦‚ä½•åœ¨äº¤ä»˜ç‰©é‡Œé¢æœ‰è¶³å¤Ÿçš„ä¿¡æ¯è®©å…¶ä»–äººçŸ¥æ™“ç»†èŠ‚ã€‚
è€Œä¸æ˜¯ä¸¢ç»™åç»§ç»´æŠ¤è€…ä¸€å¥å†°å†·çš„è¯ï¼šã€Œçœ‹ä»£ç ã€ã€‚&lt;/p&gt;
&lt;p&gt;æ²Ÿé€šå¿…é¡»æ˜¯æœ‰æ•ˆçš„ï¼Œæˆ‘æƒ³ä»»ä½•äººéƒ½ä¸æƒ³å¬ä¸€ä¸ªå˜´ç¢çš„äººåœ¨é‚£è¾¹é€¼é€¼ä¸€ä¸‹åˆã€‚
æœ‰å¾ˆå¤šç»“æ„åŒ–ã€ä¸€éƒ¨çš„æ²Ÿé€šå¯ä»¥æ˜¾è‘—æé«˜æ²Ÿé€šæ•ˆç‡ï¼š
é¡¹ç›®çœ‹æ¿ã€è®¾è®¡æ–‡æ¡£ã€Code Reviewã€ä»£ç æ³¨é‡Šã€æ•°æ®å­—å…¸ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªé‡è¦çš„è§‚ç‚¹æ˜¯ï¼Œæ¥å—å¤±è´¥ï¼Œæ‰¿è®¤è‡ªå·±ä¸æ˜¯æ— èƒ½çš„ã€‚ä½ å¯èƒ½å¾ˆèªæ˜ï¼Œä½†æ‰€åšçš„äº‹æƒ…ä¸ä¸€å®šå®Œå…¨éƒ½æ˜¯æ­£ç¡®çš„ï¼Œ
è¿ä¸Šå¸éƒ½ä¼šçŠ¯é”™ï¼Œä½•å†µæ˜¯æ™®é€šäººã€‚çŠ¯é”™ä¸å¯æ€•ï¼Œä½†æ˜¯çŠ¯é”™è¿˜è®¤è¯†ä¸åˆ°å¯æ€•ã€‚çŠ¯é”™å¹¶ä¸”è®¤è¯†åˆ°äº†ï¼Œ
ä½†æ˜¯æ‹’ç»æ‰¿è®¤é”™è¯¯çš„äººï¼Œä¸æ˜¯å¯æ€•ï¼Œè€Œæ˜¯åº”è¯¥è¦è¢«æ·˜æ±°ï¼Œè¿™ç±»äººä¼šæå…¶éš¾ä»¥åˆä½œã€‚
å¦‚ä½•ä½ å‘¨å›´éƒ½æ˜¯è¿™æ ·çš„äººï¼Œæˆ–è€…ä½ ä¸Šå¸æ˜¯è¿™æ ·çš„äººï¼Œä¹Ÿè®¸ä½ å¯ä»¥è€ƒè™‘æ¢ä¸€ä¸ªåœ°æ–¹ï¼Œåœ¨æ‹‰é’©æœç´¢ã€Œå †ç³–ã€è¯•è¯•å§ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºæ¥å—å¤±è´¥çš„å¦å¤–ä¸€ä¸ªéšå«åç»­å‘å±•å°±æ˜¯ã€Œæˆé•¿ã€ã€‚æ„è¯†åˆ°è¿™ä¸ªä¸–ç•Œæ˜¯åŠ¨æ€å‘å±•çš„ï¼Œ
ã€Œè¦ä»¥å‘å±•çš„çœ¼å…‰çœ‹å¾…äº‹ç‰©ã€æ˜¯ä¸€ä¸ªéå¸¸éå¸¸æœ‰ç”¨çš„è®¤çŸ¥ã€‚
èƒ½è‡ªå·±æ„è¯†åˆ°å¤±è´¥ï¼Œå¹¶ä¸”ä¼šä¸»åŠ¨å¤ç›˜ï¼Œé‡æ–°è®¤çŸ¥è‡ªå·±çš„äººï¼Œå¾€å¾€ä¼šæˆé•¿çš„æä¸ºè¿…é€Ÿã€‚
å…³äºæˆé•¿çš„è¯é¢˜å¯ä»¥è®¨è®ºå¾ˆæ·±ï¼Œä»¥åå¯ä»¥å•ç‹¬æ‹å‡ºæ¥è®¨è®ºã€‚&lt;/p&gt;
&lt;p&gt;ä¹¦ä¸­æåˆ°ä¸€ä¸ªå¤±è´¥åå›é¡¾çš„æ¸…å•ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;ç®€è¦&lt;/li&gt;
&lt;li&gt;æ—¶é—´çš„æ—¶é—´çº¿ï¼Œä»å‘ç°åˆ°è°ƒæŸ¥ï¼Œå†åˆ°æœ€ç»ˆè§è¿‡&lt;/li&gt;
&lt;li&gt;äº‹ä»¶å‘ç”Ÿçš„ä¸»å› &lt;/li&gt;
&lt;li&gt;å½±å“å’ŒæŸå¤±è¯„ä¼°&lt;/li&gt;
&lt;li&gt;ç«‹å³ä¿®æ­£é—®é¢˜çš„æ­¥éª¤&lt;/li&gt;
&lt;li&gt;é˜²æ­¢äº‹ä»¶å†æ¬¡å‘ç”Ÿçš„æ­¥éª¤&lt;/li&gt;
&lt;li&gt;å¾—åˆ°çš„æ•™è®­&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘å°±å“ˆå“ˆå“ˆäº†ï¼Œè¿™ä¸å°±æ˜¯æˆ‘å¤§å †ç³–çš„æ•…éšœæŠ¥å‘Šæ¨¡æ¿ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ç‚¹ï¼Œå¦‚ä½•æˆé•¿ï¼Ÿç®€å•æ¥è¯´ï¼Œå»å†’é™©ï¼Œå»æ‰¿æ‹…è‡ªå·±èƒ½åŠ›ä¹‹å¤–çš„ä»»åŠ¡ï¼Œ
å»æŒ‘æˆ˜æ²¡æœ‰ç»å†è¿‡çš„ä»»åŠ¡ã€‚æœ‰ä¸€æ¡&lt;a href="https://zh.wikipedia.org/wiki/%E5%BD%BC%E5%BE%97%E5%8E%9F%E7%90%86"&gt;å½¼å¾—å®šå¾‹&lt;/a&gt;ï¼šã€Œåœ¨ç»„ç»‡æˆ–ä¼ä¸šçš„ç­‰çº§åˆ¶åº¦ä¸­ï¼Œ
äººä¼šå› å…¶æŸç§ç‰¹è´¨æˆ–ç‰¹æ®ŠæŠ€èƒ½ï¼Œä»¤ä»–åœ¨è¢«æ“¢å‡åˆ°ä¸èƒ½èƒœä»»çš„èŒä½ï¼Œç›¸åå˜æˆç»„ç»‡çš„éšœç¢ç‰©ï¼ˆå†—å‘˜ï¼‰åŠè´Ÿèµ„äº§ã€‚ã€ã€‚
å‰åŠæ®µå«ä¹‰æ˜¯ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹é¢ï¼Œå¹¶ä¸æ˜¯å…·æœ‰äº†ç›¸åº”èƒ½åŠ›æ‰å»æ‰¿æ‹…ï¼Œè€Œæ˜¯è¯•ç€å»æ‰¿æ‹…ä»»åŠ¡ã€‚
æ— è®ºæˆåŠŸä¸å¦ï¼Œå¯¹å½“å‰å»æŒ‘æˆ˜çš„äººæ¥è¯´ï¼Œéƒ½èƒ½å¤Ÿå¾—åˆ°å†ç»ƒï¼Œä»è€Œèƒ½åŠ›å¾—åˆ°æå‡ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬å››ç‚¹æ˜¯ï¼šæˆä¸º Leaderï¼Œè€Œä¸æ˜¯ Managerã€‚
ä¸€ä¸ªå›¢é˜Ÿæ˜¯ä¸€è‰˜å±æœºå››ä¼çš„æµ·é¢ä¸Šä¸€åªèˆ¹ï¼Œå¦‚æœæ²¡æœ‰ä¸€ä¸ªèˆ¹é•¿ï¼Œé‚£ä¹ˆå°±å‰é€”åµæµ‹ã€‚
åœ¨èŒä¸šç”Ÿæ¶¯çš„æŸäº›é˜¶æ®µï¼Œä½ å¯èƒ½è‡ªç„¶æˆä¸ºèˆ¹é•¿ï¼Œä¹Ÿè®¸æ˜¯ä¸€ä¸ªé¡¹ç›®çš„èˆ¹é•¿ï¼Œä¹Ÿè®¸æ˜¯ä¸€ä¸ªå° Team çš„èˆ¹é•¿ã€‚
é‚£ä¹ˆåˆ‡è®°ï¼Œèˆ¹é•¿æ˜¯ Leaderï¼Œè€Œä¸æ˜¯ Managerï¼Œæ˜¯èƒ½åŠ›ç»¼åˆï¼Œå¯å®ˆå¯æ”»ï¼Œé¡ºé£æ—¶å€™ä¼šæŠŠèˆµï¼Œ
ç¼ºäººæ—¶å€™å¯ä»¥é¡¶ä»»ä½•å²—ä½çš„èˆ¹é•¿ã€‚è€Œä¸æ˜¯æ‰‹æŒå¤§é­çš„ Managerã€‚
æˆ‘è§‰å¾—æ–°é—»è”æ’­é‡Œé¢æè¿°çš„äººæ°‘å…¬ä»†ï¼Œå°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ Leaderã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å¹´å¤šå‰ä¹‹å‰å’Œé“æŸ±èŠè¿‡ï¼Œä¸€ä¸ª Leader æ˜¯å¦éœ€è¦è¦ä»¥èƒ½åŠ›æœä¼—ã€‚
æˆ‘ä»ç„¶ä¿æŒå½“åˆçš„è§‚ç‚¹ï¼šã€Œæ˜¯çš„ã€ã€‚åœ¨ç›®æ ‡ç®¡ç†ã€æ–¹å‘æŠŠæ¡ä¸Šé¢ï¼Œ
å¼ºå¤§çš„æŠ€æœ¯èƒŒæ™¯å¯ä»¥æœ‰é­„åŠ›çš„å¼€å±•å·¥ä½œï¼ŒæŒ–æ˜æ–°æŠ€æœ¯ï¼Œæ¨åŠ¨å˜åŒ–ã€‚
åœ¨é‡åˆ°å›°éš¾æ—¶å€™ï¼Œå¯ä»¥å†³ç­–ã€è§£å†³é—®é¢˜ã€‚
è¿™æ˜¯ç”±è¿™ä¸ªè¡Œä¸šç‰¹è´¨å†³å®šçš„ï¼Œäº’è”ç½‘æ˜¯ä¾èµ–åˆ›é€ åŠ›çš„è„‘åŠ›åŠ³åŠ¨ï¼Œè€Œä¸æ˜¯æ ¹æ®äººæ•°çº¿æ€§å¢åŠ äº§å‡ºçš„ä½“åŠ›åŠ³åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ¯•ç«Ÿä¸æ˜¯æ¯ä¸ªäººéƒ½ä¸€å®šæ‹¥æœ‰ Leader ç‰¹è´¨ï¼Œéš¾é“å°±è¦ä¸€è¾ˆå­åšæŠ€æœ¯å¾—ä¸åˆ°ä¸Šå‡ï¼Ÿ
Google çš„ä¸€ç§åšæ³•ï¼Œå¯ä»¥å¾ˆå¥½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åˆ†ç¦» TLï¼ˆtechleadï¼‰å’Œ TLMï¼ˆtechleadmanagerï¼‰ï¼Œ
å‰è€…æ›´ç€é‡æŠ€æœ¯ï¼Œåè€…ä¸ä½†å…³å¿ƒæŠ€æœ¯ï¼Œè¿˜å…³å¿ƒæ‰‹ä¸‹å·¥ç¨‹å¸ˆçš„æˆé•¿ã€‚
ç”¨å›½å†…äº’è”ç½‘çš„èŒè´£åˆ†å·¥æè¿°ï¼Œå¤§æ¦‚å°±æ˜¯æœ‰æŠ€æœ¯ä¸“å®¶å’Œå›¢é˜Ÿè´Ÿè´£äººçš„åŒºåˆ«ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºè¿™æ¡ï¼Œä¹¦ä¸­çš„å‡ ç‚¹æœ€ä½³å®è·µéå¸¸æ£’ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æ”¾ä¸‹è‡ªè´Ÿ&lt;/li&gt;
&lt;li&gt;åšä¸€ä¸ªç¦…å¸ˆï¼ˆä¿æŒå†·é™å’Œç†æ€§ï¼‰&lt;/li&gt;
&lt;li&gt;æˆä¸ºå‚¬åŒ–å‰‚&lt;/li&gt;
&lt;li&gt;å½“ä¸€ä¸ªå¯¼å¸ˆ&lt;/li&gt;
&lt;li&gt;è®¾ç½®æ˜ç¡®çš„ç›®æ ‡&lt;/li&gt;
&lt;li&gt;å¦è¯šï¼ˆä¸‰æ˜æ²»èµç¾æ³•ï¼‰&lt;/li&gt;
&lt;li&gt;è®°å½•å¿«ä¹ç¨‹åº¦&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ€åèŠä¸€ä¸‹å¯¹ä¹¦æœ¬èº«çš„è¯„ä»·ã€‚é»„æ˜“å±±åœ¨ Quora å†™è¿‡ä¸€æ®µéå¸¸æœ‰åçš„
&lt;a href="https://www.quora.com/What-makes-engineering-management-hard"&gt;ä¸ºä»€ä¹ˆå·¥ç¨‹å¸ˆç®¡ç†è¿™ä¹ˆéš¾ï¼Ÿ&lt;/a&gt;ã€‚
è¿™æœ¬ä¹¦è®¨è®ºçš„å†…å®¹è¦æ¯”é»„æ˜“å±±é‚£ç¯‡å›ç­”èŒƒå›´æ›´å¤§ï¼Œè®²è¿°çš„ä¹Ÿæ›´è¯¦ç»†ï¼ˆåºŸè¯ï¼Œè¿™æ˜¯ä¹¦ï¼‰ã€‚
ä½œè€…æ˜¯å…¸å‹çš„å·¥ç¨‹å¸ˆï¼Œä¹¦ç›®ç»“æ„æ˜“è¯»ï¼Œç¬¬äº”ç« ä»åæ¨¡å¼æ¥æ€è€ƒé—®é¢˜éå¸¸èµã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è¯»è¿‡å‡ æœ¬æŠ€æœ¯ç®¡ç†ç›¸å…³çš„ä¹¦ç±ï¼Œå°è±¡æ·±åˆ»çš„æœ‰ä¸¤æœ¬ï¼Œä¸€æœ¬æ˜¯æ¸©ä¼¯æ ¼çš„&lt;a href="http://book.douban.com/subject/1132623/"&gt;æˆä¸ºæŠ€æœ¯é¢†å¯¼è€…&lt;/a&gt;ï¼Œå¦å¤–ä¸€æœ¬æ˜¯æ­¤ä¹¦ã€‚æ¸©ä¼¯æ ¼çš„è¡Œæ–‡æ¯”è¾ƒè·³è·ƒã€æ¯”è¾ƒæŠ½è±¡ï¼Œä¸å®¹æ˜“è¯»ã€‚
è€Œè¿™æœ¬ä¹¦ä¸ä½†é€šä¿—å¼‚åŠ¨ï¼Œä¹Ÿæ·»åŠ äº†éå¸¸å…·æœ‰å¯æ“ä½œæ€§çš„æœ€ä½³å®è·µã€‚
ä»åˆ›é€ åŠ›é©±åŠ¨çš„è§’åº¦å‡ºå‘ï¼ŒæŠ€æœ¯å¼€å‘è€…éƒ½æ˜¯ç®¡ç†è€…ã€‚å› ä¸ºä»–ä»¬éœ€è¦è®¾è®¡æ–¹æ¡ˆï¼Œåˆ›é€ ä»·å€¼ï¼Œè€Œä¸æ˜¯é‡å¤åŠ³åŠ¨ï¼Œ
æ‰€ä»¥æˆ‘æ¨èæ¯ä¸ªå¼€å‘è€…é˜…è¯»ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œå­¦ä¹ å¤Ÿäº†å……åˆ†çš„ç†è®ºï¼Œä¸‹é¢å°±æ˜¯åšèµ·æ¥äº†ï¼Œã€ŒçŸ¥è¡Œåˆä¸€ã€ã€‚&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;å¼€ç»™è‡ªå·±çš„å¤„æ–¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸Šé¢æåˆ°çš„æœ€ä½³å®è·µ&lt;/li&gt;
&lt;li&gt;è°¦é€Šï¼šè°¦é€Šä¸€äº›ï¼Œä½è°ƒä¸€äº›ï¼Œå‘ä»–äººå­¦ä¹ &lt;/li&gt;
&lt;li&gt;åšæ¯…ï¼šè®¤å‡†ç›®æ ‡ï¼Œç¨³æ­¥å‰è¡Œï¼Œä¸æ”¾å¼ƒ&lt;/li&gt;
&lt;li&gt;ä¿¡å¿ƒï¼šä¿¡å¿µä¹Ÿè®¸å¯ä»¥é‡å»ºï¼Œä½†æ˜¯å¯¹è‡ªå·±å§‹ç»ˆä¿æœ‰ä¿¡å¿ƒï¼Œä¹Ÿè®¸ä¼šé”™ï¼Œä½†æ˜¯è¦ç›¸ä¿¡è‡ªå·±çš„åˆ¤æ–­&lt;/li&gt;
&lt;li&gt;å¼€ä¼šæŠ€å·§ï¼šè¶…è¿‡ 5 äººçš„ä¼šç”¨å•å‘å®£è®²æ›´æœ‰æ•ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/02/team-geek/"&gt;https://blog.alswl.com/2016/02/team-geek/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Sun, 28 Feb 2016 18:16:01 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-02-28:2016/02/team-geek/</guid><category>è¯»ä¹¦ç¬”è®°</category></item><item><title>ä¸€ä¾‹ Timeout æ•…éšœ</title><link>https://blog.alswl.com/2016/02/a-timeout-fault/</link><description>&lt;p&gt;&lt;img alt="i_love_timeouts_digital_design_mugs.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201602/i_love_timeouts_digital_design_mugs.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;æ—©æ™¨åˆšåˆ°å…¬å¸ï¼Œ HAProxy æŠ¥è­¦ï¼ŒTrtornisï¼ˆç¬¬ä¸‰æ–¹äº‘å­˜å‚¨ç½‘å…³ï¼Œç”¨æ¥ç»Ÿä¸€ç®¡ç†é˜¿é‡Œäº‘å’Œä¸ƒç‰›äº‘çš„å¯¹è±¡å­˜å‚¨ï¼‰ å…¨é£˜çº¢ã€‚&lt;/p&gt;

&lt;p&gt;æ£€æŸ¥æ—¥å¿—ï¼Œå¹¶æ²¡æœ‰ ERROR ä¿¡æ¯ï¼Œä½†æ˜¯å¤§é‡ WARN æŠ¥é”™ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;WARN&lt;/span&gt;  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2015&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mo"&gt;01&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mo"&gt;02&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;730&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QueuedThreadPool&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;dw&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;STARTED&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;rejected&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AbstractConne&lt;/span&gt;
&lt;span class="n"&gt;ction&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="mi"&gt;62&lt;/span&gt;&lt;span class="n"&gt;c021c6&lt;/span&gt;
&lt;span class="n"&gt;WARN&lt;/span&gt;  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2015&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mo"&gt;01&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mo"&gt;02&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;731&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SelectorManager&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Could&lt;/span&gt; &lt;span class="n"&gt;not&lt;/span&gt; &lt;span class="n"&gt;process&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;channel&lt;/span&gt; &lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nio&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;channels&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SocketChannel&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;connected&lt;/span&gt; &lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="mf"&gt;10.&lt;/span&gt;
&lt;span class="mf"&gt;1.1.78&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;8350&lt;/span&gt; &lt;span class="n"&gt;remote&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="mf"&gt;10.1.1.74&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;63290&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concurrent&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RejectedExecutionException&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AbstractConnection&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="mi"&gt;62&lt;/span&gt;&lt;span class="n"&gt;c021c6&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QueuedThreadPool&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;QueuedThreadPool&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;362&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AbstractConnection&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;FillingState&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;onEnter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AbstractConnection&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;379&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AbstractConnection&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AbstractConnection&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;273&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AbstractConnection&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;ReadCallback&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;succeeded&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AbstractConnection&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;563&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FillInterest&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fillable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FillInterest&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;82&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SelectChannelEndPoint&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;onSelected&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SelectChannelEndPoint&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;109&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SelectorManager&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;ManagedSelector&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;processKey&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SelectorManager&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;636&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SelectorManager&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;ManagedSelector&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SelectorManager&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;607&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SelectorManager&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;ManagedSelector&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SelectorManager&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;545&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;NonBlockingThread&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NonBlockingThread&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;52&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QueuedThreadPool&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;runJob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;QueuedThreadPool&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;635&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eclipse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jetty&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QueuedThreadPool&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="mf"&gt;3.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;QueuedThreadPool&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;555&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tritonis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;shaded&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jar&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.0.1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SNAPSHOT&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Thread&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Thread&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;745&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;na&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;1.8.0&lt;/span&gt;&lt;span class="n"&gt;_51&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ˜¯ä¸ƒç‰› API è°ƒç”¨å‡ºç°é—®é¢˜ï¼Œé€šè¿‡åº”ç”¨ Metrics API æ£€æŸ¥ Threadsï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;http http://A-DOMAIN:8351/threads | sort | uniq -c | sort -gr G qiniu&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ­£å¸¸çš„å®ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="image2015-12-9_1.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201602/image2015-12-9_1.png"/&gt;&lt;/p&gt;
&lt;p&gt;å¼‚å¸¸çš„å®ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="image2015-12-9_2.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201602/image2015-12-9_2.png"/&gt;&lt;/p&gt;
&lt;p&gt;ç¡®è®¤æ˜¯ä¸ƒç‰›æœåŠ¡æ…¢å¯¼è‡´ç°æˆçˆ†æ‰ï¼Œä½†æ˜¯ 46 è¿™ä¸ªå€¼æ¥è‡ªäºå“ªé‡Œï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ£€æŸ¥äº† App çš„é…ç½®æ–‡ä»¶ï¼Œçš„ç¡®é…ç½®äº† &lt;code&gt;maxThreads&lt;/code&gt; ä¸º 50:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
  &lt;span class="n"&gt;gzip&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;
  &lt;span class="n"&gt;requestLog&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;appenders&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;[]&lt;/span&gt;
  &lt;span class="n"&gt;maxThreads&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;
  &lt;span class="n"&gt;applicationConnectors&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;
      &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;8350&lt;/span&gt;
      &lt;span class="n"&gt;acceptorThreads&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
      &lt;span class="n"&gt;selectorThreads&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
  &lt;span class="n"&gt;adminConnectors&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;
      &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;8351&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸€èˆ¬å¯¹åº”æœåŠ¡ä¸ç¨³å®šï¼Œæœ‰ä¸ªç®€å•ç­–ç•¥ï¼Œè¶…æ—¶ï¼Œé‚£ä¹ˆä¸ƒç‰›æœåŠ¡è¶…æ—¶æ˜¯å¤šå°‘ï¼Ÿæ‰¾äº†ä¸€ä¸‹ç›¸å…³ä»£ç ï¼Œä¸‹å·´éƒ½æ²¡åˆä¸Šï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;# com.qiniu.http.Client&lt;/span&gt;
    &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;httpClient&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setConnectTimeout&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="kt"&gt;long&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;Config&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CONNECT_TIMEOUT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TimeUnit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SECONDS&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;httpClient&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setReadTimeout&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="kt"&gt;long&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;Config&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RESPONSE_TIMEOUT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TimeUnit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SECONDS&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="cp"&gt;# com.qiniu.common.Config&lt;/span&gt;
&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;CONNECT_TIMEOUT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;RESPONSE_TIMEOUT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;30000&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¶…æ—¶æ—¶é—´ 8hï¼Œå“å¾—æˆ‘èµ¶ç´§å…³æ‰äº†æ˜¾ç¤ºå™¨ã€‚
èµ¶ç´§å°†è¿™ä¸ª Connection æ”¹æˆäº† 2 åˆ†é’Ÿï¼ŒConnect æ”¹æˆäº† 5sã€‚ &lt;/p&gt;
&lt;p&gt;å’¨è¯¢äº†ä¸ƒç‰›çš„å·¥ç¨‹å¸ˆæ•…éšœå½“å¤©çš„çŠ¶å†µï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sorry å¿˜äº†å›å¤ï¼Œé—®é¢˜å·²ç»å®šä½ï¼Œæ—©ä¸Šå› ä¸ºæœ‰ä¸ªåˆ«ç”¨æˆ·listè¯·æ±‚æ•°é‡è¿‡å¤§ï¼Œå¯¼è‡´äº†æ•´ä¸ªlistæ¥å£å‡ºç°å¤§é‡æ»¡è¯·æ±‚ï¼Œå½±å“è¿”å›æ˜¯listæ¥å£çš„è°ƒç”¨ å’Œ portalä¸Šå†…å®¹ç®¡ç†ç•Œé¢åˆ—å–æ–‡ä»¶keyçš„é€Ÿåº¦ï¼Œç›®å‰å·²ç»æ¢å¤&lt;/p&gt;
&lt;p&gt;å¤§é‡æ…¢è¯·æ±‚ï¼Œè¿™ä¸ªå·²ç»å†…éƒ¨æœ‰å‘Šè­¦å’Œæ¢å¤æœºåˆ¶ï¼Œ11ç‚¹25æ¢å¤çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å›½å†…ä¸€çº¿çš„äº‘æœåŠ¡ä¾›åº”å•†ä¹Ÿä¼šå‡ºè¿™æ ·ä¸å¯ç”¨æ•…éšœï¼Œå³ä¾¿æ˜¯æœ‰æœåŠ¡æ”¾åœ¨äº‘ä¸Šï¼Œè¿˜æ˜¯è¦è‡ªå·±ç•™ä¸€ä¸ªå¿ƒçœ¼ï¼Œå¤šå…³æ³¨å¯ç”¨æ€§å•Šã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/02/a-timeout-fault/"&gt;https://blog.alswl.com/2016/02/a-timeout-fault/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Tue, 02 Feb 2016 23:34:44 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-02-02:2016/02/a-timeout-fault/</guid><category>Qiniu</category><category>TCP</category></item><item><title>ä¸€æ¬¡è‰°éš¾çš„ Wiki å‡çº§</title><link>https://blog.alswl.com/2016/01/confluence-upgrade/</link><description>&lt;p&gt;å…¬å¸ä½¿ç”¨ &lt;a href="https://www.atlassian.com/software/confluence"&gt;Confluence&lt;/a&gt;
ç®¡ç†è‡ªå·±çš„çŸ¥è¯†åº“ï¼Œ
ç°åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬è¿˜æ˜¯ 3.0.1ï¼Œè€Œæœ€æ–°çš„ Confluence ç‰ˆæœ¬å·²ç»æ˜¯ 5.4+ã€‚
æ–°ç‰ˆæœ¬åŠ å…¥çš„ä¸€äº›ç°ä»£åŒ– Web ç³»ç»Ÿçš„æ–°ç‰¹æ€§å¾ˆå¸å¼•äººï¼ˆæ‹–æ‹½ä¸Šä¼ ï¼Œå¯è§å³æ‰€å¾—ç¼–è¾‘ï¼‰ï¼Œ
åœ¨ç¾¤ä¼—çš„å¼ºçƒˆå‘¼å£°ä¸‹ï¼Œæˆ‘ç€æ‰‹å¼€å§‹å‡çº§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="201601/confluence_river.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201601/confluence_river.jpg"/&gt;&lt;/p&gt;

&lt;p&gt;å®˜æ–¹çš„å‡çº§è·¯çº¿å¾ˆæ‰¯ï¼Œ3.0.1 çš„å‡çº§è·¯çº¿æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;3.0.1 -&amp;gt; 3.5.17&lt;/li&gt;
&lt;li&gt;5.0.3 -&amp;gt; 5.4.4&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸­é—´ä¸¤æ¬¡å¤§ç‰ˆæœ¬å‡çº§ï¼Œç¬¬ä¸€æ¬¡åŸå› ä¸æ˜ï¼Œç¬¬äºŒæ¬¡æ˜¯æ›´æ–°äº† markup æ¸²æŸ“å¼•æ“ï¼Œ
æ”¹ä¸º HTML æ ¼å¼ç±»å‹çš„æ¸²æŸ“æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºä¸€äº›åŸå› ï¼Œæˆ‘ä»¬ç³»ç»Ÿè¿˜è·‘åœ¨ embedded æ¨¡å¼ä¸‹ï¼ˆå…¶å®å°±æ˜¯ HyperSQLï¼‰ï¼Œè¿™ç§å¤§ç‰ˆæœ¬å‡çº§ï¼Œ
éœ€è¦å…ˆä»å†…ç½®åº“å‡çº§åˆ°å¤–éƒ¨æ•°æ®åº“ï¼Œæ¯”å¦‚ MySQLã€‚&lt;/p&gt;
&lt;p&gt;è‹¦é€¼æ—…ç¨‹å°±å¼€å§‹äº†ã€‚&lt;/p&gt;
&lt;h2 id="from-embedded-to-mysql"&gt;From embedded to MySQL&lt;/h2&gt;
&lt;p&gt;æ›´æ–°å†…ç½®åº“åˆ°å¤–éƒ¨åº“çš„æ“ä½œæµç¨‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¼å‡ºå½“å‰çš„æ•°æ®å¤‡ä»½ï¼ŒåŒ…æ‹¬é™„ä»¶ï¼Œæˆ‘å¯¼å‡ºå 1G+&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å½“å‰åŒç‰ˆæœ¬ï¼ˆ3.0.1ï¼‰å®‰è£…ä¸€ä¸ªå…¨æ–°çš„ wikiï¼Œæ³¨æ„ä¸‹è½½ JDBC-connector&lt;/li&gt;
&lt;li&gt;å®‰è£…ä¹‹åï¼Œé…ç½®å¥½ MySQLï¼Œå¼€å§‹å¯¼å…¥ä¹‹å‰å‡†å¤‡å¥½çš„å¤‡ä»½&lt;/li&gt;
&lt;li&gt;æ‚²å‰§ä¸Šæ¼”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‡åˆ°äº†é”™è¯¯ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Import failed. Hibernate operation: could not insert: [com.atlassian.confluence.core.BodyContent#12028015]; SQL []; Duplicate entry '12028015' for key 'PRIMARY'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '12028015' for key 'PRIMARY'&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®˜æ–¹æ–‡æ¡£ &lt;a href="https://confluence.atlassian.com/doc/troubleshooting-xml-backups-that-fail-on-restore-199034.html"&gt;https://confluence.atlassian.com/doc/troubleshooting-xml-backups-that-fail-on-restore-199034.html&lt;/a&gt;
è®©ä¿®æ”¹é‡å¤é”®æ•°æ®ï¼Œå¥½å§ï¼Œæˆ‘æ”¹ï¼Œæœç´¢ä¸€æŠŠé‡å¤ä¸»é”®ï¼Œå°†å¤‡ä»½é‡Œé¢çš„ &lt;code&gt;entities.xml&lt;/code&gt; å¼„å‡ºæ¥ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;æ ¼å¼åŒ–&lt;/span&gt;
&lt;span class="nx"&gt;awk&lt;/span&gt; &lt;span class="s1"&gt;'{s=s $0}END{gsub(/&amp;gt;&amp;lt;/,"&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;lt;",s);s=gensub(/&amp;gt;([^ &lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;gt;]*)&amp;lt;/,"&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n\\&lt;/span&gt;&lt;span class="s1"&gt;1&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;lt;","g",s);print s}'&lt;/span&gt; &lt;span class="nx"&gt;entities.xml&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;entities.xml.format&lt;/span&gt;
&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="err"&gt;æ‰¾é‡å¤ä¸»é”®&lt;/span&gt; &lt;span class="nx"&gt;cat&lt;/span&gt; &lt;span class="nx"&gt;entities.xml.format&lt;/span&gt; &lt;span class="nx"&gt;G&lt;/span&gt; &lt;span class="s1"&gt;'content" class="Page'&lt;/span&gt; &lt;span class="na"&gt;-A&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="nx"&gt;G&lt;/span&gt; &lt;span class="na"&gt;-E&lt;/span&gt; &lt;span class="s1"&gt;'[0-9]+'&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="nb"&gt;sort&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="nx"&gt;uniq&lt;/span&gt; &lt;span class="na"&gt;-c&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="nb"&gt;sort&lt;/span&gt; &lt;span class="na"&gt;-gr&lt;/span&gt; &lt;span class="nx"&gt;L&lt;/span&gt; &lt;span class="nx"&gt;cat&lt;/span&gt; &lt;span class="nx"&gt;entities.xml.format&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="nx"&gt;grep&lt;/span&gt; &lt;span class="s1"&gt;'name="id"'&lt;/span&gt; &lt;span class="na"&gt;-A&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="na"&gt;-B&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="nx"&gt;grep&lt;/span&gt; &lt;span class="na"&gt;-E&lt;/span&gt; &lt;span class="s1"&gt;'[0-9]+'&lt;/span&gt; &lt;span class="na"&gt;-B&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="nx"&gt;L&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ“ä½œè¿‡ç¨‹ä¸­ï¼Œå‘ç°æœ‰æ•°æ®å°±ä¸€æ¡æ•°æ®ï¼ˆgrep entities.xmlï¼‰ï¼Œè¿˜æ˜¯æ’å…¥é‡å¤ï¼ˆ13238835ï¼‰ã€‚
å®˜æ–¹æ–‡æ¡£è§£é‡Šæ˜¯ï¼Œå†…ç½®æ•°æ®åº“çš„é”æœ‰æ—¶å€™ä¼šä¸çµï¼Œæ’å…¥é‡å¤é”®ã€‚
äºæ˜¯å†³å®šå†è¯•è¯•å»æ‰ä¸»é”®çº¦æŸæ–¹æ¡ˆï¼Œå¤§ä¸äº†é‚£ä¸ªæ•°æ®æˆ‘å°±ä¸è¦äº†ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;ALTER&lt;/span&gt; &lt;span class="n"&gt;TABLE&lt;/span&gt; &lt;span class="n"&gt;BODYCONTENT&lt;/span&gt; &lt;span class="n"&gt;DROP&lt;/span&gt; &lt;span class="n"&gt;PRIMARY&lt;/span&gt; &lt;span class="n"&gt;KEY&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç»“æœè¿˜æœ‰å…¶ä»– PK çº¦æŸï¼Œæˆ‘äºæ˜¯ä¸€æ¡ä¸€æ¡è§£å¼€ï¼Œç„¶å&amp;hellip;&amp;hellip;è¿˜æ˜¯ä¸è¡Œï¼ŒçœŸæ˜¯ä½œäº†ä¸€æ‰‹çš„å¥½æ­»ã€‚&lt;/p&gt;
&lt;p&gt;ç»“è®ºæ˜¯ï¼Œè¿™æ•°æ®é”™è¯¯äº†å¤ªå¤šï¼Œå·²ç»æ— æ³•æ‰‹å·¥ä¿®å¤ã€‚&lt;/p&gt;
&lt;h2 id="heng-cha-yi-dao-de-emoji"&gt;æ¨ªæ’ä¸€åˆ€çš„ Emoji ğŸ˜ŠğŸ˜¢ğŸ’—&lt;/h2&gt;
&lt;p&gt;å¯¼å…¥æ—¶å€™æŠ¥äº†è¿™ä¹ˆä¸€ä¸ªé”™è¯¯ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Caused by: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x8C\x8D\xE5\x9B...' for column 'BODY' at row 1 org.xml.sax.SAXException: Error while parsing 2015-10-19 23:14:13,108 ERROR [Importing data task] [confluence.importexport.impl.ReverseDatabinder] fromXML Error processing backup: -- referer: http://10.1.2.155:8087/setup/setup-restore-start.action | url: /setup/setup-restore-local.action | userName: anonymous | action: setup-restore-local org.xml.sax.SAXException: Error while parsing net.sf.hibernate.exception.GenericJDBCException: could not insert: [com.atlassian.confluence.core.BodyContent#12028161]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™æ˜¯ Emoji ç¼–ç çš„é—®é¢˜ï¼Œç†è®ºä¸Š MySQL æ¢åˆ° 5.6+ï¼Œæ›´æ–° encoding å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯&amp;hellip;&amp;hellip;Confluence çš„å»ºè¡¨ SQL çˆ†å‡ºäº† 255 varchar è¶…è¿‡ 1000 é™åˆ¶çš„é”™è¯¯
ï¼Œæˆ‘å°è¯•ä½¿ç”¨&amp;nbsp;&lt;a href="https://github.com/rails/rails/issues/9855"&gt;innodb_large_prefix&lt;/a&gt;
ä¼¼ä¹å¯ä»¥è§£å†³ï¼ˆå› ä¸ºé‡å¤é”®çš„é—®é¢˜ï¼Œå¯¼è‡´å¯¼å…¥å·²ç»è¡Œä¸é€šï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–&amp;nbsp;innodb_large_prefix&amp;nbsp;æ˜¯ 5.6.3 æ‰æœ‰çš„ï¼Œåªèƒ½å‡çº§ MySQLï¼Œ
å¹¶ä¸”éœ€è¦åˆ›å»ºè¡¨æ—¶å€™ä½¿ç”¨&amp;nbsp;DYNAMIC&amp;nbsp;å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å¼„ä¸ª Emoji è¿™ä¹ˆç»•ï¼Œè¿™å¯¼è‡´æˆ‘ç›´æ¥å¼ƒç”¨äº† MySQLã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯æ­£å¸¸è¿ç§»ï¼Œä¸é‡åˆ°é‡å¤é”®ï¼ŒEmoji çš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹çš„æ–‡æ¡£ï¼Œå®Œæˆå¹³æ»‘è¿ç§»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;https://confluence.atlassian.com/doc/migrating-to-another-database-148867.html&lt;/li&gt;
&lt;li&gt;https://confluence.atlassian.com/doc/database-setup-for-mysql-128747.html&lt;/li&gt;
&lt;li&gt;https://confluence.atlassian.com/doc/upgrading-confluence-4578.html&lt;/li&gt;
&lt;li&gt;https://confluence.atlassian.com/doc/upgrading-confluence-manually-255363437.html&lt;/li&gt;
&lt;li&gt;https://confluence.atlassian.com/conf56/confluence-user-s-guide/creating-content/using-the-editor/using-symbols-emoticons-and-special-characters&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ma-dan-zi-ji-gan"&gt;å¦ˆè›‹ï¼Œè‡ªå·±å¹²&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢è¿™ä¹ˆç‚¹ä¸œè¥¿ï¼Œé™†é™†ç»­ç»­èŠ±äº†æˆ‘ä¸¤å‘¨çš„æ—¶é—´ï¼ˆæ™šä¸Šï¼‰ã€‚å·²ç»ç¡®è®¤èµ°ä¸é€šå¹³æ»‘è¿ç§»ï¼Œé‚£å°±åˆ«æ€ªæˆ‘æ‰‹æ®µç³™äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ API å¯¼å‡ºåç›´æ¥å¯¼å…¥ï¼Œè¿™ç§åšæ³•æœ€å¤§é—®é¢˜æ˜¯ä¸å¹³æ»‘ï¼Œä¼šä¸¢æ‰ Wiki ä¿®æ”¹çš„å†å²è®°å½•ï¼Œ
åœ¨å’Œå„ä¸ªä¸šåŠ¡æ–¹æ²Ÿé€šä¹‹åï¼Œæœ€åè¾¾æˆäº†ä¸€è‡´ï¼šå¯ä»¥æš´åŠ›å‡çº§ã€‚&lt;/p&gt;
&lt;p&gt;å‡çº§æµç¨‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡†å¤‡æœ€æ–° Confluence æ–°ç«™ç‚¹&lt;/li&gt;
&lt;li&gt;å…³åœç«™ç‚¹&lt;/li&gt;
&lt;li&gt;å¯¼å‡ºæ•°æ®ï¼ŒåŒ…æ‹¬ Pageã€è¯„è®ºã€é™„ä»¶&lt;/li&gt;
&lt;li&gt;å¯¼å…¥ Pageï¼Œè¯„è®ºï¼Œé™„ä»¶&lt;/li&gt;
&lt;li&gt;å¯åŠ¨æ—§ç«™ç‚¹ï¼Œå¼€å¯åªè¯»æ¨¡å¼&lt;/li&gt;
&lt;li&gt;å¯ç”¨æ–°ç«™ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®˜æ–¹æœ‰ä¸€ä¸ª &lt;a href="https://migrations.atlassian.net/wiki"&gt;Universal Wiki Converter&lt;/a&gt;ï¼Œ
æˆ‘åœ¨ Bitbucket ä¸Šé¢æ‰¾åˆ°äº†æºç ï¼Œä½†æ˜¯å·²ç»ä¸å¯å·¥ä½œäº†ã€‚
è™½ç„¶å®£ç§°ã€ŒThe UWC will however save you 1-2+ weeks of scripting development time, compared with starting from scratch, for many of the most common conversion cases.ã€
ä½†å¹¶æ²¡æœ‰åµç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¡Œå°±è‡ªå·±éšä¾¿ææå¥½äº†ï¼Œçœ‹äº†ä¸€ä¸‹å¼€å‘éœ€è¦çš„ &lt;a href="https://confluence.atlassian.com/display/CONF30/Remote+API+Specification+2.4#RemoteAPISpecification2.4-Page"&gt;Conflunce API&lt;/a&gt;ï¼Œ
å’Œå°¤å…¶è´´å¿ƒçš„æ–°ç‰ˆæœ¬ &lt;a href="https://developer.atlassian.com/confdev/confluence-rest-api?continue=https%3A%2F%2Fdeveloper.atlassian.com%2Fconfdev%2Fconfluence-rest-api&amp;amp;application=dac"&gt;RESTful API&lt;/a&gt;ï¼Œå°±å¼€å§‹æäº†ã€‚&lt;/p&gt;
&lt;p&gt;å†™è¿ç§»ä»£ç ï¼Œåœ¨è¿™é‡Œ &lt;a href="https://github.com/duitang/atlassian-confluence-xxoo"&gt;atlassian-confluence-xxoo&lt;/a&gt;ï¼Œå·²ç»å¼€æºäº†ï¼Œåªä½¿ç”¨è¿‡ä¸€æ¬¡ï¼ŒæˆåŠŸçš„ä» 3.0.1 è¿ç§»åˆ° 5.4.4ï¼Œ
ç†è®ºä¸Šï¼Œæ”¯æŒä»»æ„ç‰ˆæœ¬çš„ 3.x/4.x Confluence è¿ç§»åˆ°æœ€æ–°ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;python app.py -h&lt;/code&gt; æŸ¥çœ‹å¸®åŠ©ï¼Œä¸è¡Œå°±çœ‹çœ‹ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;å¸Œæœ›æœ‰è¿ç§»éœ€æ±‚çš„åŒå­¦ï¼Œæœç´¢åˆ°è¿™é‡Œèƒ½å¤Ÿè·å¾—ä¸€äº›å¸®åŠ©ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2016/01/confluence-upgrade/"&gt;https://blog.alswl.com/2016/01/confluence-upgrade/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Tue, 12 Jan 2016 22:53:55 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2016-01-12:2016/01/confluence-upgrade/</guid><category>confluence</category></item><item><title>SS with Haproxy</title><link>https://blog.alswl.com/2015/11/ss-with-haproxy/</link><description>&lt;p&gt;&lt;img alt="shadowsocks.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201512/shadowsocks.png"/&gt;&lt;/p&gt;
&lt;p&gt;ä»¥å‰ç”¨è‡ªå·±çš„ SSï¼ŒLinode ç¾å›½ï¼Œåæ¥ Linode æ—¥æœ¬ï¼Œä½†æ˜¯å§‹ç»ˆæ‹¼ä¸è¿‡ä¸Šæµ·ç”µä¿¡çš„å›½é™…å¸¦å®½ã€‚
ç»å¸¸ä¸ç¨³å®šï¼Œä¸¢ä¸€åŠçš„åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯ä¹°äº† &lt;a href="https://portal.shadowsocks.com.hk/aff.php?aff=4215"&gt;SS&lt;/a&gt; æœåŠ¡ï¼Œ
9 å°æœåŠ¡å™¨ï¼Œè‡ªå·±æŒ‘è§‰å¾—é€Ÿåº¦å¿«çš„æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ä¸€ç›´å›ºå®šæŸå°æœåŠ¡å™¨ä¹Ÿä¼šå¶å°”å‡ºé—®é¢˜ï¼Œå¯¼è‡´é‚®ä»¶å‡ºä¸æ¥ï¼Œç½‘é¡µæ‰“ä¸å¼€ã€‚
éœ€è¦æ‰‹åŠ¨åˆ‡æ¢ä¸€ä¸‹æœåŠ¡å™¨ã€‚
äºæ˜¯ç”¨ HA åšäº†ä¸€ä¸ªæœ¬åœ°ä»£ç†ï¼Œè°ƒæ•´äº†ä¸€äº›å‚æ•°ï¼Œè®© SS æ€»æ˜¯æœ‰å¿«é€Ÿçš„æœåŠ¡å™¨ä¾›é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æ„ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;+-----------------+&lt;/span&gt;                                                  &lt;span class="o"&gt;+----------------+&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;                 &lt;span class="o"&gt;|&lt;/span&gt;                                                  &lt;span class="o"&gt;|&lt;/span&gt;                &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="n"&gt;Server&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;     &lt;span class="o"&gt;|&amp;gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;                                           &lt;span class="o"&gt;&amp;gt;&amp;gt;|&lt;/span&gt;   &lt;span class="n"&gt;Mail&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;     &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;                 &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="n"&gt;v&lt;/span&gt;                                           &lt;span class="o"&gt;^&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;                &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;+-----------------+&lt;/span&gt;    &lt;span class="n"&gt;v&lt;/span&gt;                                           &lt;span class="o"&gt;^&lt;/span&gt; &lt;span class="o"&gt;+----------------+&lt;/span&gt;
                       &lt;span class="n"&gt;v&lt;/span&gt;                                           &lt;span class="o"&gt;^&lt;/span&gt;
&lt;span class="o"&gt;+-----------------+&lt;/span&gt;    &lt;span class="n"&gt;v&lt;/span&gt;    &lt;span class="o"&gt;|----------------+&lt;/span&gt;      &lt;span class="o"&gt;+------------+&lt;/span&gt; &lt;span class="o"&gt;^&lt;/span&gt; &lt;span class="o"&gt;+----------------+&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;                 &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="n"&gt;v&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;                &lt;span class="o"&gt;|&lt;/span&gt;      &lt;span class="o"&gt;|&lt;/span&gt;            &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="o"&gt;^&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;                &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="n"&gt;Server&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;     &lt;span class="o"&gt;|&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;|&lt;/span&gt;    &lt;span class="n"&gt;HAProxy&lt;/span&gt;     &lt;span class="o"&gt;|&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;|&lt;/span&gt; &lt;span class="n"&gt;SS&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Client&lt;/span&gt;  &lt;span class="o"&gt;|&amp;gt;&amp;gt;&amp;gt;|&lt;/span&gt;   &lt;span class="n"&gt;Browser&lt;/span&gt;      &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;                 &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;^&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;                &lt;span class="o"&gt;|&lt;/span&gt;      &lt;span class="o"&gt;|&lt;/span&gt;            &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;                &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;+-----------------+&lt;/span&gt;    &lt;span class="o"&gt;^&lt;/span&gt;    &lt;span class="o"&gt;+----------------+&lt;/span&gt;      &lt;span class="o"&gt;+------------+&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;+----------------+&lt;/span&gt;
                       &lt;span class="o"&gt;^&lt;/span&gt;                                           &lt;span class="n"&gt;v&lt;/span&gt;   
&lt;span class="o"&gt;+-----------------+&lt;/span&gt;    &lt;span class="o"&gt;^&lt;/span&gt;                                           &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;+----------------+&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;                 &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;^&lt;/span&gt;                                           &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;                &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="n"&gt;Server&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;     &lt;span class="o"&gt;|&amp;gt;&amp;gt;&amp;gt;&amp;gt;^&lt;/span&gt;                                           &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;|&lt;/span&gt;   &lt;span class="n"&gt;Evernote&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;  &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;                 &lt;span class="o"&gt;|&lt;/span&gt;                                                  &lt;span class="o"&gt;|&lt;/span&gt;                &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;+-----------------+&lt;/span&gt;                                                  &lt;span class="o"&gt;+----------------+&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é…ç½®ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;global&lt;/span&gt;
    &lt;span class="n"&gt;ulimit&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;  &lt;span class="mi"&gt;4096&lt;/span&gt;


&lt;span class="n"&gt;defaults&lt;/span&gt;
    &lt;span class="n"&gt;log&lt;/span&gt; &lt;span class="n"&gt;global&lt;/span&gt;
    &lt;span class="n"&gt;mode&lt;/span&gt;    &lt;span class="n"&gt;tcp&lt;/span&gt;
    &lt;span class="n"&gt;timeout&lt;/span&gt; &lt;span class="n"&gt;connect&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
    &lt;span class="n"&gt;timeout&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
    &lt;span class="n"&gt;timeout&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;


&lt;span class="n"&gt;listen&lt;/span&gt; &lt;span class="n"&gt;stats&lt;/span&gt;
    &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="mf"&gt;127.0.0.1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;12222&lt;/span&gt;
    &lt;span class="n"&gt;mode&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;
    &lt;span class="n"&gt;stats&lt;/span&gt; &lt;span class="n"&gt;enable&lt;/span&gt;
    &lt;span class="n"&gt;stats&lt;/span&gt; &lt;span class="n"&gt;uri&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;
    &lt;span class="n"&gt;stats&lt;/span&gt; &lt;span class="n"&gt;refresh&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;


&lt;span class="n"&gt;listen&lt;/span&gt; &lt;span class="n"&gt;ss&lt;/span&gt;
    &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="mf"&gt;127.0.0.1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1081&lt;/span&gt;
    &lt;span class="n"&gt;mode&lt;/span&gt; &lt;span class="n"&gt;tcp&lt;/span&gt;
    &lt;span class="n"&gt;option&lt;/span&gt; &lt;span class="n"&gt;tcpka&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;balance&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt;
    &lt;span class="n"&gt;balance&lt;/span&gt; &lt;span class="n"&gt;roundrobin&lt;/span&gt;
    &lt;span class="n"&gt;log&lt;/span&gt; &lt;span class="n"&gt;global&lt;/span&gt;
    &lt;span class="n"&gt;maxconn&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt;

    &lt;span class="n"&gt;timeout&lt;/span&gt; &lt;span class="n"&gt;connect&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="n"&gt;ms&lt;/span&gt;
    &lt;span class="n"&gt;timeout&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="mi"&gt;600&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
    &lt;span class="n"&gt;timeout&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="mi"&gt;600&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
    &lt;span class="n"&gt;timeout&lt;/span&gt; &lt;span class="n"&gt;check&lt;/span&gt; &lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="n"&gt;ms&lt;/span&gt;  &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;office&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;home&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="n"&gt;timeout&lt;/span&gt; &lt;span class="n"&gt;check&lt;/span&gt; &lt;span class="mi"&gt;400&lt;/span&gt;&lt;span class="n"&gt;ms&lt;/span&gt;  &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;starbucks&lt;/span&gt;
    &lt;span class="n"&gt;retries&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="n"&gt;option&lt;/span&gt; &lt;span class="n"&gt;redispatch&lt;/span&gt;
    &lt;span class="n"&gt;option&lt;/span&gt; &lt;span class="n"&gt;tcp&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;check&lt;/span&gt;

    &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="n"&gt;s1&lt;/span&gt; &lt;span class="n"&gt;host1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt; &lt;span class="n"&gt;maxconn&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt; &lt;span class="n"&gt;check&lt;/span&gt; &lt;span class="n"&gt;inter&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="n"&gt;rise&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt; &lt;span class="n"&gt;fall&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="n"&gt;backup&lt;/span&gt;
    &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="n"&gt;s2&lt;/span&gt; &lt;span class="n"&gt;host2&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt; &lt;span class="n"&gt;maxconn&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt; &lt;span class="n"&gt;check&lt;/span&gt; &lt;span class="n"&gt;inter&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="n"&gt;rise&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt; &lt;span class="n"&gt;fall&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;
    &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="n"&gt;s3&lt;/span&gt; &lt;span class="n"&gt;host2&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt; &lt;span class="n"&gt;maxconn&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt; &lt;span class="n"&gt;check&lt;/span&gt; &lt;span class="n"&gt;inter&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="n"&gt;rise&lt;/span&gt; &lt;span class="mi"&gt;60&lt;/span&gt; &lt;span class="n"&gt;fall&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æŒºç¨³å®šï¼Œå¾ˆå¿«é€Ÿã€‚&lt;/p&gt;
&lt;p&gt;update: 2015-12-15ï¼Œæ·»åŠ  &lt;code&gt;backup&lt;/code&gt; é¡¹ï¼Œé€‰ä¸€å°æœ€ç¨³å®šçš„åš backupï¼Œé¿å…æ‰€æœ‰è¿æ¥éƒ½è¶…æ—¶ã€‚
update: 2015-12-13ï¼Œæ·»åŠ  &lt;code&gt;redispatch&lt;/code&gt;  / &lt;code&gt;retries&lt;/code&gt; é¡¹ï¼Œæ¢æœºå™¨é‡è¯•ï¼Œ
å¤§å¹…æé«˜å¯ç”¨æ€§ï¼Œæ³¨æ„ï¼Œå¯èƒ½åœ¨éå¹‚ç­‰çŠ¶æ€ä¸‹é¢äº§ç”ŸæœªçŸ¥é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="haproxy.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201512/haproxy.png"/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è·‘çš„ nodeï¼Œæœ‰äº›å»¶è¿Ÿé«˜ï¼Œè¢«å¹²æ‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="youtube.png" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201512/youtube.png"/&gt;&lt;/p&gt;
&lt;p&gt;çœ‹ 1080P ä¹ŸæŒºé¡ºç•…ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2015/11/ss-with-haproxy/"&gt;https://blog.alswl.com/2015/11/ss-with-haproxy/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Fri, 27 Nov 2015 20:23:24 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2015-11-27:2015/11/ss-with-haproxy/</guid><category>SS</category><category>HAProxy</category></item><item><title>å‡ æ­¥æ‹¥æœ‰ä¸€ä¸ªå®‰å…¨å¯†ç </title><link>https://blog.alswl.com/2015/10/a-security-password/</link><description>&lt;p&gt;&lt;img alt="password.jpg" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201512/password.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;ç»™å›¢é˜Ÿéå¼€å‘åŒå­¦å†™çš„é‚®ä»¶ï¼Œå¯¹å…¶ä»–äººä¹Ÿæœ‰äº›æ„ä¹‰ï¼Œé‚è´´å‡ºæ¥ã€‚&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;è¿™ä¸ªäº’è”ç½‘è¶Šæ¥è¶Šä¸å®‰å…¨ &lt;a href="https://www.baidu.com/s?wd=%E5%AF%86%E7%A0%81%E6%B3%84%E9%9C%B2%E4%BA%8B%E4%BB%B6&amp;amp;rsp=3&amp;amp;f=1&amp;amp;oq=%E5%AF%86%E7%A0%81%E6%B3%84%E9%9C%B2&amp;amp;ie=utf-8&amp;amp;usm=2&amp;amp;rsv_idx=1&amp;amp;rsv_pq=f9362ac90000f994&amp;amp;rsv_t=31d7A5Zyu36Hn4omAU5F9llRh3WBGl5tInDRywq%2FbPEwdPnyjCCcfGLdnNA&amp;amp;rsv_ers=xn0&amp;amp;rs_src=0"&gt;https://www.baidu.com/s?wd=%E5%AF%86%E7%A0%81%E6%B3%84%E9%9C%B2%E4%BA%8B%E4%BB%B6&lt;/a&gt;ã€‚å¯†ç æ•°æ®åº“æ³„éœ²ï¼Œé»‘å®¢æš´åº“æ”»å‡»ï¼Œç¤¾ä¼šå·¥ç¨‹å­¦æ”»å‡»å±‚å‡ºä¸ç©·ã€‚æˆ‘ç»™å¤§å®¶ä»‹ç»å‡ ä¸ªå°æ–¹æ³•ï¼Œè½»æ¾æé«˜è‡ªå·±å„ç±»å¯†ç çš„å®‰å…¨ç­‰çº§ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆç»™ä¸ªåœ°å€ï¼Œå¤§å®¶å¯ä»¥æµ‹è¯•ä¸€ä¸‹è‡ªå·±å¸¸ç”¨å¯†ç çš„å¤æ‚åº¦ï¼š&lt;a href="https://howsecureismypassword.net/"&gt;https://howsecureismypassword.net/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è®¤ä¸ºè‡ªå·±ç”µè„‘æ°´å¹³è¿˜å¯ä»¥çš„ï¼Œè¯·ç›´æ¥ç¿»åˆ°æ–‡ç« æœ€åã€‚&lt;/p&gt;
&lt;h2 id="ru-he-guan-li-mi-ma"&gt;å¦‚ä½•ç®¡ç†å¯†ç &lt;/h2&gt;
&lt;p&gt;ç»™æ™®é€šç”¨æˆ·çš„å»ºè®®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯†ç è®¾ç½®å¤æ‚ä¸€äº›ï¼Œä¸è¦ä½¿ç”¨ç”Ÿæ—¥ã€æ—¥æœŸã€å§“åç­‰æœ‰æ„ä¹‰çš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ä¸€å¥—åˆç†çš„å¯†ç ç”Ÿæˆç­–ç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‡ç‚¹æ¥äº†ï¼Œå¯†ç ç”Ÿæˆç­–ç•¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‰æ‹©è‡ªå·±å–œæ¬¢çš„è¯—è¯æˆ–è€…æŸå¥è¯ï¼Œæ¯”å¦‚ã€ŒåºŠå‰æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœã€ï¼Œå–å…¶æ‹¼éŸ³çš„ç¬¬ä¸€ä¸ªå­—æ¯ cqmygysdss&lt;/li&gt;
&lt;li&gt;å°†æ¯ä¸ªå¥å­ç¬¬ä¸€ä¸ªå•è¯å¤§å†™ï¼Œcqmygysdss -&amp;gt; CqmygYsdss&lt;/li&gt;
&lt;li&gt;åŠ ä¸Šå¯¹åº”ç½‘ç«™çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ 163ï¼šCqmygYsdss163ï¼Œqqï¼š CqmygYsdssqq&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤§åŠŸå‘Šæˆï¼Œä½ çš„å¯†ç å®‰å…¨çº§åˆ«æå‡äº†ã€‚&lt;/p&gt;
&lt;p&gt;----------------------------- é«˜æ‰‹çš„åˆ†ç•Œçº¿ -----------------------&lt;/p&gt;
&lt;p&gt;ç»™é«˜æ°´å¹³é€‰æ‰‹æ¨èçš„æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ¸å¿ƒæ€æƒ³ï¼šå¯†ç åˆ†çº§ï¼Œåˆ†ç¦»æ™®é€šå¯†ç ã€é‡è¦å¯†ç ï¼ˆè´¢åŠ¡ç›¸å…³ç­‰ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ™®é€šå¯†ç ä½¿ç”¨å¤§å°å†™è‹±æ–‡å’Œæ•°å­—æ··åˆ&lt;/li&gt;
&lt;li&gt;é‡è¦å¯†ç å’Œè´¢åŠ¡ç›¸å…³å¯†ç ï¼Œç‹¬ç«‹ç”Ÿæˆå¯†ç ï¼Œä¿å­˜åˆ° 1Password / KeePass ç­‰å·¥å…·ä¸­ï¼Œæ¯ä¸ªåº”ç”¨è½¯ä»¶ç‹¬ç«‹å¼€æ¥ã€‚&lt;/li&gt;
&lt;li&gt;æ¨è KeePassï¼Œå…è´¹ï¼Œå‚è€ƒ &lt;a href="http://www.iplaysoft.com/keepass.html"&gt;http://www.iplaysoft.com/keepass.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="chang-jian-ruo-mi-ma-he-bao-li-po-jie-xu-yao-shi-jian"&gt;å¸¸è§å¼±å¯†ç å’Œæš´åŠ›ç ´è§£éœ€è¦æ—¶é—´&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;123456 / ä¸éœ€è¦&lt;/li&gt;
&lt;li&gt;duitang / 2s&lt;/li&gt;
&lt;li&gt;huhela1993 / 10å¤©&lt;/li&gt;
&lt;li&gt;huhela_1993 / 48å¹´&lt;/li&gt;
&lt;li&gt;CqmygYsdssqq / 3åƒå¹´&lt;/li&gt;
&lt;li&gt;]W?852HCMHFUYzrz,F / 10000^5 å¹´ï¼ˆKeepass ç”Ÿæˆçš„å¯†ç ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="zui-hou"&gt;æœ€å&lt;/h2&gt;
&lt;p&gt;é’ˆå¯¹ä»»ä½•åœ¨é‚®ç®±ä¸­å‘å¤§å®¶ç´¢å–ï¼š&lt;/p&gt;
&lt;p&gt;å¯†ç ã€å‘˜å·¥ä¿¡æ¯ã€é€šè®¯å½•ã€ç»„ç»‡æ¶æ„ç­‰çš„é‚®ä»¶ï¼Œè¯·å¤§å®¶æ³¨æ„ç¡®è®¤å¯¹æ–¹çš„çœŸå®èº«ä»½ï¼Œä¸è¦è½»æ˜“é€éœ²é‡è¦ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2015/10/a-security-password/"&gt;https://blog.alswl.com/2015/10/a-security-password/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Wed, 28 Oct 2015 00:17:44 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2015-10-28:2015/10/a-security-password/</guid><category>Security</category></item><item><title>æ€ä¹ˆæ‰“æ—¥å¿—</title><link>https://blog.alswl.com/2015/10/how-to-log/</link><description>&lt;p&gt;&lt;img alt="logger" src="https://ohsolnxaa.qnssl.com/upload_dropbox/201510/logger.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦è§£å†³çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸šåŠ¡æ—¥å¿—æ‰“å¤ªä¹±ï¼Œæ²¡æœ‰ä½ç½®å’Œæ ¼å¼çº¦æŸ&lt;/li&gt;
&lt;li&gt;ä»€ä¹ˆæƒ…å†µæ‰“æ—¥å¿—ï¼Œå¦‚ä½•é¿å…æ»¥ç”¨ï¼Œæé«˜æ—¥å¿—ä½œç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="da-ri-zhi-zui-jia-shi-jian"&gt;æ‰“æ—¥å¿—æœ€ä½³å®è·µ&lt;/h2&gt;
&lt;p&gt;Dropwizard åˆ—å‡ºçš„æ‰“æ—¥å¿—åŸåˆ™ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Be human readable.&lt;/p&gt;
&lt;p&gt;Be machine parsable.&lt;/p&gt;
&lt;p&gt;Be easy for sleepy ops folks to figure out why things are pear-shaped at 3:30AM using standard UNIXy tools like tail and grep.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;eg.:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;TRACE&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2010&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mo"&gt;04&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mo"&gt;06&lt;/span&gt; &lt;span class="mo"&gt;06&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;35&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;271&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dw&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Thing&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Contemplating&lt;/span&gt; &lt;span class="n"&gt;doing&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;thing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;DEBUG&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2010&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mo"&gt;04&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mo"&gt;06&lt;/span&gt; &lt;span class="mo"&gt;06&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;35&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;274&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dw&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Thing&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;About&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;thing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;INFO&lt;/span&gt;  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2010&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mo"&gt;04&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mo"&gt;06&lt;/span&gt; &lt;span class="mo"&gt;06&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;35&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;274&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dw&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Thing&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Doing&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;thing&lt;/span&gt;
&lt;span class="n"&gt;WARN&lt;/span&gt;  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2010&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mo"&gt;04&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mo"&gt;06&lt;/span&gt; &lt;span class="mo"&gt;06&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;35&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;275&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dw&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Thing&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Doing&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;thing&lt;/span&gt;
&lt;span class="n"&gt;ERROR&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2010&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mo"&gt;04&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mo"&gt;06&lt;/span&gt; &lt;span class="mo"&gt;06&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;35&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;275&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dw&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Thing&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;This&lt;/span&gt; &lt;span class="n"&gt;may&lt;/span&gt; &lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;ugly&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RuntimeException&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;oh&lt;/span&gt; &lt;span class="n"&gt;noes&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dw&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Thing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Thing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;splunk çš„æœ€ä½³å®è·µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æ¸…æ™°çš„é”®å€¼å¯¹ï¼š&lt;code&gt;key1=val1, key2=val2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¯¹å¼€å‘è€…æ˜“è¯»&lt;/li&gt;
&lt;li&gt;å…¨éƒ¨æ·»åŠ æ—¶é—´æˆ³&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å”¯ä¸€æ ‡è®°ï¼Œæ¯”å¦‚ user_id, transaction_id&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ–‡æœ¬&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å¼€å‘è€…æ˜“ç”¨æ ¼å¼ï¼Œæ¯”å¦‚ JSON&lt;/li&gt;
&lt;li&gt;å°½å¯èƒ½å¤šåŠ ä¸€ä¸‹æ•°æ®&lt;/li&gt;
&lt;li&gt;æ ‡è®°è°ƒç”¨æ¥æºï¼Œæ¯”å¦‚æ–¹æ³•åï¼Œç±»å&lt;/li&gt;
&lt;li&gt;å°†å¤šè¡Œäº‹ä»¶æ‹†åˆ†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é™¤äº†ä¸€äº›æµ…æ˜¾æ˜“æ‡‚çš„åŸåˆ™ï¼Œè¿˜æ˜¯ dropwizard çš„ä¸‰æ¡åŸåˆ™å’Œè§£å†³æ–¹æ¡ˆé è°±ã€‚
ä½†æ˜¯ä¸¤ç¯‡æ–‡ç« éƒ½æ²¡æœ‰å‘Šè¯‰å¦‚æœåœ¨å¤æ‚ç³»ç»Ÿé‡Œé¢è®°å½•æœ‰ç”¨çš„æ—¥å¿—ï¼Œæ‰“æ—¥å¿—ç”Ÿå‘½å‘¨æœŸæ˜¯æ€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ‰¾ä¸åˆ°ï¼Œæˆ‘å°±å°±è‡ªè¡Œæƒ³æƒ³å¦‚ä½•æ‰“æœ‰æ„ä¹‰çš„æ—¥å¿—ã€‚&lt;/p&gt;
&lt;p&gt;æ—¥å¿—ä¸æ€•å¤šï¼Œè€Œæ˜¯æ€•ç¹æ‚éš¾æœç´¢ï¼Œäº§å‡ºçš„æ•°æ®æ— æ„ä¹‰éš¾è¿½è¸ªé—®é¢˜ã€‚æ‰€ä»¥æœ€å…³é”®æ˜¯æ‰¾åˆ°ä¸€ä¸ªåˆç†é€šç”¨çš„æ–¹å¼ç»„ç»‡èµ·æ¥å³å¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‰ç…§æ¨¡å—å com.duitang.service.module.aaa æ‰“æ—¥å¿—ï¼Œæ¯”å¦‚ &lt;code&gt;com.duitang.service.module.aaa.log&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªæ¨¡å—ä¸€ä¸ªæ—¥å¿—ï¼Œæ¨¡å—å¤æ‚ä¹‹åï¼Œå¯ä»¥æ‹†åˆ†ï¼Œ&lt;code&gt;com.duitang.service.module.aaa.core.log&lt;/code&gt; / &lt;code&gt;com.duitang.service.module.aaa.query.log&lt;/code&gt;ï¼Œå…¶å®åœ¨è¿™ä¸ªæ—¶ä¾¯ï¼Œè¿™ä¸ªæ¨¡å—æœ¬èº«ç”±äºå¤æ‚æ€§ä¹Ÿä¼šé¢ä¸´æ‹†åˆ†ã€‚&lt;/li&gt;
&lt;li&gt;ä¸åˆ†ç¦» error / info æ—¥å¿—ï¼Œæ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œé€šè¿‡ &lt;code&gt;grep&lt;/code&gt; æˆ–è€…æ—¥å¿—å·¥å…·åˆ†ç¦»&lt;/li&gt;
&lt;li&gt;æ—¥å¿—æ–‡ä»¶ä¸€å®šè¦ rotateï¼Œç£ç›˜å­˜å‚¨å›ºå®šæ—¶é—´ N å¤©ï¼Œè¿œç¨‹æ–‡ä»¶å­˜å‚¨å›ºå®šæ—¶é—´ M å¤©ï¼ŒTTL åˆ é™¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¡¥å……ä¸€ä¸ªæ—¥å¿—å¸¸è§ä½¿ç”¨åœºæ™¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤–éƒ¨èµ„æºè°ƒç”¨&lt;/li&gt;
&lt;li&gt;çŠ¶æ€å˜åŒ–&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿå…¥å£å’Œå‡ºå£&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡å¼‚å¸¸&lt;/li&gt;
&lt;li&gt;éé¢„æœŸæ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;hr/&gt;
&lt;p&gt;å‚è€ƒæ–‡æ¡£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://dropwizard.github.io/dropwizard/manual/core.html#logging"&gt;Dropwizard Core | Dropwizard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dev.splunk.com/view/logging-best-practices/SP-CAAADP6"&gt;Logging best practices | Splunk&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.infoq.com/cn/articles/why-and-how-log"&gt;ç¨‹åºé‚£äº›äº‹ï¼šæ—¥å¿—è®°å½•çš„ä½œç”¨å’Œæ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2015/10/how-to-log/"&gt;https://blog.alswl.com/2015/10/how-to-log/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Sun, 18 Oct 2015 14:25:28 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2015-10-18:2015/10/how-to-log/</guid><category>Logger</category></item><item><title>Redis é›†ç¾¤æ‰©å®¹</title><link>https://blog.alswl.com/2015/07/redis-migration/</link><description>&lt;p&gt;å‡ ä¹æ¯ä¸€ä¸ªç½‘ç«™éƒ½éœ€è¦ç”¨æˆ·ç™»å½•çŠ¶æ€ç³»ç»Ÿï¼Œå…¶ä¸­æ ¸å¿ƒæ˜¯å­˜å‚¨ Session çš„ç”¨æˆ·ç™»å½•çŠ¶æ€å­˜å‚¨ç³»ç»Ÿã€‚
ä¸»æµçš„å®ç°ä¹‹ä¸€æ˜¯ä½¿ç”¨ Redis å­˜å‚¨ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼ŒRedis ç‰¹ç‚¹æ˜¯åŠŸèƒ½ç®€å•ã€æ— ä¾èµ–ã€
å­˜å‚¨ç»“æ„ä¸°å¯Œã€æœ‰æŒä¹…åŒ–åŠŸèƒ½ã€‚
æˆ‘å¤§å †ç³–çš„ Session å­˜å‚¨ç³»ç»Ÿä¹Ÿæ­£æ˜¯åŸºäº Redisã€‚&lt;/p&gt;
&lt;p&gt;å¯æ˜¯ Redis ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ Redis è‡ªèº«æ²¡æœ‰ Sharding åŠŸèƒ½ï¼ŒReplication
ä¹Ÿæ˜¯åœ¨é€æ­¥å®Œå–„å®Œå–„è¿‡ç¨‹ä¸­
ï¼ˆ2.4 æ”¯æŒ &lt;code&gt;Replication&lt;/code&gt;ï¼Œ2.8 åŠ å…¥ &lt;code&gt;Replication partial resynchronization&lt;/code&gt; åŠŸèƒ½ï¼‰ã€‚
çºµè§‚å½“ä¸‹æµè¡Œçš„ DB ç³»ç»Ÿï¼Œå“ªä¸ªä¸æ˜¯è‡ªå¸¦è¿™ä¸¤ä¸ªç‰¹æ€§ï¼Œè¿™ä¸¤ä¸ªåˆ†å¸ƒå¼ç‰¹æ€§åº”è¯¥æˆä¸ºæ–°å‡ºäº§çš„ DB ç³»ç»Ÿçš„æ ‡é…ã€‚
è€Œä¸”ä½œè€…è¿˜ç»å¸¸å‘å¸ƒå»¶æœŸï¼Œæ”¾çƒŸé›¾å¼¹ï¼Œä¸çŸ¥é“ Redis è‡ªå¸¦ Sharding ç‰¹æ€§è¦ç­‰åˆ°ä½•å¹´é©¬æœˆã€‚&lt;/p&gt;
&lt;p&gt;éšç€ä¸šåŠ¡è§„æ¨¡çš„æ‰©å¤§ï¼Œå•å° Redis å®ä¾‹ä¸èƒ½æ»¡è¶³éœ€æ±‚ã€‚
è€ƒè™‘åˆ° Redis ä¹Ÿæ˜¯ä¹…ç»è€ƒéªŒçš„æˆ˜å£«ï¼Œæ›¿æ¢æ‰ä»–æˆæœ¬æ¯”è¾ƒé«˜ï¼Œé‚£å°±å¯¹ Redis è¿›è¡Œæ‰©å®¹ã€‚&lt;/p&gt;
&lt;p&gt;æ‰©å®¹çš„åŸºæœ¬è¦æ±‚æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰©å¤§ç³»ç»Ÿå®¹é‡ï¼Œæˆä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæœªæ¥æœ‰æ¨ªå‘æ‰©å±•&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡ä¸ä¸­æ–­&lt;/li&gt;
&lt;li&gt;ä¿è¯åŸå§‹æ•°æ®çš„å¯ç”¨æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Google äº†ä¸€ä¸‹ï¼Œæœ‰ä¸¤ä¸ªé¡¹ç›®å¯ä»¥å‚è€ƒï¼š
&lt;a href="https://github.com/idning/redis-mgr"&gt;https://github.com/idning/redis-mgr&lt;/a&gt;
å’Œè±Œè±†èšçš„ &lt;a href="https://github.com/wandoulabs/codis"&gt;Codis&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç ”ç©¶äº†è¿™ä¸¤é¡¹ç›®çš„ä»£ç ä¹‹åï¼Œå‘ç°å‰è€…å­˜åœ¨å‡ ä¸ªé—®é¢˜ï¼š
éœ€è¦åœæœºè¿›è¡Œæ“ä½œã€‚
åè€…æä¾›äº†å®Œæ•´ä¸€å¥—è§£å†³æ–¹æ¡ˆï¼ŒServer/Proxy/Config Manageï¼Œå¯¹æˆ‘è¿™æ¬¡è¿ç§»æ¥è¯´ï¼Œå¤ªé‡äº†ï¼Œ
è€Œä¸”é¡¹ç›®æ¯”è¾ƒæ–°ï¼Œé£é™©é«˜ï¼Œåªèƒ½ç”¨æ¥å‚è€ƒå®ç°æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åæˆ‘å†³å®šå‚è€ƒ redis-mgr çš„æ–¹æ¡ˆï¼Œç„¶åä½¿ç”¨ä¸¤ç§æ–¹å¼åŒæ­¥æ•°æ®ï¼š
ç³»ç»Ÿè¿è¡Œä¸­æ‰“ä¸Š patch å®Œæˆæ•°æ®çš„åŠ¨æ€è¿ç§»ï¼›åå°è·‘è¿ç§»æ•°æ®è„šæœ¬ã€‚&lt;/p&gt;
&lt;h2 id="fang-an-de-guan-jian-ci"&gt;æ–¹æ¡ˆçš„å…³é”®è¯&lt;/h2&gt;
&lt;h3 id="dump-restore-pttl"&gt;&lt;code&gt;dump&lt;/code&gt; / &lt;code&gt;restore&lt;/code&gt; / &lt;code&gt;pttl&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;æ ¸å¿ƒçš„æ“ä½œæµç¨‹æ˜¯ï¼š
ä½¿ç”¨ &lt;code&gt;dump&lt;/code&gt; å‘½ä»¤å¯¼å‡ºæ•°æ®ï¼Œ&lt;code&gt;restore&lt;/code&gt; å‘½ä»¤æ¢å¤æ•°æ®ï¼Œ&lt;code&gt;pttl&lt;/code&gt; å‘½ä»¤è·å–è®¾ç½® TTLã€‚&lt;/p&gt;
&lt;h3 id="presharding"&gt;Presharding&lt;/h3&gt;
&lt;p&gt;Redis å®˜æ–¹æ²¡æœ‰ sharding æ–¹æ¡ˆï¼Œä½†æä¾›ä¸€ç§ç­–ç•¥ preshardingã€‚
Redis ä½œè€…å†™äº†ä¸€ç¯‡&lt;a href="http://oldblog.antirez.com/post/redis-presharding.html"&gt;Redis Presharding&lt;/a&gt;ã€‚æ ¸å¿ƒæ˜¯ï¼š
æå‰åš 2^n ä¸ªå®ä¾‹ï¼Œé¿å…æ‰©å®¹æ—¶å€™æ•°æ®è¿ç§»ï¼Œä¸€èˆ¬ä½¿ç”¨ 2^n ä¸ªå®ä¾‹ï¼Œ
ç›®çš„æ˜¯ä¸ºäº†èƒ½å¤Ÿè‡ªç„¶åœ°ä¹˜ä»¥ 2 è¿›è¡Œæ‹†åˆ†ã€‚
è¿™äº›å®ä¾‹å¯ä»¥åˆ†å¼€æ”¾ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨åŒä¸€å°æœºå™¨ä¸Šé¢ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è¿™æ¬¡æ“ä½œï¼Œå°† &lt;code&gt;OLD_CLUSTER&lt;/code&gt; çš„ä¸€ä¸ªå®ä¾‹æ‹†åˆ†ä¸ºäº† &lt;code&gt;NEW_CLUSTER&lt;/code&gt; çš„ 32 ä¸ªå®ä¾‹ï¼Œ
è·‘åœ¨ 4 å°æœåŠ¡å™¨ä¸Šé¢ã€‚&lt;/p&gt;
&lt;h3 id="twemproxy"&gt;Twemproxy&lt;/h3&gt;
&lt;p&gt;Redis çš„ ç»å…¸æ¬¾ Proxyï¼Œç”¨æ¥å®ç°å¯¹å¤šä¸ª Redis å®ä¾‹ shardingï¼Œ
Twitter å‡ºå“ï¼Œ&lt;a href="https://github.com/twitter/twemproxy"&gt;é“¾æ¥&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id="yi-zhi-xing-hash"&gt;ä¸€è‡´æ€§ Hash&lt;/h3&gt;
&lt;p&gt;ä¼ ç»Ÿçš„ Hash æ–¹æ³•æ˜¯ &lt;code&gt;hash(key) = value % nodes.length&lt;/code&gt;ï¼Œ
å½“åŠ å…¥ã€å‡å°‘ Hash èŠ‚ç‚¹æ—¶å€™ï¼Œä¼šå¯¼è‡´ &lt;code&gt;hash(key)&lt;/code&gt; çš„å…¨éƒ¨å¤±æ•ˆã€‚
å…¸å‹çš„ä¸€è‡´æ€§ Hash ç®—æ³•ï¼Œ&lt;a href="https://github.com/RJ/ketama"&gt;Ketama&lt;/a&gt; é€šè¿‡ç¯çŠ¶ node åˆ†å¸ƒï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;Twemproxy è¿˜æä¾› &lt;code&gt;modula&lt;/code&gt; å’Œ random ä¸¤ç§åˆ†å¸ƒå¼æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h3 id="db-da-xiao-yu-gu"&gt;db å¤§å°é¢„ä¼°&lt;/h3&gt;
&lt;p&gt;Redis åªèƒ½æŸ¥çœ‹æ•´ä¸ªå®ä¾‹å†…å­˜å°ºå¯¸ã€‚ä¸èƒ½æŸ¥çœ‹å•ä¸ª dbã€‚
ä½¿ç”¨ &lt;code&gt;ramdomkey&lt;/code&gt; åšæŠ½æ ·æ£€æŸ¥ï¼Œå– 1% key æŠ½æ ·ï¼Œä¼°è®¡å•ä¸ª key å¤§å°ï¼Œ
ç„¶ååš benchmark ä¼°ç®—æ“ä½œæ€§èƒ½ï¼Œä¼°ç®—æ“ä½œæ—¶é—´ã€‚&lt;/p&gt;
&lt;h3 id="dong-tai-qian-yi-shu-ju"&gt;åŠ¨æ€è¿ç§»æ•°æ®&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†åœ¨è¿ç§»è¿‡ç¨‹ä¸­ä¿è¯æœåŠ¡å¯ç”¨ï¼Œéœ€è¦å°†æ•°æ®å…¼å®¹ Redis é›†ç¾¤ &lt;code&gt;OLD_CLUSTER&lt;/code&gt; / &lt;code&gt;NEW_CLUSTER&lt;/code&gt;ï¼Œ
ä¸šåŠ¡ä»£ç å¿…é¡»åŒæ—¶æ”¯æŒè®¿é—®ä¸¤ä¸ªé›†ç¾¤ï¼Œåšæ³•ä¹Ÿå¾ˆç®€å•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¿é—® &lt;code&gt;NEW_CLUSTER&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æœ‰æ•°æ®åˆ™ç»§ç»­æ“ä½œï¼Œæ— æ•°æ®åˆ™è®¿é—® &lt;code&gt;OLD_CLUSTER&lt;/code&gt;ï¼Œè·å–æ•°æ® &lt;code&gt;DATA&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å°†æ•°æ®å’Œ TTL ä¿å­˜åˆ° &lt;code&gt;NEW_CLUSTER&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°†è¿™ä¸ªé€»è¾‘å°è£…æˆä¸€ä¸ª clientï¼Œæ›¿æ¢æ‰åŸæ¥ Redis Client å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œè¿™ä¸ªç‚¹å¯èƒ½äº§ç”Ÿå¹»è¯»ï¼Œè¯»å– key å’Œå†™å…¥ key æœ‰ä¸ªæ—¶é—´å·®ï¼Œ
ä½†æ˜¯æˆ‘å¤„ç†çš„ session æ˜¯ immutable æ•°æ®ï¼Œä¸ä¼šå‡ºç°é—®é¢˜ã€‚
è€Œå¦‚æœå°† Redis ç”¨ä½œ Persistenceï¼Œå°±è¦è¯„ä¼°å¯¹ä¸šåŠ¡çš„å½±å“äº†ã€‚&lt;/p&gt;
&lt;h3 id="hou-tai-qian-yi-shu-ju"&gt;åå°è¿ç§»æ•°æ®&lt;/h3&gt;
&lt;p&gt;ä¾èµ–ç”¨æˆ·è®¿é—®æ¥è¿›è¡Œè¿ç§»ï¼Œæ•ˆç‡å¤ªä½äº†ï¼Œè¿™ä¸ªè¿ç§»æ—¶é—´å’Œæœ€é•¿ TTL æ—¶é—´ç›¸å½“ï¼Œ
éœ€è¦ä¸»åŠ¨å°†è¿™ä¸ªæ•°æ®ä» &lt;code&gt;OLD_CLUSTER&lt;/code&gt; è¿ç§»åˆ° &lt;code&gt;NEW_CLUSTER&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œä½¿ç”¨ &lt;code&gt;randomkey&lt;/code&gt; è·å–ä¸€æ‰¹æ•°æ®ï¼Œç„¶åæŒ‰åŠ¨æ€è¿ç§»æ•°æ®æ–¹æ³•è¿›è¡Œè¿ç§»ã€‚&lt;/p&gt;
&lt;h3 id="pipeline"&gt;pipeline&lt;/h3&gt;
&lt;p&gt;å¦‚æœåœ¨ä¸šåŠ¡é€»è¾‘ä¸­ä½¿ç”¨äº† PIPELINEï¼Œå°±ä¼šé‡åˆ°é—®é¢˜ï¼Œéœ€è¦æ”¹å†™æ‰ä¸šåŠ¡æ–¹æ¡ˆï¼Œ
å¾…è¿ç§»å®Œæˆä¹‹åï¼Œå†è¿›è¡Œæ¢å¤ã€‚&lt;/p&gt;
&lt;h3 id="multikey"&gt;multikey&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;mget&lt;/code&gt; / &lt;code&gt;mset&lt;/code&gt; ç­‰å¤šé”®æ“ä½œæ–¹æ³•éœ€è¦æ³¨æ„æ‹†è§£ keyï¼Œç„¶åä¸€ä¸€ &lt;code&gt;dump&lt;/code&gt; / &lt;code&gt;restore&lt;/code&gt; /
&lt;code&gt;ttl&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id="zheng-shi-cao-zuo_1"&gt;æ­£å¼æ“ä½œ&lt;/h2&gt;
&lt;p&gt;çº¿ä¸Šæ“ä½œçš„æ•°æ®ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;# 0.483 g db0&lt;/span&gt;
&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mo"&gt;05&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;444&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;__main__&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;INFO&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dumps&lt;/span&gt; &lt;span class="n"&gt;keys&lt;/span&gt; &lt;span class="mi"&gt;1014&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;1375371&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;...,&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;974.183676004&lt;/span&gt;
&lt;span class="cp"&gt;# 4.552 g db1&lt;/span&gt;
&lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;38&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;36&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;422&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;__main__&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;INFO&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dumps&lt;/span&gt; &lt;span class="n"&gt;keys&lt;/span&gt; &lt;span class="mi"&gt;1392&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;7711834&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;...,&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;3076.41647506&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é™„ä¸Š Migration Scriptï¼š&lt;a href="https://gist.github.com/alswl/e96a5308ebac4f69f809f9ba56dfe168"&gt;https://blog.alswl.com/2015/07/redis-migration/ Redis Cluster Migration&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-body"&gt;
   &lt;small&gt;åŸæ–‡é“¾æ¥: &lt;a href="https://blog.alswl.com/2015/07/redis-migration/"&gt;https://blog.alswl.com/2015/07/redis-migration/&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;a href="http://mp.weixin.qq.com/mp/getmasssendmsg?__biz=MzIyNTIwMTU3MQ==#wechat_webview_type=1&amp;wechat_redirect"&gt;çª¥è±¹&lt;/a&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;&lt;img src="https://ohsolnxaa.qnssl.com/upload_dropbox/201605/qrcode_for_gh_17e2f9c2caa4_258.jpg"/&gt;&lt;/small&gt;&lt;br&gt;
   &lt;small&gt;3a1ff193cee606bd1e2ea554a16353ee&lt;/small&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">alswl</dc:creator><pubDate>Sun, 26 Jul 2015 15:33:49 +0800</pubDate><guid isPermaLink="false">tag:blog.alswl.com,2015-07-26:2015/07/redis-migration/</guid><category>Redis</category></item></channel></rss>